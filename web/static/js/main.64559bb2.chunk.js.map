{"version":3,"sources":["components/Header/styles.module.scss","containers/ExpandedEdit/styles.module.scss","containers/Thread/styles.module.scss","components/AddPost/styles.module.scss","components/ArhivPost/styles.module.scss","containers/Arhiv/styles.module.scss","containers/ExpandedPost/styles.module.scss","components/Logo/styles.module.scss","components/Post/styles.module.scss","components/SharedPostLink/styles.module.scss","components/Comment/styles.module.scss","containers/ExpandedInfo/styles.module.scss","helpers/webApiHelper.js","services/imageService.js","services/postService.js","helpers/mailData.js","services/mailService.js","services/commentService.js","containers/Thread/actionTypes.js","containers/Thread/actions.js","containers/Arhiv/actionTypes.js","components/Messages/index.jsx","services/stringservice.jsx","components/Messages/messIcons.jsx","components/AddComment/index.jsx","components/Post/index.jsx","helpers/imageHelper.js","components/Comment/index.jsx","components/Spinner/index.jsx","containers/ExpandedPost/index.jsx","containers/ExpandedEdit/index.jsx","containers/ExpandedInfo/index.jsx","components/AddPost/index.jsx","components/SharedPostLink/index.jsx","containers/Thread/index.jsx","components/Notifications/index.jsx","services/authService.js","containers/Profile/actionTypes.js","containers/Profile/actions.js","components/Logo/index.jsx","components/LoginForm/index.jsx","containers/LoginPage/index.jsx","components/RegistrationForm/index.jsx","containers/RegistrationPage/index.jsx","components/PasswordForm/index.jsx","containers/PasswordPage/index.jsx","components/Header/index.jsx","containers/Profile/index.jsx","components/ArhivPost/index.jsx","containers/Arhiv/actions.js","containers/Arhiv/index.jsx","containers/SharedPost/index.jsx","scenes/NotFound/index.jsx","containers/PrivateRoute/index.jsx","containers/PublicRoute/index.jsx","containers/Routing/index.jsx","containers/Thread/reducerModal.js","store.js","containers/Thread/reducer.js","containers/Profile/reducer.js","containers/Arhiv/reducer.js","scenes/Home/index.jsx","index.jsx","containers/Profile/styles.module.scss"],"names":["module","exports","getFetchUrl","args","process","endpoint","query","queryString","getFetchArgs","headers","attachment","Accept","body","token","localStorage","getItem","skipAuthorization","Authorization","type","Error","formData","FormData","append","request","JSON","stringify","method","signal","ct","throwIfResponseFailed","res","a","ok","parsedException","json","callWebApi","fetch","uploadImage","image","response","createImage","deleteImage","imageId","deleteTmptImage","getAllPosts","filter","getReactList","postId","addPost","updatePost","getPost","id","deletePost","getAllArhivPosts","restorePost","likePost","isLike","dislikePost","docHeader","docRowA","createMailText","address","email","pwdhash","mail","hash","resetForm","saveState","userId","localState","state","setItem","dateToLocale","data","dataText","Date","toLocaleDateString","timeText","toLocaleTimeString","sendMail","sendResetMail","sendPostReaction","post","user","text","cons","username","window","location","origin","message","mailThema","htmlText","getComment","commentId","addComment","updateComment","deleteComment","likeComment","dislikeComment","ADD_POST","SET_ALL_POSTS","setPostsAction","posts","addMorePostsAction","addPostAction","updateArhivAction","setExpandedPostAction","setExpandedEditAction","editpost","setExpandedPostInfo","infolist","setExpandedCommentInfo","dispatch","getRootState","postService","result","updPost","mapUpdate","expandedPost","updated","map","item","toggleExpandedPost","undefined","toggleEditPost","toggleInfoPanel","taglist","obj","toggleCommentPanel","comment","commentService","dopp","diff","profile","mapLikes","mailService","likeCount","Number","dislikeCount","toggleSendMail","showPoint","lF","String","fromCharCode","formatString","split","forEach","index","array","push","length","loadMailAddress","sessionStorage","err","saveMailAddress","oK","MyModal","isShowing","hide","caps","mode","ico","butts","className","onClick","onKeyUp","ReactDOM","createPortal","aria-modal","aria-hidden","tabIndex","role","src","alt","document","ModalWindow","props","caption","doHide","bind","doShow","addEventListener","this","handleKeyPress","removeEventListener","event","stopImmediatePropagation","logick","mess","callback","setVisiAction","currentTarget","innerText","showing","React","Component","ModalMessage","connect","rootState","modals","modalWnd","showModal","setTimeout","getElementById","focus","likeMess","Post","sharePost","current","commentCount","createdAt","mycount","date","moment","fromNow","ascdeletePost","Card","styles","postCard","Image","postImage","link","wrapped","Content","Meta","status","Description","extra","Label","basic","size","as","toolbarBtn","Icon","name","editlabels","getUserImgLink","Comment","editComment","toggleInfo","likeCou","dislikeCou","Avatar","Author","Metadata","Text","idd","AddComment","useState","setBody","cancelEdit","content","handleAddComment","Form","reply","onSubmit","TextArea","value","placeholder","onChange","ev","target","Button","labelPosition","icon","primary","style","backgroundColor","Spinner","Dimmer","active","inverted","Loader","actions","mapExpandedPost","comments","mapPosts","updatedPosts","comId","newBody","mapComment","deleted","bindActionCreators","editComFunction","like","dislike","likeCom","dislikeCom","toggle","toggleEdit","toggleComment","addComm","updComm","deleteCom","editCom","param","Modal","comentsForm","open","onClose","Group","maxWidth","dividing","sort","c1","c2","key","expandedEdit","bodyedit","linkedit","edited","setEdited","oldLink","oldHash","deleteHash","setImage","tmptHash","setTmptHash","isUploading","setIsUploading","ascSavePost","handleUploadFile","files","handleUpdatePost","newImage","elem","editForm","Segment","rows","imageWrapper","color","loading","disabled","hidden","floated","PropTypes","func","isRequired","listInfo","infomode","togglePost","appends","count","i","Feed","Event","height","marginLeft","likes","dislikes","infoEvent","infoLabel","infoForm","infoTopCard","infoCard","AddPost","handleAddPost","imageService","formatMailString","formatPost","SharedPostLink","signature","close","curAdress","curThema","curList","parse","setAdress","setMailThema","mailList","setMailList","mailText","setMailText","handleSendMail","rejected","indexOf","modalForm","Header","header","modalLabel","Dropdown","float","width","fluid","multiple","search","options","opt","toLowerCase","startsWith","selection","allowAdditions","onAddItem","e","newList","modalClear","Input","modalCard","Divider","postsFilter","from","Thread","load","loadPosts","loadMore","loadMorePosts","expandedPostInfo","expandedCommentInfo","hasMorePosts","createPost","delPost","sharedPost","setSharedPostId","showOwnPosts","setShowOwnPosts","hideOwnPosts","setHideOwnPosts","showLikedPosts","setLikedPosts","file","threadContent","addPostForm","toolbar","Checkbox","label","checked","pageStart","hasMore","loader","inline","defaultProps","usSocket","loadedPosts","filteredPosts","some","loadedPost","arhivList","arhiv","newPost","login","registration","getCurrentUser","getUserWithNew","userHash","updateCurrentUser","getUserByMail","SET_USER","setToken","setUser","setAuthData","handleAuthResponse","authResponsePromise","authService","Logo","logoWrapper","circular","LoginForm","setEmail","password","setPassword","isLoading","setIsLoading","isEmailValid","setIsEmailValid","isPasswordValid","setIsPasswordValid","handleLoginClick","isValid","usermail","iconPosition","error","onBlur","validator","isEmail","Boolean","signIn","Grid","textAlign","verticalAlign","Column","Message","exact","to","clear","RegistrationForm","signOn","register","setUsername","setLoading","setEmailValid","isUsernameValid","setUsernameValid","setPasswordValid","isLength","min","PasswordForm","redirect","setRedirect","resetPassword","isUser","alert","PasswordPage","Notifications","applyPost","socket","io","useEffect","on","emit","NotificationManager","info","setEditing","logout","headerWrp","centered","container","columns","activeClassName","menuBtn","logoutBtn","direction","Profile","updUser","updateUser","getUserImgHash","setUserName","setStatus","viewMode","iconName","viewType","setViewType","dataedit","imgedit","handleUpdateProfile","stat","testValue","valueName","writeWithPassword","path","preventDefault","paddingTop","profInput","profPass","profButton","testPassword","upduser","ArhivPost","restore","arhivCard","ui","addMoreArhivAction","updatePostList","Arhiv","postList","SharedPost","match","params","postHash","NotFound","marginTop","PrivateRoute","component","isAuthorized","rest","render","pathname","PublicRoute","Routing","applyNewPost","applyUpdatePost","applyDeletePost","signOut","loadUser","loadCurrentUser","LoginPage","RegistrationPage","href","initialShow","history","createBrowserHistory","middlewares","thunk","routerMiddleware","composedEnhancers","compose","applyMiddleware","reducers","action","rootReducer","combineReducers","router","connectRouter","store","createStore","Home"],"mappings":"qFACAA,EAAOC,QAAU,CAAC,UAAY,0BAA0B,UAAY,0BAA0B,QAAU,0B,oBCAxGD,EAAOC,QAAU,CAAC,aAAe,6BAA6B,MAAQ,sBAAsB,SAAW,2B,oBCAvGD,EAAOC,QAAU,CAAC,cAAgB,8BAA8B,YAAc,4BAA4B,QAAU,0B,oBCApHD,EAAOC,QAAU,CAAC,aAAe,6BAA6B,MAAQ,wB,oBCAtED,EAAOC,QAAU,CAAC,WAAa,2BAA2B,UAAY,4B,oBCAtED,EAAOC,QAAU,CAAC,UAAY,0BAA0B,cAAgB,8BAA8B,YAAc,4BAA4B,QAAU,0B,oBCA1JD,EAAOC,QAAU,CAAC,YAAc,8B,oBCAhCD,EAAOC,QAAU,CAAC,YAAc,8B,+ECAhCD,EAAOC,QAAU,CAAC,WAAa,2BAA2B,SAAW,yBAAyB,aAAe,6BAA6B,UAAY,4B,mBCAtJD,EAAOC,QAAU,CAAC,aAAe,6BAA6B,MAAQ,sBAAsB,UAAY,0BAA0B,WAAa,2BAA2B,UAAY,0BAA0B,WAAa,2BAA2B,UAAY,0BAA0B,WAAa,6B,mBCA3SD,EAAOC,QAAU,CAAC,QAAU,0B,mBCA5BD,EAAOC,QAAU,CAAC,SAAW,yBAAyB,YAAc,4BAA4B,SAAW,yBAAyB,UAAY,0BAA0B,UAAY,4B,8NCGtL,SAASC,EAAYC,GACnB,MAHqCC,4CAGxBD,EAAKE,UAAYF,EAAKG,MAAL,WAAiBC,YAAsBJ,EAAKG,QAAW,IAGvF,SAASE,EAAaL,GACpB,IAAMM,EAAU,GACXN,EAAKO,aACRD,EAAQ,gBAAkB,mBAC1BA,EAAQE,OAAS,oBAEnB,IAIIC,EAJEC,EAAQC,aAAaC,QAAQ,SAKnC,GAJIF,IAAUV,EAAKa,oBACjBP,EAAQQ,cAAR,iBAAkCJ,IAGhCV,EAAKO,WAAY,CACnB,GAAkB,QAAdP,EAAKe,KACP,MAAM,IAAIC,MAAM,6CAElB,IAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASnB,EAAKO,YAC9BE,EAAOQ,OACF,GAAIjB,EAAKoB,QAAS,CACvB,GAAkB,QAAdpB,EAAKe,KACP,MAAM,IAAIC,MAAM,8CAElBP,EAAOY,KAAKC,UAAUtB,EAAKoB,SAE7B,OAAO,aACLG,OAAQvB,EAAKe,KACbT,UACAkB,OAAQxB,EAAKyB,IACQ,QAAjBzB,EAAKoB,QAAoB,GAAK,CAAEX,SAIjC,SAAeiB,EAAtB,kC,4CAAO,WAAqCC,GAArC,eAAAC,EAAA,yDACAD,EAAIE,GADJ,wBAECC,EAAkB,qCAFnB,kBAIuBH,EAAII,OAJ3B,OAIDD,EAJC,qEAQGA,EARH,0D,sBAYQ,SAAeE,EAA9B,kC,4CAAe,WAA0BhC,GAA1B,eAAA4B,EAAA,sEACKK,MAChBlC,EAAYC,GACZK,EAAaL,IAHF,cACP2B,EADO,gBAKPD,EAAsBC,GALf,gCAMNA,GANM,4C,sBClDR,IAAMO,EAAW,uCAAG,WAAMC,GAAN,eAAAP,EAAA,sEACFI,EAAW,CAChC9B,SAAU,yBACVa,KAAM,OACNR,WAAY4B,IAJW,cACnBC,EADmB,yBAMlBA,EAASL,QANS,2CAAH,sDASXM,EAAW,uCAAG,WAAMjB,GAAN,eAAAQ,EAAA,sEACFI,EAAW,CAChC9B,SAAU,eACVa,KAAM,OACNK,YAJuB,cACnBgB,EADmB,yBAMlBA,EAASL,QANS,2CAAH,sDASXO,EAAW,uCAAG,WAAMC,GAAN,eAAAX,EAAA,sEACFI,EAAW,CAChC9B,SAAS,eAAD,OAAiBqC,GACzBxB,KAAM,WAHiB,cACnBqB,EADmB,yBAKlBA,EAASL,QALS,2CAAH,sDAQXS,EAAe,uCAAG,WAAMpB,GAAN,eAAAQ,EAAA,sEACNI,EAAW,CAChC9B,SAAU,yBACVa,KAAM,SACNK,YAJ2B,cACvBgB,EADuB,yBAMtBA,EAASL,QANa,2CAAH,sD,oDC1BfU,EAAW,uCAAG,WAAMC,GAAN,eAAAd,EAAA,sEACFI,EAAW,CAChC9B,SAAU,aACVa,KAAM,MACNZ,MAAOuC,IAJgB,cACnBN,EADmB,yBAMlBA,EAASL,QANS,2CAAH,sDASXY,EAAY,uCAAG,WAAMC,GAAN,eAAAhB,EAAA,sEACHI,EAAW,CAChC9B,SAAU,sBACVa,KAAM,MACNZ,MAAO,CAAEyC,YAJe,cACpBR,EADoB,yBAMnBA,EAASL,QANU,2CAAH,sDASZc,EAAO,uCAAG,WAAMzB,GAAN,eAAAQ,EAAA,sEACEI,EAAW,CAChC9B,SAAU,aACVa,KAAM,OACNK,YAJmB,cACfgB,EADe,yBAMdA,EAASL,QANK,2CAAH,sDASPe,EAAU,uCAAG,WAAM1B,GAAN,eAAAQ,EAAA,sEACDI,EAAW,CAChC9B,SAAU,aACVa,KAAM,MACNK,YAJsB,cAClBgB,EADkB,yBAMjBA,EAASL,QANQ,2CAAH,sDASVgB,EAAO,uCAAG,WAAMC,GAAN,eAAApB,EAAA,sEACEI,EAAW,CAChC9B,SAAS,cAAD,OAAgB8C,GACxBjC,KAAM,QAHa,cACfqB,EADe,yBAKdA,EAASL,QALK,2CAAH,sDAQPkB,EAAU,uCAAG,WAAMD,GAAN,eAAApB,EAAA,sEACDI,EAAW,CAChC9B,SAAS,cAAD,OAAgB8C,GACxBjC,KAAM,WAHgB,cAClBqB,EADkB,yBAKjBA,EAASL,QALQ,2CAAH,sDAQVmB,EAAgB,uCAAG,WAAMR,GAAN,eAAAd,EAAA,sEACPI,EAAW,CAChC9B,SAAU,mBACVa,KAAM,MACNZ,MAAOuC,IAJqB,cACxBN,EADwB,yBAMvBA,EAASL,QANc,2CAAH,sDAShBoB,EAAW,uCAAG,WAAMH,GAAN,eAAApB,EAAA,sEACFI,EAAW,CAChC9B,SAAU,qBACVa,KAAM,MACNK,QAAS,CAAEwB,OAAQI,KAJI,cACnBZ,EADmB,yBAMlBA,EAASL,QANS,2CAAH,sDASXqB,EAAQ,uCAAG,WAAMR,GAAN,eAAAhB,EAAA,sEACCI,EAAW,CAChC9B,SAAU,mBACVa,KAAM,MACNK,QAAS,CACPwB,SACAS,QAAQ,KANU,cAChBjB,EADgB,yBASfA,EAASL,QATM,2CAAH,sDAYRuB,EAAW,uCAAG,WAAMV,GAAN,eAAAhB,EAAA,sEACFI,EAAW,CAChC9B,SAAU,mBACVa,KAAM,MACNK,QAAS,CACPwB,SACAS,QAAQ,KANa,cACnBjB,EADmB,yBASlBA,EAASL,QATS,2CAAH,sDCpFXwB,EAAY,oHAIZC,EAAU,0FAoBVC,EAAiB,SAACC,EAASC,EAAOC,GAAjB,gBACzBL,EADyB,iBAbF,iQAaE,yBATL,SAACG,EAASG,EAAMC,GAAhB,MACvB,sCAA+BJ,EAA/B,8SAG0BG,EAH1B,2EAGiGC,EAHjG,mJASkDC,CAAUL,EAASC,EAAOC,KAejEI,EAAY,SAACC,EAAQC,GAChC,IACE,IAAMC,EAAQ9C,KAAKC,UAAU4C,GAC7BvD,aAAayD,QAAb,iBAA+BH,GAAUE,GACzC,YAKSE,EAAe,SAAAC,GAC1B,IAAMC,EAAW,IAAIC,KAAKF,GAAMG,qBAC1BC,EAAW,IAAIF,KAAKF,GAAMK,qBAChC,MAAM,GAAN,OAAUJ,EAAV,eAAyBG,ICjDdE,EAAQ,uCAAG,WAAMf,GAAN,eAAAjC,EAAA,sEACCI,EAAW,CAChC9B,SAAU,kBACVa,KAAM,OACNK,QAASyC,IAJW,cAChBzB,EADgB,yBAMfA,EAASL,QANM,2CAAH,sDASR8C,EAAa,uCAAG,WAAMhB,GAAN,eAAAjC,EAAA,sEACJI,EAAW,CAChC9B,SAAU,kBACVa,KAAM,OACNK,QAASyC,IAJgB,cACrBzB,EADqB,yBAMpBA,EAASL,QANW,2CAAH,sDASb+C,EAAmB,SAACC,EAAMC,GACrC,IAAMC,EAAO,UAAGC,EAAH,qBAA8BF,EAAKG,SAAnC,uCAA0ED,EAAkBV,SAA5F,+BACeY,OAAOC,SAASC,OAD/B,kBAC+CP,EAAK/B,GADpD,kDDbU,mBCgBjBuC,EAAU,CAAE5B,MAAOoB,EAAKC,KAAKrB,MAAO6B,UAAW,kBAAmBC,SAAUR,GAClFL,EAASW,ICxBEG,EAAU,uCAAG,WAAM1C,GAAN,eAAApB,EAAA,sEACDI,EAAW,CAChC9B,SAAS,iBAAD,OAAmB8C,GAC3BjC,KAAM,QAHgB,cAClBqB,EADkB,yBAKjBA,EAASL,QALQ,2CAAH,sDAQVY,EAAY,uCAAG,WAAMgD,GAAN,eAAA/D,EAAA,sEACHI,EAAW,CAChC9B,SAAU,4BACVa,KAAM,MACNZ,MAAO,CAAEwF,eAJe,cACpBvD,EADoB,yBAMnBA,EAASL,QANU,2CAAH,sDASZ6D,EAAU,uCAAG,WAAMxE,GAAN,eAAAQ,EAAA,sEACDI,EAAW,CAChC9B,SAAU,iBACVa,KAAM,OACNK,YAJsB,cAClBgB,EADkB,yBAMjBA,EAASL,QANQ,2CAAH,sDASV8D,GAAa,uCAAG,WAAMzE,GAAN,eAAAQ,EAAA,sEACJI,EAAW,CAChC9B,SAAU,iBACVa,KAAM,MACNK,YAJyB,cACrBgB,EADqB,yBAMpBA,EAASL,QANW,2CAAH,sDASb+D,GAAa,uCAAG,WAAMH,GAAN,eAAA/D,EAAA,sEACJI,EAAW,CAChC9B,SAAS,iBAAD,OAAmByF,GAC3B5E,KAAM,WAHmB,cACrBqB,EADqB,yBAKpBA,EAASL,QALW,2CAAH,sDAQbgE,GAAW,uCAAG,WAAMJ,GAAN,eAAA/D,EAAA,sEACFI,EAAW,CAChC9B,SAAU,sBACVa,KAAM,MACNK,QAAS,CACPuE,YACAtC,QAAQ,KANa,cACnBjB,EADmB,yBASlBA,EAASL,QATS,2CAAH,sDAYXiE,GAAc,uCAAG,WAAML,GAAN,eAAA/D,EAAA,sEACLI,EAAW,CAChC9B,SAAU,sBACVa,KAAM,MACNK,QAAS,CACPuE,YACAtC,QAAQ,KANgB,cACtBjB,EADsB,yBASrBA,EAASL,QATY,2CAAH,sDCzDdkE,GAAW,uBACXC,GAAgB,4BCcvBC,GAAiB,SAAAC,GAAK,MAAK,CAC/BrF,KAAMmF,GACNE,UAGIC,GAAqB,SAAAD,GAAK,MAAK,CACnCrF,KDnB6B,8BCoB7BqF,UAGIE,GAAgB,SAAAvB,GAAI,MAAK,CAC7BhE,KAAMkF,GACNlB,SAGIwB,GAAoB,SAAAH,GAAK,MAAK,CAClCrF,KC/BkC,mBDgClCqF,UAGII,GAAwB,SAAAzB,GAAI,MAAK,CACrChE,KDhC+B,gCCiC/BgE,SAGI0B,GAAwB,SAAAC,GAAQ,MAAK,CACzC3F,KDpC2B,wBCqC3B2F,aAGIC,GAAsB,SAAAC,GAAQ,MAAK,CACvC7F,KDxCiC,uBCyCjC6F,aAGIC,GAAyB,SAAAD,GAAQ,MAAK,CAC1C7F,KD5CoC,0BC6CpC6F,aAmDW9D,GAAa,SAAAiC,GAAI,8CAAI,WAAO+B,EAAUC,GAAjB,+BAAAnF,EAAA,sEACXoF,EAAuBjC,GADZ,cAC1BkC,EAD0B,OAExBjE,EAAOiE,EAAO,GAAdjE,GAFwB,SAGVgE,EAAoBhE,GAHV,OAG1BkE,EAH0B,OAI1BC,EAAY,iCACbD,IAL2B,EAOWH,IAPX,IAOxBX,MAASA,EAPe,EAOfA,MAAOgB,EAPQ,EAORA,aAClBC,EAAUjB,EAAMkB,KAAI,SAAAC,GAAI,OAAKA,EAAKvE,KAAOA,EAAKuE,EAAOJ,OAC3DL,EAASX,GAAekB,IACpBD,GAAgBA,EAAapE,KAAOA,GACtC8D,EAASN,GAAsBW,MAXD,4CAAJ,yDAiCjBK,GAAqB,SAAA5E,GAAM,8CAAI,WAAMkE,GAAN,eAAAlF,EAAA,0DAC7BgB,EAD6B,gCACdoE,EAAoBpE,GADN,mDACgB6E,EADhB,OACpC1C,EADoC,KAE1C+B,EAASN,GAAsBzB,IAFW,2CAAJ,uDAK3B2C,GAAiB,SAAA9E,GAAM,8CAAI,WAAMkE,GAAN,eAAAlF,EAAA,0DACrBgB,EADqB,gCACNoE,EAAoBpE,GADd,mDACwB6E,EADxB,OAChCf,EADgC,KAEtCI,EAASL,GAAsBC,IAFO,2CAAJ,uDAKvBiB,GAAkB,SAAA5C,GAAI,8CAAI,WAAM+B,GAAN,eAAAlF,EAAA,0DACrBmD,EADqB,gCACRiC,EAAyBjC,EAAK/B,IADtB,mDAC4ByE,EAD5B,OAC/BG,EAD+B,KAGrCd,EAASH,GADQ5B,EAAO,CAAE8C,IAAK9C,EAAM6C,gBAAYH,IAFZ,4CAAJ,uDAMtBK,GAAqB,SAAAC,GAAO,8CAAI,WAAMjB,GAAN,eAAAlF,EAAA,0DAC3BmG,EAD2B,gCACXC,EAA4BD,EAAQ/E,IADzB,mDAC+ByE,EAD/B,OACrCG,EADqC,KAG3Cd,EAASD,GADQkB,EAAU,CAAEF,IAAKE,EAASH,gBAAYH,IAFZ,4CAAJ,uDAM5BrE,GAAW,SAAAR,GAAM,8CAAI,WAAOkE,EAAUC,GAAjB,mCAAAnF,EAAA,sEACLoF,EAAqBpE,GADhB,gBACxBI,EADwB,EACxBA,GAAIiF,EADoB,EACpBA,KACNC,EAAOlF,EAAK,GAAK,EAFS,EAGoB+D,IAHpB,IAGxBX,MAASA,EAHe,EAGfA,MAAOgB,EAHQ,EAGRA,aAAgBe,EAHR,EAGQA,QAClCC,EAAW,SAAArD,GAEf,OADAsD,EAA6BtD,EAAMoD,EAAQnD,MACpC,2BACFD,GADL,IAEEuD,UAAWC,OAAOxD,EAAKuD,WAAaJ,EACpCM,aAAcD,OAAOxD,EAAKyD,cAAgBP,KAGxCZ,EAAUjB,EAAMkB,KAAI,SAAAvC,GAAI,OAAKA,EAAK/B,KAAOJ,EAASmC,EAAOqD,EAASrD,MACxE+B,EAASX,GAAekB,IACpBD,GAAgBA,EAAapE,KAAOJ,GACtCkE,EAASN,GAAsB4B,EAAShB,KAfV,4CAAJ,yDAmBjB9D,GAAc,SAAAV,GAAM,8CAAI,WAAOkE,EAAUC,GAAjB,iCAAAnF,EAAA,sEACRoF,EAAwBpE,GADhB,gBAC3BI,EAD2B,EAC3BA,GAAIiF,EADuB,EACvBA,KACNC,EAAOlF,EAAK,GAAK,EACjBoF,EAAW,SAAArD,GAAI,kCAChBA,GADgB,IAEnByD,aAAcD,OAAOxD,EAAKyD,cAAgBN,EAC1CI,UAAWC,OAAOxD,EAAKuD,WAAaL,KANH,EAQQlB,IARR,IAQ3BX,MAASA,EARkB,EAQlBA,MAAOgB,EARW,EAQXA,aAClBC,EAAUjB,EAAMkB,KAAI,SAAAvC,GAAI,OAAKA,EAAK/B,KAAOJ,EAASmC,EAAOqD,EAASrD,MACxE+B,EAASX,GAAekB,IACpBD,GAAgBA,EAAapE,KAAOJ,GACtCkE,EAASN,GAAsB4B,EAAShB,KAZP,4CAAJ,yDAgBpBqB,GAAc,uCAAG,WAAM5E,GAAN,eAAAjC,EAAA,sEACPyG,EAAqBxE,GADd,cACtBoD,EADsB,yBAErBA,GAFqB,2CAAH,sDAIdpC,GAAa,uCAAG,WAAMhB,GAAN,eAAAjC,EAAA,sEACNyG,EAA0BxE,GADpB,cACrBoD,EADqB,yBAEpBA,GAFoB,2CAAH,sD,IE7ItByB,G,sCCtDSC,GAAKC,OAAOC,aAAa,IAEzBC,GAAe,SAAA7D,GAC1B,IAAMgC,EAAS,GAKf,OAJAhC,EAAK8D,MAAMJ,IAAIK,SAAQ,SAACzB,EAAM0B,EAAOC,GACnCjC,EAAOkC,KAAK5B,GACR0B,EAAQC,EAAME,OAAS,GAAGnC,EAAOkC,KAAK,iCAErClC,GAKIoC,GAAkB,WAC7B,IACE,OAAOC,eAAe1I,QAJT,eAKb,MAAO2I,GACP,MAAO,KAIEC,GAAkB,SAAA9F,GAC7B,IACE4F,eAAelF,QAZF,cAYoBV,GACjC,Y,iDDlBS+F,I,OAAK,MAElB,SAASC,GAAT,GAAmD,IAAhCC,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,KAAMC,EAAQ,EAARA,KACxC,IAAkB,IAAdH,EAAoB,CACtB,IAAII,EACEC,EAAQ,GAqBd,OApBIF,GACFE,EAAMb,KACJ,4BAAQnG,GAAG,WAAWjC,KAAK,SAASkJ,UAAU,eAAeC,QAASN,GACnEH,KAGLO,EAAMb,KACJ,4BAAQnG,GAAG,WAAWjC,KAAK,SAASkJ,UAAU,eAAeC,QAASN,GAAtE,WAIFG,EEdgB,8hCFgBhBC,EAAMb,KACJ,4BAAQnG,GAAG,WAAWjC,KAAK,SAASkJ,UAAU,eAAeC,QAASN,EAAMO,QAASP,GAClFH,KAGLM,EEhCkB,6hCFkCbK,IAASC,aACd,oCACE,yBAAKJ,UAAU,kBACf,yBAAKA,UAAU,gBAAgBK,cAAA,EAAWC,eAAA,EAAYC,UAAW,EAAGC,KAAK,UACvE,yBAAKR,UAAU,SACb,yBAAKA,UAAU,gBACb,yBAAKS,IAAKX,EAAKhJ,KAAK,eAAe4J,IAAI,OAAOV,UAAU,cACxD,yBAAKA,UAAU,eACZJ,IAGL,yBAAKI,UAAU,gBACZD,MAIJY,SAASnK,MAGlB,OAAO,KAIF,IAAMoK,GAAb,oDACE,WAAYC,GAAQ,IAAD,+BACjB,cAAMA,IACDC,QAAU,GACf,EAAKC,OAAS,EAAKA,OAAOC,KAAZ,iBACd,EAAKC,OAAS,EAAKA,OAAOD,KAAZ,iBACdvC,GAAY,EAAKwC,OALA,EADrB,iEAUIN,SAASO,iBAAiB,UAAWC,KAAKC,gBAAgB,KAV9D,6CAcIT,SAASU,oBAAoB,UAAWF,KAAKC,gBAAgB,KAdjE,qCAiBiBE,GACbA,EAAMC,2BACNJ,KAAKK,QAAS,IAnBlB,6BAsBSC,GAA2C,IAArC5B,EAAoC,wDAAtB6B,EAAsB,4DAAXlE,EACpC2D,KAAKL,QAAUW,EACfN,KAAKtB,KAAOA,EACZsB,KAAKO,SAAWA,EAH+B,IAIvCC,EAAkBR,KAAKN,MAAvBc,cACRA,GAAc,KA3BlB,6BA8BSL,GACLH,KAAKL,QAAU,IAEfa,EAD0BR,KAAKN,MAAvBc,gBACM,GACVR,KAAKO,UAAUP,KAAKO,SAASJ,EAAMM,cAAcC,aAlCzD,+BAqCY,IACAC,EAAYX,KAAKN,MAAjBiB,QACR,OACE,kBAACrC,GAAD,CAASC,UAAWoC,EAASnC,KAAMwB,KAAKJ,OAAQnB,KAAMuB,KAAKL,QAASjB,KAAMsB,KAAKtB,WAxCrF,GAAiCkC,IAAMC,WA4DhC,IAAMC,GAAeC,aAV5B,SAAyBC,GACvB,MAAO,CAAEL,QAASK,EAAUC,OAAOC,aAGrC,SAA4BxF,GAC1B,MAAO,CACL8E,cAAe,SAAAU,GAAQ,OAAIxF,EFwLtB,CACL/F,KDjS2B,qBCkS3BgL,QE1LiDO,QAIzBH,CAA6CtB,IAElE,SAAS0B,GAAUb,EAAM5B,EAAM6B,GACpCjD,GAAUgD,EAAM5B,EAAM6B,GACtBa,YAAW,kBAAM5B,SAAS6B,eAAe,YAAYC,UAAS,M,IGrH5D/G,G,oBCIEgH,GAAW,4CAqIFC,GAlIF,SAAC,GAWP,IAVL7H,EAUI,EAVJA,KACA3B,EASI,EATJA,SACAE,EAQI,EARJA,YACAL,EAOI,EAPJA,WACAuE,EAMI,EANJA,mBACAE,EAKI,EALJA,eACAC,EAII,EAJJA,gBACAkF,EAGI,EAHJA,UACAC,EAEI,EAFJA,QACApK,EACI,EADJA,OAGEM,EASE+B,EATF/B,GACAb,EAQE4C,EARF5C,MACA1B,EAOEsE,EAPFtE,KACAuE,EAMED,EANFC,KACAsD,EAKEvD,EALFuD,UACAE,EAIEzD,EAJFyD,aACAuE,EAGEhI,EAHFgI,aACAC,EAEEjI,EAFFiI,UACAC,EACElI,EADFkI,QAEIC,EAAOC,IAAOH,GAAWI,UAE/B,SAASC,EAAc9H,GACjBA,IAAYkE,IAAIxG,EAAW8B,EAAK/B,IAkDtC,OAAMiK,GAAuB,MAAZA,GAAgC,IAAXvK,GAAgBoK,IAAY9H,EAAKhC,GAsChE,KApCH,kBAACsK,GAAA,EAAD,CAAMrD,UAAWsD,KAAOC,UACrBrL,GAAS,kBAACsL,GAAA,EAAD,CAAOxD,UAAWsD,KAAOG,UAAWhD,IAAKvI,EAAMwL,KAAMC,SAAO,IACtE,kBAACN,GAAA,EAAKO,QAAN,KACE,kBAACP,GAAA,EAAKQ,KAAN,KACE,0BAAM7D,UAAU,QAAhB,YAEG,IACAjF,EAAKG,SACL,MACA+H,EACAlI,EAAK+I,OAAS,CAAC,6BAAD,aAAe/I,EAAK+I,OAApB,YAAkCtG,IAGrD,kBAAC6F,GAAA,EAAKU,YAAN,KACGlF,GAAarI,KAGlB,kBAAC6M,GAAA,EAAKO,QAAN,CAAcI,OAAK,GAChBnB,IAAY9H,EAAKhC,GAnEjB,CACL,kBAACkL,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAMqC,GAAUI,MACtF,kBAAC4B,GAAA,EAAD,CAAMC,KAAK,cACVlG,GAEH,kBAAC4F,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAMqC,GAAUI,MACtF,kBAAC4B,GAAA,EAAD,CAAMC,KAAK,gBACVhG,IAKE,CACL,kBAAC0F,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAM9G,EAASJ,KACrF,kBAACuL,GAAA,EAAD,CAAMC,KAAK,cACVlG,GAEH,kBAAC4F,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAM5G,EAAYN,KACxF,kBAACuL,GAAA,EAAD,CAAMC,KAAK,gBACVhG,IAiDC,kBAAC0F,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAM1C,EAAmBxE,KAC/F,kBAACuL,GAAA,EAAD,CAAMC,KAAK,YACVzB,GAEH,kBAACmB,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAM2C,EAAU9H,KACtF,kBAACwJ,GAAA,EAAD,CAAMC,KAAK,iBADb,UAIC1B,IAAY9H,EAAKhC,GArD1B,WACE,IAAMiE,EAAS,CACb,kBAACiH,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAMxC,EAAe1E,KAC3F,kBAACuL,GAAA,EAAD,CAAMC,KAAK,SADb,SAmBF,OAdIvL,GACFgE,EAAOkC,KACL,kBAAC+E,GAAA,EAAD,CACEC,OAAK,EACLC,KAAK,QACLC,GAAG,IACHpE,UAAWsD,KAAOe,WAClBpE,QAAS,kBAAMqC,GApET,qCAoE4B,EAAMc,KAExC,kBAACkB,GAAA,EAAD,CAAMC,KAAK,UAPb,WAYGvH,EAgCsBwH,QAAehH,EACtC,kBAACyG,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAMvC,EAAgB5C,KAC5F,kBAACwJ,GAAA,EAAD,CAAMC,KAAK,SADb,WCrHGE,GAAiB,SAAAvM,GAAK,OAAKA,EACpCA,EAAMwL,KACN,0E,oBCkGWgB,GAxFC,SAAC,GAUX,IARF5G,EAQC,EARDA,QACAhC,EAOC,EAPDA,YACAC,EAMC,EANDA,eACA4I,EAKC,EALDA,YACA9I,EAIC,EAJDA,cACA+I,EAGC,EAHDA,WACA/B,EAEC,EAFDA,QAGM9J,EAAmD+E,EAAnD/E,GAAIvC,EAA+CsH,EAA/CtH,KAAMuM,EAAyCjF,EAAzCiF,UAAWhI,EAA8B+C,EAA9B/C,KAAM8J,EAAwB/G,EAAxB+G,QAASC,EAAehH,EAAfgH,WAqC5C,OACE,kBAAC,IAAD,CAAW9E,UAAWsD,KAAOxF,SAC3B,kBAAC,IAAUiH,OAAX,CAAkBtE,IAAKgE,GAAe1J,EAAK7C,SAC3C,kBAAC,IAAU0L,QAAX,KACE,kBAAC,IAAUoB,OAAX,CAAkBZ,GAAG,KAClBrJ,EAAKG,UAER,kBAAC,IAAU+J,SAAX,KACG/B,IAAOH,GAAWI,WAErB,kBAAC,IAAU+B,KAAX,KACGnK,EAAK+I,OAAL,aAAoB/I,EAAK+I,OAAzB,WAAsCtG,GAEzC,kBAAC,IAAU0H,KAAX,KACGrG,GAAarI,KAGlB,kBAAC,IAAUoN,QAAX,KACE,kBAAC,IAAUsB,KAAX,KACGnK,EAAKhC,KAAO8J,EAlDZ,CACL,kBAACoB,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAMqC,GArBnE,iDAsBT,kBAACgC,GAAA,EAAD,CAAMC,KAAK,cACVM,GAEH,kBAACZ,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAMqC,GAzBnE,iDA0BT,kBAACgC,GAAA,EAAD,CAAMC,KAAK,gBACVO,GAEH,kBAACb,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAM0E,EAAY,CAAE5L,KAAIvC,WAC9F,kBAAC8N,GAAA,EAAD,CAAMC,KAAK,SADb,QAIA,kBAACN,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAlBxDkF,EAkByEpM,OAhB3FuJ,GAhBY,wCAgBO,GADF,SAAAhH,GAAiBA,IAAYkE,IAAI3D,EAAcsJ,MADlE,IAAoBA,IAmBd,kBAACb,GAAA,EAAD,CAAMC,KAAK,UADb,WAOK,CACL,kBAACN,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAMnE,EAAY/C,KACxF,kBAACuL,GAAA,EAAD,CAAMC,KAAK,cACVM,GAEH,kBAACZ,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAMlE,EAAehD,KAC3F,kBAACuL,GAAA,EAAD,CAAMC,KAAK,gBACVO,IAwBC,kBAACb,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAM2E,EAAW9G,KACvF,kBAACwG,GAAA,EAAD,CAAMC,KAAK,SADb,Y,oBHZKa,GA9DI,SAAC,GAKb,IAJLzM,EAII,EAJJA,OACAgD,EAGI,EAHJA,WACAC,EAEI,EAFJA,cACA+I,EACI,EADJA,YACI,EACoBU,mBAAS,IAD7B,mBACG7O,EADH,KACS8O,EADT,KAEEC,EAAa,WACjB5E,SAAS6B,eAAe,UAAUgD,QAAU,eAC5C7E,SAAS6B,eAAe,SAASX,UAAY,GAC7CnG,QAAY8B,EACZ8H,EAAQ,KAEJG,EAAgB,uCAAG,sBAAA9N,EAAA,yDAClBnB,EADkB,qDAInBkF,GAJmB,gCAKfE,EAAc,CAAEF,UAAF,GAAalF,SALZ,6CAOfmF,EAAW,CAAEhD,SAAQnC,SAPN,OASvB+O,IATuB,4CAAH,qDAmBtB,OADAZ,GAPuB,SAAA7G,GACrBpC,GAAYoC,EAAQ/E,GACpB4H,SAAS6B,eAAe,YAAYC,QACpC9B,SAAS6B,eAAe,UAAUgD,QAAU,eAC5C7E,SAAS6B,eAAe,SAASX,UAAjC,yBAA+DnG,IAC/D4J,EAAQxH,EAAQtH,SAIhB,kBAACkP,GAAA,EAAD,CAAMC,OAAK,EAACC,SAAUH,GACpB,yBAAK1M,GAAG,UACR,kBAAC2M,GAAA,EAAKG,SAAN,CACE9M,GAAG,WACH+M,MAAOtP,EACPuP,YAAY,oBACZC,SAAU,SAAAC,GAAE,OAAIX,EAAQW,EAAGC,OAAOJ,UAEpC,kBAACK,GAAA,EAAD,CAAQpN,GAAG,SAASjC,KAAK,SAAS0O,QAAQ,eAAeY,cAAc,OAAOC,KAAK,OAAOC,SAAO,IACjG,kBAACH,GAAA,EAAD,CACErP,KAAK,QACL0O,QAAQ,SACRY,cAAc,OACdC,KAAK,SACLE,MAAO,CAAEC,gBAAiB,OAC1BvG,QAASsF,EACTe,SAAO,M,oBI9CAG,GANC,kBACd,kBAACC,GAAA,EAAD,CAAQC,QAAM,EAACC,UAAQ,GACrB,kBAACC,GAAA,EAAD,CAAQ1C,KAAK,UAAUyC,UAAQ,M,qBCiH7BE,GAAU,CACd3N,YACAE,eACAkE,sBACAE,kBACAC,mBACAG,sBACAlC,WV6EwB,SAAAxE,GAAO,8CAAI,WAAO0F,EAAUC,GAAjB,mCAAAnF,EAAA,sEACdoG,EAA0B,CAAEvH,KAAMW,EAAQX,KAAMmC,OAAQxB,EAAQwB,SADlD,uBAC3BI,EAD2B,EAC3BA,GAD2B,SAEbgF,EAA0BhF,GAFb,OAE7B+E,EAF6B,OAG7BiJ,EAAkB,SAAAjM,GAAI,kCACvBA,GADuB,IAE1BgI,aAAcxE,OAAOxD,EAAKgI,cAAgB,EAC1CkE,SAAS,GAAD,mBAAOlM,EAAKkM,UAAZ,CAAuBlJ,OAE3BmJ,EAAW,SAAAnM,GAAI,kCAChBA,GADgB,IAEnBgI,aAAcxE,OAAOxD,EAAKgI,cAAgB,KAVT,EAaQhG,IAbR,IAa3BX,MAASA,EAbkB,EAalBA,MAAOgB,EAbW,EAaXA,aAClB+J,EAAe/K,EAAMkB,KAAI,SAAAvC,GAAI,OAAKA,EAAK/B,KAAO+E,EAAQnF,OAASmC,EAAOmM,EAASnM,MACrF+B,EAASX,GAAegL,IAClB9J,EAAU2J,EAAgB5J,GAChCN,EAASN,GAAsBa,IAjBI,4CAAJ,yDU5E/BxB,cVgG2B,SAAAzE,GAAO,8CAAI,WAAO0F,EAAUC,GAAjB,+BAAAnF,EAAA,sEACjBoG,GAA6B5G,GADZ,OAChC6F,EADgC,SAEDA,EAAO,GAAhCmK,EAF0B,EAE9BpO,GAAiBqO,EAFa,EAEnB5Q,KACb6Q,EAAa,SAAA/J,GAAI,kCAClBA,GADkB,IAErB9G,KAAM4Q,KAEFL,EAAkB,SAAAjM,GAAI,kCACvBA,GADuB,IAE1BgI,aAAcxE,OAAOxD,EAAKgI,cAAgB,EAC1CkE,SAAUlM,EAAKkM,SAAS3J,KAAI,SAAAS,GAAO,OAAKA,EAAQ/E,KAAOoO,EAAQrJ,EAAUuJ,EAAWvJ,SAVhD,EAYFhB,IAAnBK,EAZqB,EAY9BhB,MAASgB,aACXC,EAAU2J,EAAgB5J,GAChCN,EAASN,GAAsBa,IAdO,2CAAJ,yDU/FlCvB,cVgH2B,SAAAH,GAAS,8CAAI,WAAOmB,EAAUC,GAAjB,uCAAAnF,EAAA,sEACnBoG,GAA6BrC,GADV,OAClCsB,EADkC,SAEjBA,EAAO,GAAtBjE,EAFgC,EAEhCA,GAAIJ,EAF4B,EAE5BA,OACN0O,EAAa,SAAA/J,GAAI,kCAClBA,GADkB,IAErBgK,SAAS,KAELP,EAAkB,SAAAjM,GAAI,kCACvBA,GADuB,IAE1BgI,aAAcxE,OAAOxD,EAAKgI,cAAgB,EAC1CkE,SAAUlM,EAAKkM,SAAS3J,KAAI,SAAAS,GAAO,OAAKA,EAAQ/E,KAAOA,EAAK+E,EAAUuJ,EAAWvJ,SAE7EmJ,EAAW,SAAAnM,GAAI,kCAChBA,GADgB,IAEnBgI,aAAcxE,OAAOxD,EAAKgI,cAAgB,KAdJ,EAgBGhG,IAhBH,IAgBhCX,MAASA,EAhBuB,EAgBvBA,MAAOgB,EAhBgB,EAgBhBA,aAClB+J,EAAe/K,EAAMkB,KAAI,SAAAvC,GAAI,OAAKA,EAAK/B,KAAOJ,EAASmC,EAAOmM,EAASnM,MAC7E+B,EAASX,GAAegL,IAClB9J,EAAU2J,EAAgB5J,GAChCN,EAASN,GAAsBa,IApBS,4CAAJ,0DU3GvB8E,gBAlBS,SAAAC,GAAS,MAAK,CACpCrH,KAAMqH,EAAUhG,MAAMgB,iBAeG,SAAAN,GAAQ,OAAI0K,YAAmBT,GAASjK,KAEpDqF,EA7GM,SAAC,GAgBf,IACDsF,EAhBJ1M,EAeI,EAfJA,KACA8H,EAcI,EAdJA,UACU6E,EAaN,EAbJtO,SACauO,EAYT,EAZJrO,YACasO,EAWT,EAXJ7L,YACgB8L,EAUZ,EAVJ7L,eACoB8L,EAShB,EATJtK,mBACgBuK,EAQZ,EARJrK,eACiBmH,EAOb,EAPJlH,gBACoBqK,EAMhB,EANJlK,mBACYmK,EAKR,EALJrM,WACesM,EAIX,EAJJrM,cACesM,EAGX,EAHJrM,cACAgH,EAEI,EAFJA,QACApK,EACI,EADJA,OAGM0P,EAAU,SAAAC,GAAK,OAAIZ,EAAgBY,IAEzC,OACE,kBAACC,EAAA,EAAD,CAAOrI,UAAWsD,KAAOgF,YAAaC,MAAI,EAACC,QAAS,kBAAMX,MACtD/M,EAEE,kBAACuN,EAAA,EAAMzE,QAAP,KACE,kBAAC,GAAD,CACE9I,KAAMA,EACN3B,SAAUsO,EACVpO,YAAaqO,EACbnK,mBAAoBsK,EACpBpK,eAAgBqK,EAChBpK,gBAAiBkH,EACjBhC,UAAWA,EACXC,QAASA,EACTpK,OAAQA,IAEV,kBAAC,IAAUgQ,MAAX,CAAiBlC,MAAO,CAAEmC,SAAU,SAClC,kBAAC,IAAD,CAAQtE,GAAG,KAAKuE,UAAQ,GAAxB,YAGC7N,EAAKkM,UAAYlM,EAAKkM,SACpB4B,MAAK,SAACC,EAAIC,GAAL,OAAY5F,IAAO2F,EAAG9F,WAAW9E,KAAK6K,EAAG/F,cAC9C1F,KAAI,SAAAS,GACH,OAAKA,EAAQwJ,QAcN,KAZH,kBAAC,GAAD,CACEyB,IAAKjL,EAAQ/E,GACb+E,QAASA,EACThC,YAAa6L,EACb5L,eAAgB6L,EAChB/L,cAAeqM,EACfvD,YAAawD,EACbvD,WAAYmD,EACZlF,QAASA,OAMnB,kBAAC,GAAD,CACElK,OAAQmC,EAAK/B,GACb4C,WAAYqM,EACZpM,cAAeqM,EACftD,YA5CK,SAAAyD,GAAWZ,EAAkBY,OAiDxC,kBAAC,GAAD,U,+BCkDJtB,GAAU,CAAEjO,cAAY4E,mBAIfyE,gBARS,SAAAC,GAAS,MAAK,CACpCrH,KAAMqH,EAAUhG,MAAM6M,iBAKG,SAAAnM,GAAQ,OAAI0K,YAAmBT,GAASjK,KAEpDqF,EArIM,SAAC,GAMf,IALLpH,EAKI,EALJA,KACA7C,EAII,EAJJA,YACAG,EAGI,EAHJA,YACgB0P,EAEZ,EAFJrK,eACYR,EACR,EADJpE,WACI,EACoBwM,mBAASvK,EAAKtE,MADlC,mBACGA,EADH,KACS8O,EADT,OAEwBD,mBAAS,CAAE4D,UAAU,EAAOC,UAAU,IAF9D,mBAEGC,EAFH,KAEWC,EAFX,KAGEC,EAAUvO,EAAK5C,MAAQ4C,EAAK5C,MAAMwL,UAAOlG,EACzC8L,EAAUxO,EAAK5C,MAAQ4C,EAAK5C,MAAMqR,WAAa,GAJjD,EAKsBlE,mBAAS,CAAE3B,KAAM2F,EAASE,WAAYD,IAL5D,mBAKGpR,EALH,KAKUsR,EALV,OAM4BnE,mBAAS,IANrC,mBAMGoE,EANH,KAMaC,EANb,OAOkCrE,oBAAS,GAP3C,mBAOGsE,EAPH,KAOgBC,EAPhB,KAQEjR,EAASmC,EAAK/B,GAEpB,SAAS8Q,EAAYvO,GACfA,IAAYkE,KACViK,GAAUlR,EAAgB,CAAEkR,aAChC3B,KAIJ,IAAMgC,EAAgB,uCAAG,mCAAAnS,EAAA,6DAASuO,EAAT,EAASA,OAChC0D,GAAe,GADQ,SAGjBH,GAAUlR,EAAgB,CAAEkR,aAHX,SAIcxR,EAAYiO,EAAO6D,MAAM,IAJvC,gBAIbrG,EAJa,EAIbA,KAAM6F,EAJO,EAIPA,WACdC,EAAS,CAAE9F,OAAM6F,eACjBH,EAAU,CAAEF,UAAU,IACtBQ,EAAYH,GAPS,yBAUrBK,GAAe,GAVM,2EAAH,sDAmBhBI,EAAgB,uCAAG,8BAAArS,EAAA,yDAClBnB,EADkB,qDAKC,IAApB2S,EAAOD,SALY,qBAMjBpO,EAAKxC,QANY,gCAObD,EAAYyC,EAAKxC,SAPJ,WASJJ,EATI,iCASUE,EAAYF,GATtB,gDAS+B,GAT/B,QASf+R,EATe,KAUrB3R,EAAU2R,EAASlR,GAVE,wBAYrBT,EAAUwC,EAAK5C,MAAQ4C,EAAK5C,MAAMa,QAAKyE,EAZlB,yBAcjBP,EAAQ,CAAEtE,SAAQnC,OAAM8B,YAdP,QAevBwP,IAfuB,4CAAH,qDAwBhBoC,EAAOvJ,SAAS6B,eAAe,YAErC,OADI0H,GAAM3H,YAAW,kBAAM2H,EAAKzH,UAAS,IAEvC,kBAAC4F,EAAA,EAAD,CAAOrI,UAAWsD,KAAO6G,SAAU5B,MAAI,EAACC,QAVtB,YACO,IAApBW,EAAOF,WAA2C,IAApBE,EAAOD,SACxC5G,GA/Dc,oCA+DS,EAAMuH,GAE7B/B,MAOA,kBAACO,EAAA,EAAMzE,QAAP,KACE,kBAACwG,GAAA,EAAD,KACE,kBAAC1E,GAAA,EAAD,CAAME,SAAUoE,GACd,kBAACtE,GAAA,EAAKG,SAAN,CACE9M,GAAG,WACHsR,KAAK,IACL9F,KAAK,OACLuB,MAAOtP,EACPuP,YAAY,oBACZC,SAAU,SAAAC,GACRmD,EAAU,CAAEH,UAAU,IACtB3D,EAAQW,EAAGC,OAAOJ,WAGhB,OAAL5N,QAAK,IAALA,OAAA,EAAAA,EAAOwL,OACN,yBAAK1D,UAAWsD,KAAOgH,cACrB,kBAAC9G,GAAA,EAAD,CAAOxD,UAAWsD,KAAOpL,MAAOuI,IAAKvI,EAAQA,EAAMwL,KAAO,GAAIhD,IAAI,UAGtE,kBAACyF,GAAA,EAAD,CAAQoE,MAAM,OAAOlE,MAAI,EAACD,cAAc,OAAOhC,GAAG,QAAQoG,QAASb,EAAac,SAAUd,GACxF,kBAACrF,GAAA,EAAD,CAAMC,KAAK,UADb,eAGE,2BAAOA,KAAK,QAAQzN,KAAK,OAAOkP,SAAU8D,EAAkBY,QAAM,KAEpE,kBAACvE,GAAA,EAAD,CACEoE,MAAM,SACNlE,MAAI,EACJD,cAAc,OACdhC,GAAG,QACHoG,QAASb,EACTc,SAAUd,EACV1J,QAjEa,WACnBwJ,GAAUlR,EAAgB,CAAEkR,aAChCD,OAAShM,GACT4L,EAAU,CAAEF,UAAU,IACtBQ,EAAY,MA+DF,kBAACpF,GAAA,EAAD,CAAMC,KAAK,WATb,gBAYA,kBAAC4B,GAAA,EAAD,CAAQwE,QAAQ,QAAQJ,MAAM,OAAOzT,KAAK,UACxC,kBAACwN,GAAA,EAAD,CAAMC,KAAK,SADb,oB,iDCcNuC,GAAU,CAAEpJ,mBAAiBG,uBAIpBqE,gBATS,iBAAO,CAC7BxE,gBAAiBkN,KAAUC,KAAKC,WAChCjN,mBAAoB+M,KAAUC,KAAKC,eAKV,SAAAjO,GAAQ,OAAI0K,YAAmBT,GAASjK,KAEpDqF,EA7HM,SAAC,GAKf,IAJL6I,EAII,EAJJA,SAII,IAHJC,gBAGI,SAFaC,EAEb,EAFJvN,gBACoBqK,EAChB,EADJlK,mBACI,IASFD,EAEEmN,EAFFnN,IACAD,EACEoN,EADFpN,QAGAnH,EAGEoH,EAHFpH,KACAuE,EAEE6C,EAFF7C,KACAgI,EACEnF,EADFmF,UAEF,SAASmI,EAAQjM,EAAOkM,GACtB,IAAK,IAAIC,EAAI,EAAGA,GAAKD,EAAOC,GAAK,EAC/BnM,EAAMC,KACJ,kBAACmM,GAAA,EAAKC,MAAN,CAAY/E,MAAO,CAAEgF,OAAQ,SAC3B,kBAACF,GAAA,EAAKpH,MAAN,CAAYsC,MAAO,CAAEiF,WAAY,QAAUtT,MAAM,KACjD,kBAACmT,GAAA,EAAKzH,QAAN,KACG,QAMX,IAAMX,EAAOC,IAAOH,GAAWI,UACzBsI,EAAQ,GACRC,EAAW,GA+BjB,OA9BA/N,EAAQoB,SAAQ,SAAAzB,GACVA,EAAKlE,OACPqS,EAAMvM,KACJ,kBAACmM,GAAA,EAAKC,MAAN,CAAYtL,UAAWsD,KAAOqI,WAC5B,kBAACN,GAAA,EAAKpH,MAAN,CAAYjE,UAAWsD,KAAOsI,UAAW1T,MAAOuM,GAAenH,EAAKvC,KAAK7C,SACzE,kBAACmT,GAAA,EAAKzH,QAAN,KACGtG,EAAKvC,KAAKG,SACV,MACAgI,IAAO5F,EAAKyF,WAAWI,aAK9BuI,EAASxM,KACP,kBAACmM,GAAA,EAAKC,MAAN,CAAYtL,UAAWsD,KAAOqI,WAC5B,kBAACN,GAAA,EAAKpH,MAAN,CAAYjE,UAAWsD,KAAOsI,UAAW1T,MAAOuM,GAAenH,EAAKvC,KAAK7C,SACzE,kBAACmT,GAAA,EAAKzH,QAAN,KACGtG,EAAKvC,KAAKG,SACV,MACAgI,IAAO5F,EAAKyF,WAAWI,gBAM9BsI,EAAMtM,OAASuM,EAASvM,OAC1B+L,EAAQQ,EAAUD,EAAMtM,OAASuM,EAASvM,QAE1C+L,EAAQO,EAAOC,EAASvM,OAASsM,EAAMtM,QAGvC,kBAACkJ,EAAA,EAAD,CAAOrI,UAAWsD,KAAOuI,SAAUtD,MAAI,EAACC,QA9D1C,YACmB,IAAbwC,EACFC,IAEAlD,MA2DA,kBAACM,EAAA,EAAMzE,QAAP,KACE,kBAACP,GAAA,EAAD,CAAMrD,UAAWsD,KAAOwI,aACtB,kBAACzI,GAAA,EAAKO,QAAN,KACE,kBAACP,GAAA,EAAKQ,KAAN,KACE,0BAAM7D,UAAU,QACbgL,EAAW,aAAe,cAC1B,IACAjQ,EAAKG,SACL,MACA+H,IAGL,kBAACI,GAAA,EAAKU,YAAN,KACGlF,GAAarI,MAIpB,kBAAC6M,GAAA,EAAKoF,MAAN,KACE,kBAACpF,GAAA,EAAD,CAAMtK,GAAIuK,KAAOyI,UACf,kBAAC1I,GAAA,EAAKO,QAAN,KACE,kBAAC,IAAD,CAAQ+E,UAAQ,GAAhB,YAEF,kBAAC0C,GAAA,EAAD,KACGI,IAGL,kBAACpI,GAAA,EAAD,CAAMtK,GAAIuK,KAAOyI,UACf,kBAAC1I,GAAA,EAAKO,QAAN,KACE,kBAAC,IAAD,CAAQ+E,UAAQ,GAAhB,eAEF,kBAAC0C,GAAA,EAAD,KACGK,U,qBCrCAM,GApEC,SAAC,GAIV,IAHLpT,EAGI,EAHJA,QACAX,EAEI,EAFJA,YACAG,EACI,EADJA,YACI,EACoBiN,mBAAS,IAD7B,mBACG7O,EADH,KACS8O,EADT,OAEsBD,wBAAS7H,GAF/B,mBAEGtF,EAFH,KAEUsR,EAFV,OAG4BnE,mBAAS,IAHrC,mBAGGoE,EAHH,KAGaC,EAHb,OAIkCrE,oBAAS,GAJ3C,mBAIGsE,EAJH,KAIgBC,EAJhB,KAMEqC,EAAa,uCAAG,8BAAAtU,EAAA,yDACfnB,EADe,oDAIpBkT,EAAY,KACYxR,EALJ,gCAKkBE,EAAYF,GAL9B,+CAKuC,GALvC,sBAKRI,EALQ,EAKZS,GALY,UAMdH,EAAQ,CAAEN,UAAS9B,SANL,QAOpB8O,EAAQ,IACRkE,OAAShM,GARW,4CAAH,qDAWbsM,EAAgB,uCAAG,mCAAAnS,EAAA,6DAASuO,EAAT,EAASA,OAChC0D,GAAe,GADQ,SAGjBH,GAAUyC,EAA6B,CAAEzC,aAHxB,SAIcxR,EAAYiO,EAAO6D,MAAM,IAJvC,gBAIbrG,EAJa,EAIbA,KAAM6F,EAJO,EAIPA,WACdC,EAAS,CAAE9F,OAAM6F,eACjBG,EAAYH,GANS,yBASrBK,GAAe,GATM,2EAAH,sDAatB,OACE,kBAACQ,GAAA,EAAD,KACE,kBAAC1E,GAAA,EAAD,CAAME,SAAUqG,GACd,kBAACvG,GAAA,EAAKG,SAAN,CACEtB,KAAK,OACLuB,MAAOtP,EACPuP,YAAY,oBACZC,SAAU,SAAAC,GAAE,OAAIX,EAAQW,EAAGC,OAAOJ,UAEnC5N,GACC,yBAAK8H,UAAWsD,KAAOgH,cACrB,kBAAC9G,GAAA,EAAD,CAAOxD,UAAWsD,KAAOpL,MAAOuI,IAAKvI,EAAMwL,KAAMhD,IAAI,UAGzD,kBAACyF,GAAA,EAAD,CAAQoE,MAAM,OAAOlE,MAAI,EAACD,cAAc,OAAOhC,GAAG,QAAQoG,QAASb,EAAac,SAAUd,GACxF,kBAACrF,GAAA,EAAD,CAAMC,KAAK,UADb,eAGE,2BAAOA,KAAK,QAAQzN,KAAK,OAAOkP,SAAU8D,EAAkBY,QAAM,KAEpE,kBAACvE,GAAA,EAAD,CAAQwE,QAAQ,QAAQJ,MAAM,OAAOzT,KAAK,UACxC,kBAACwN,GAAA,EAAD,CAAMC,KAAK,SADb,e,kDChDR,SAAS4H,GAAiBrG,GACxB,IAAI9I,EAAS,GAIb,OAHA8I,EAAMhH,MAAMJ,IAAIK,SAAQ,SAAAzB,GACtBN,GAAM,UAAOM,EAAP,cAEDN,EAQT,SAASoP,GAAWtR,GAClB,IAPuB5C,EASvB,MAFe,UlBvBO,uIkBuBP,aAPQA,EAO4B4C,EAAK5C,OANpC,UACb+C,EADa,YlBbC,8IkBaD,YACmB/C,EAAMwL,KADzB,YlBZC,WkBYD,YlBdC,ckBcD,WAEhB,IAIW,UACVzI,EADU,YACMkR,GAAiBrR,EAAKtE,MAD5B,YlBpBM,ckBoBN,YlBjBS,YkBqB1B,SAASgD,GAAewB,EAAMF,GAI5B,MAHe,UAAGG,EAAH,iBAA0BkR,GAAiBnR,GAA3C,kBAA0DoR,GAAWtR,IAArE,uBArBsB9E,4CAqBtB,kBACgB8E,EAAK/B,GADrB,yDlBrBQ,mBkB2BzB,IAwHesT,GArHQ,SAAC,GAKjB,IAJLvR,EAII,EAJJA,KACA+H,EAGI,EAHJA,QACAyJ,EAEI,EAFJA,UACAC,EACI,EADJA,MAEQ/V,EAAiCsE,EAAjCtE,KAAM0B,EAA2B4C,EAA3B5C,MAAO6C,EAAoBD,EAApBC,KAAMgI,EAAcjI,EAAdiI,UADvB,ElBhBmB,SAAA/I,GACvB,IACE,IAAMC,EAAavD,aAAaC,QAAb,iBAA+BqD,IAClD,OAAmB,OAAfC,EACK,CAAEuS,eAAWhP,EAAWiP,cAAUjP,EAAWkP,aAASlP,GAExDpG,KAAKuV,MAAM1S,GAClB,MAAOqF,GACP,MAAO,CAAEkN,eAAWhP,EAAWiP,cAAUjP,EAAWkP,aAASlP,IkBUFvC,CAAe4H,GAApE2J,EAFJ,EAEIA,UAFJ,IAEeC,gBAFf,MARe,oCAQf,MAEwCC,eAFxC,MAEkD,GAFlD,IAGuBrH,mBAASmH,GAHhC,mBAGG9S,EAHH,KAGUkT,EAHV,OAI8BvH,mBAASoH,GAJvC,mBAIGlR,EAJH,KAIcsR,EAJd,OAK4BxH,mBAASqH,GALrC,mBAKGI,EALH,KAKaC,EALb,OAM4B1H,mBAC9B,kBAAW3G,GAAX,iBAAsB3D,EAAKG,SAA3B,uCAAkED,EAAkB8H,GAApF,eACKrE,GADL,8BAC6BA,GAD7B,YACmC4N,IARjC,mBAMGU,EANH,KAMaC,EANb,KAuBEC,EAAc,uCAAG,WAAM5R,GAAN,qBAAA3D,EAAA,yDACjB2D,IAAYkE,GADK,uBAEnBvE,EAAe4H,EAAS,CAAE2J,UAAW9S,EAAO+S,SAAUlR,EAAWmR,QAASI,IACpEtR,EAAWhC,GAAewT,EAAUlS,GAHvB,SAIkB0D,GAAe,CAAE9E,QAAO6B,YAAWC,aAJrD,gBAIX2R,EAJW,EAIXA,UAAUhV,EAJC,EAIDA,UACLiV,QAAQ,MAAQ,EAC3Bb,IAEAjK,GAAU,WAAD,OAAY6K,EAAZ,YAAwBhV,IARhB,2CAAH,sDAapB,OACE,kBAACkQ,EAAA,EAAD,CAAOrI,UAAWsD,KAAO+J,UAAW9E,MAAI,EAACC,QAAS+D,GAChD,kBAAClE,EAAA,EAAMiF,OAAP,CAActN,UAAWsD,KAAOiK,QAC9B,6CAEF,kBAAClF,EAAA,EAAMzE,QAAP,KACE,kBAAC8B,GAAA,EAAD,CAAME,SAAU,kBAAMtD,GAjDV,eAiDiC,EAAM4K,KACjD,kBAACjJ,GAAA,EAAD,CAAOjE,UAAWsD,KAAOkK,YACvB,kBAAClJ,GAAA,EAAD,CAAMC,KAAK,SADb,YAIA,kBAACkJ,GAAA,EAAD,CACElH,MAAO,CAAEmH,MAAO,OAAQC,MAAO,OAC/BC,OAAK,EACLC,UAAQ,EACRC,OA/BkB,SAACC,EAAS7X,GAAV,OAC1B6X,EAAQtV,QAAO,SAAAuV,GAAG,OAAKA,EAAIhT,KAAKiT,cAAcC,WAAWhY,EAAM+X,mBA+BvDE,WAAS,EACTpI,YAAY,gBACZD,MAAOpM,EACP0U,gBAAc,EACdpI,SA9CQ,SAAC1E,EAAD,GAAuB,IAAbwE,EAAY,EAAZA,MAC1B8G,EAAU9G,IA8CFuI,UA5CW,SAACC,EAAGjU,GACvB,IAAMkU,EAAO,sBACRzB,GADQ,CAEX,CAAE/D,IAAK1O,EAAKyL,MAAOA,MAAOzL,EAAKyL,MAAO9K,KAAMX,EAAKyL,SAEnDiH,EAAYwB,IAwCJR,QAASjB,IAEX,yBAAK9M,UAAWsD,KAAOkL,aACvB,6BACA,kBAACvK,GAAA,EAAD,CAAOjE,UAAWsD,KAAOkK,YACvB,kBAAClJ,GAAA,EAAD,CAAMC,KAAK,UADb,aAIA,kBAACkK,GAAA,EAAD,CACEb,OAAK,EACL5N,UAAU,aACV8F,MAAOvK,EACPyK,SAAU,SAAAC,GAAE,OAAI4G,EAAa5G,EAAGC,OAAOJ,UAEzC,yBAAK9F,UAAWsD,KAAOkL,aACvB,6BACA,kBAAC9I,GAAA,EAAKG,SAAN,CACEwE,KAAK,IACLtR,GAAG,WACHwL,KAAK,OACLuB,MAAOkH,EACPjH,YAAY,oBACZC,SAAU,SAAAC,GAAE,OAAIgH,EAAYhH,EAAGC,OAAOJ,UAExC,kBAACzC,GAAA,EAAD,CAAMrD,UAAWsD,KAAOoL,YAChB,OAALxW,QAAK,IAALA,OAAA,EAAAA,EAAOwL,OACN,yBAAK1D,UAAWsD,KAAOgH,cACrB,kBAAC9G,GAAA,EAAD,CAAOxD,UAAWsD,KAAOpL,MAAOuI,IAAKvI,EAAQA,EAAMwL,KAAO,GAAIhD,IAAI,UAGtE,kBAACiO,GAAA,EAAD,MACA,kBAACtL,GAAA,EAAKU,YAAN,KACGlF,GAAarI,KAGlB,kBAAC2P,GAAA,EAAD,CAAQwE,QAAQ,QAAQJ,MAAM,OAAOzT,KAAK,UACxC,kBAACwN,GAAA,EAAD,CAAMC,KAAK,aADb,aAIA,6BACA,iC,oDCpHJqK,GAAc,CAClB5U,YAAQwD,EACRqC,MAAM,EACNgP,KAAM,EACN1D,MAAO,IAGH2D,GAAS,SAAC,GAqBT,IApBL9U,EAoBI,EApBJA,OACAkB,EAmBI,EAnBJA,SACW6T,EAkBP,EAlBJC,UACeC,EAiBX,EAjBJC,cAiBI,IAhBJ/S,aAgBI,MAhBI,GAgBJ,EAfJgB,EAeI,EAfJA,aACA6L,EAcI,EAdJA,aACAmG,EAaI,EAbJA,iBACAC,EAYI,EAZJA,oBACAC,EAWI,EAXJA,aACSC,EAUL,EAVJ1W,QACYqE,EASR,EATJpE,WACU4O,EAQN,EARJtO,SACauO,EAOT,EAPJrO,YACYkW,EAMR,EANJvW,WACa2O,EAKT,EALJ7L,YACgB8L,EAIZ,EAJJ7L,eACoB8L,EAGhB,EAHJtK,mBACgBuK,EAEZ,EAFJrK,eACiBmH,EACb,EADJlH,gBACI,EACkC2H,wBAAS7H,GAD3C,mBACGgS,EADH,KACeC,EADf,OAEoCpK,oBAAS,GAF7C,mBAEGqK,EAFH,KAEiBC,EAFjB,OAGoCtK,oBAAS,GAH7C,mBAGGuK,EAHH,KAGiBC,EAHjB,OAIoCxK,oBAAS,GAJ7C,mBAIGyK,EAJH,KAImBC,EAJnB,KAuCJ,IAMMnN,EAAY,SAAA7J,GAChB0W,EAAgB1W,IAGZd,EAAc,SAAA+X,GAAI,OAAI9D,EAAyB8D,IAC/C5X,EAAc,SAAAF,GAAK,OAAIgU,EAAyBhU,IAEtD,OACE,yBAAK8H,UAAWsD,KAAO2M,eACrB,yBAAKjQ,UAAWsD,KAAO4M,aACrB,kBAAC,GAAD,CAAStX,QAAS0W,EAAYrX,YAAaA,EAAaG,YAAaA,KAEvE,yBAAK4H,UAAWsD,KAAO6M,SACrB,kBAACC,GAAA,EAAD,CACEvI,QAAM,EACNwI,MAAM,gBACNC,QAASZ,EACT1J,SA7CR,WACE6J,GAAgB,GAChBE,GAAc,GACdJ,GAAiBD,GACjBd,GAAY5U,OAAS0V,OAAelS,EAAYxD,EAChD4U,GAAY/O,KAAO6P,EAAe,EAAI,EACtCd,GAAYC,KAAO,EACnBE,EAAKH,IACLA,GAAYC,KAAOD,GAAYzD,OAsCzB5E,MAAO,CAAEiF,WAAY,SAEvB,kBAAC4E,GAAA,EAAD,CACEvI,QAAM,EACNwI,MAAM,gBACNC,QAASV,EACT5J,SAzCR,WACE2J,GAAgB,GAChBI,GAAc,GACdF,GAAiBD,GACjBhB,GAAY5U,OAAS4V,OAAepS,EAAYxD,EAChD4U,GAAY/O,KAAO,EACnB+O,GAAYC,KAAO,EACnBE,EAAKH,IACLA,GAAYC,KAAOD,GAAYzD,OAkCzB5E,MAAO,CAAEiF,WAAY,UAEvB,kBAAC4E,GAAA,EAAD,CACEvI,QAAM,EACNwI,MAAM,cACNC,QAASR,EACT9J,SAtER,WACE2J,GAAgB,GAChBE,GAAgB,GAChBE,GAAeD,GACflB,GAAY5U,OAAS8V,OAAiBtS,EAAYxD,EAClD4U,GAAY/O,KAAO,EACnB+O,GAAYC,KAAO,EACnBE,EAAKH,IACLA,GAAYC,KAAOD,GAAYzD,OA+DzB5E,MAAO,CAAEiF,WAAY,WAGzB,kBAAC,KAAD,CACE+E,UAAW,EACXtB,SA3Ce,WACnBA,EAASL,IADgB,IAEjBC,EAAgBD,GAAhBC,KAAM1D,EAAUyD,GAAVzD,MACdyD,GAAYC,KAAOA,EAAO1D,GAyCtBqF,QAASnB,EACToB,OAAQ,kBAAC5J,GAAA,EAAD,CAAQF,QAAM,EAAC+J,OAAO,WAAW3H,IAAK,KAE7C5M,EAAMkB,KAAI,SAAAvC,GAAI,OACb,kBAAC,GAAD,CACEA,KAAMA,EACN3B,SAAUsO,EACVpO,YAAaqO,EACb1O,WAAYuW,EACZhS,mBAAoBsK,EACpBpK,eAAgBqK,EAChBpK,gBAAiBkH,EACjBhC,UAAWA,EACXC,QAAS7I,EACTvB,OAAQmW,GAAY/O,WAIzB1C,GACC,kBAAC,GAAD,CACEyF,UAAWA,EACX9G,YAAa6L,EACb5L,eAAgB6L,EAChB/E,QAAS7I,EACTvB,OAAQmW,KAGX5F,GACC,kBAAC,GAAD,CACElO,KAAMqC,EACNlF,YAAaA,EACbG,YAAaA,EACbqF,eAAgBqK,EAChBjP,WAAYoE,IAGfkS,GACC,kBAAC,GAAD,CACEpE,SAAUoE,IAGbC,GACC,kBAAC,GAAD,CACErE,SAAUqE,EACVpE,UAAU,IAGbwE,GACC,kBAAC,GAAD,CACE1U,KAAM0U,EACN3M,QAAS7I,EACTsS,UAAWpR,EACXqR,MAAO,kBAAMkD,OAAgBjS,QA8BvCsR,GAAO6B,aAAe,CACpBxU,MAAO,GACPkT,cAAc,EACdlS,kBAAcK,EACdwL,kBAAcxL,EACd2R,sBAAkB3R,EAClB4R,yBAAqB5R,EACrBxD,YAAQwD,EACRtC,cAAUsC,GAGZ,IC9NIoT,GDyOE9J,GAAU,CACdkI,Uf3LuB,SAAAvW,GAAM,8CAAI,WAAMoE,GAAN,eAAAlF,EAAA,sEACboF,EAAwBtE,GADX,OAC3B0D,EAD2B,OAEjCU,EAASX,GAAeC,IAFS,2CAAJ,uDe4L7B+S,cfvL2B,SAAAzW,GAAM,8CAAI,WAAOoE,EAAUC,GAAjB,qBAAAnF,EAAA,+DACRmF,IAAZX,EADoB,EAC7BA,MAASA,MADoB,SAEXY,EAAwBtE,GAFb,OAE/BoY,EAF+B,OAG/BC,EAAgBD,EACnBpY,QAAO,SAAAqC,GAAI,QAAMqB,GAASA,EAAM4U,MAAK,SAAAC,GAAU,OAAIlW,EAAK/B,KAAOiY,EAAWjY,UAC7E8D,EAAST,GAAmB0U,IALS,2CAAJ,yDewLjC3X,YACAE,eACAL,WfhIwB,SAAAL,GAAM,8CAAI,WAAOkE,EAAUC,GAAjB,+BAAAnF,EAAA,sEACboF,EAAuBpE,GADV,UAC5BqE,EAD4B,OAE1BjE,EAAOiE,EAAO,GAAdjE,GAF0B,EAGL+D,IAAZX,EAHiB,EAG1BA,MAASA,MACXiB,EAAU,GAChBjB,EAAMkB,KAAI,SAAAC,GAER,OADIA,EAAKvE,KAAOA,GAAIqE,EAAQ8B,KAAK5B,GAC1BA,KAETT,EAASX,GAAekB,IATU,EAUMN,MAAhBmU,EAVU,EAU1BC,MAAS/U,OAViB,kCAYVY,EAAoBpE,GAZV,QAY1B4W,EAZ0B,OAa1BhB,EAb0B,CAafgB,GAbe,mBAaH0B,IAC7BpU,EAASP,GAAkBiS,IAdK,4CAAJ,yDeiI9BzS,YfeyB,SAAAJ,GAAS,8CAAI,WAAOmB,EAAUC,GAAjB,+BAAAnF,EAAA,sEACXoG,GAA2BrC,GADhB,gBAC9B3C,EAD8B,EAC9BA,GAAIiF,EAD0B,EAC1BA,KACNC,EAAOlF,EAAK,GAAK,EACjBsO,EAAa,SAAA/J,GAAI,kCAClBA,GADkB,IAErBuH,QAASvG,OAAOhB,EAAKuH,SAAW5G,EAChC6G,WAAYxG,OAAOhB,EAAKwH,YAAc9G,KAElC+I,EAAkB,SAAAjM,GAAI,kCACvBA,GADuB,IAE1BkM,SAAUlM,EAAKkM,SAAS3J,KAAI,SAAAS,GAAO,OAAKA,EAAQ/E,KAAO2C,EAAYoC,EAAUuJ,EAAWvJ,SAVpD,EAYFhB,IAAnBK,EAZqB,EAY9BhB,MAASgB,aACXC,EAAU2J,EAAgB5J,GAChCN,EAASN,GAAsBa,IAdO,4CAAJ,yDedlCrB,ef+B4B,SAAAL,GAAS,8CAAI,WAAOmB,EAAUC,GAAjB,+BAAAnF,EAAA,sEACdoG,GAA8BrC,GADhB,gBACjC3C,EADiC,EACjCA,GAAIiF,EAD6B,EAC7BA,KACNC,EAAOlF,EAAK,GAAK,EACjBsO,EAAa,SAAA/J,GAAI,kCAClBA,GADkB,IAErBwH,WAAYxG,OAAOhB,EAAKwH,YAAc7G,EACtC4G,QAASvG,OAAOhB,EAAKuH,SAAW7G,KAE5B+I,EAAkB,SAAAjM,GAAI,kCACvBA,GADuB,IAE1BkM,SAAUlM,EAAKkM,SAAS3J,KAAI,SAAAS,GAAO,OAAKA,EAAQ/E,KAAO2C,EAAYoC,EAAUuJ,EAAWvJ,SAVjD,EAYLhB,IAAnBK,EAZwB,EAYjChB,MAASgB,aACXC,EAAU2J,EAAgB5J,GAChCN,EAASN,GAAsBa,IAdU,4CAAJ,yDe9BrCG,sBACAE,kBACAC,mBACA9E,Qf3JqB,SAAAkC,GAAI,8CAAI,WAAM+B,GAAN,mBAAAlF,EAAA,sEACRoF,EAAoBjC,GADZ,uBACrB/B,EADqB,EACrBA,GADqB,SAEPgE,EAAoBhE,GAFb,OAEvBoY,EAFuB,OAG7BtU,EAASR,GAAc8U,IAHM,2CAAJ,uDe4JzBtY,eAKaqJ,gBA5BS,SAAAC,GAAS,MAAK,CACpChG,MAAOgG,EAAUhG,MAAMA,MACvBkT,aAAclN,EAAUhG,MAAMkT,aAC9BlS,aAAcgF,EAAUhG,MAAMgB,aAC9B6L,aAAc7G,EAAUhG,MAAM6M,aAC9BmG,iBAAkBhN,EAAUhG,MAAMgT,iBAClCC,oBAAqBjN,EAAUhG,MAAMiT,oBACrCpV,OAAQmI,EAAUjE,QAAQnD,KAAKhC,GAC/BmC,SAAUiH,EAAUjE,QAAQnD,KAAKG,aAkBR,SAAA2B,GAAQ,OAAI0K,YAAmBT,GAASjK,KAEpDqF,CAGb4M,IEnQWsC,GAAK,uCAAG,WAAMja,GAAN,eAAAQ,EAAA,+EAEMI,EAAW,CAChC9B,SAAU,kBACVa,KAAM,OACNK,YALe,cAEXgB,EAFW,yBAOVA,EAASL,QAPC,yDASV,CAAEiD,KAAM,KAAMtE,MAAO,OATX,yDAAH,sDAaL4a,GAAY,uCAAG,WAAMla,GAAN,eAAAQ,EAAA,+EAEDI,EAAW,CAChC9B,SAAU,qBACVa,KAAM,OACNK,YALsB,cAElBgB,EAFkB,yBAOjBA,EAASL,QAPQ,yDASjB,CAAEiD,KAAM,KAAMtE,MAAO,OATJ,yDAAH,sDAaZ6a,GAAc,uCAAG,4BAAA3Z,EAAA,+EAEHI,EAAW,CAChC9B,SAAU,iBACVa,KAAM,QAJkB,cAEpBqB,EAFoB,yBAMnBA,EAASL,QANU,yDAQnB,MARmB,yDAAH,qDAYdyZ,GAAc,uCAAG,WAAMC,GAAN,eAAA7Z,EAAA,+EAEHI,EAAW,CAChC9B,SAAU,oBACVa,KAAM,MACNZ,MAAO,CAAEsb,cALe,cAEpBrZ,EAFoB,yBAOnBA,EAASL,QAPU,yDASnB,MATmB,yDAAH,sDAad2Z,GAAiB,uCAAG,WAAMta,GAAN,eAAAQ,EAAA,+EAENI,EAAW,CAChC9B,SAAU,aACVa,KAAM,MACNK,YAL2B,cAEvBgB,EAFuB,yBAOtBA,EAASL,QAPa,yDAStB,MATsB,yDAAH,sDAajB4Z,GAAa,uCAAG,WAAM9X,GAAN,eAAAjC,EAAA,sEACJI,EAAW,CAChC9B,SAAU,oBACVa,KAAM,MACNZ,MAAO,CAAE0D,UAJgB,cACrBzB,EADqB,yBAMpBA,EAASL,QANW,2CAAH,sDClEb6Z,GAAW,0BCGlBC,GAAW,SAAAnb,GAAK,OAAIC,aAAayD,QAAQ,QAAS1D,IAElDob,GAAU,SAAA9W,GAAI,8CAAI,WAAM8B,GAAN,SAAAlF,EAAA,+EAAkBkF,EAAS,CACjD/F,KAAM6a,GACN5W,UAFsB,2CAAJ,uDAKd+W,GAAc,eAAC/W,EAAD,uDAAQ,KAAMtE,EAAd,uDAAsB,GAAtB,OAA6B,SAACoG,EAAUC,GAC1D8U,GAASnb,GACTob,GAAQ9W,EAAR8W,CAAchV,EAAUC,KAGpBiV,GAAqB,SAAAC,GAAmB,8CAAI,WAAOnV,EAAUC,GAAjB,mBAAAnF,EAAA,sEAClBqa,EADkB,uBACxCjX,EADwC,EACxCA,KAAMtE,EADkC,EAClCA,MACdqb,GAAY/W,EAAMtE,EAAlBqb,CAAyBjV,EAAUC,GAFa,kBAGzC/B,GAHyC,2CAAJ,yDAgCjC2W,GAAgB,SAAAhY,GAAK,OAAIuY,GAA0BvY,I,qBClCjDwY,GARK,kBAClB,kBAAC,IAAD,CAAQ9N,GAAG,KAAKmG,MAAM,OAAOvK,UAAWsD,KAAO6O,aAC7C,kBAAC3O,GAAA,EAAD,CAAO4O,UAAQ,EAAC3R,IAAI,oGACnB,IAFH,c,iDCgFa4R,GA/EG,SAAC,GAAe,IAAbjB,EAAY,EAAZA,MAAY,EACL/L,mBAASjG,MADJ,mBACxB1F,EADwB,KACjB4Y,EADiB,OAECjN,mBAAS,IAFV,mBAExBkN,EAFwB,KAEdC,EAFc,OAGGnN,oBAAS,GAHZ,mBAGxBoN,EAHwB,KAGbC,EAHa,OAISrN,oBAAS,GAJlB,mBAIxBsN,EAJwB,KAIVC,EAJU,OAKevN,oBAAS,GALxB,mBAKxBwN,EALwB,KAKPC,EALO,KAuBzBC,EAAgB,uCAAG,gCAAApb,EAAA,0DACjBqb,EAAUL,GAAgBE,KAChBJ,EAFO,uBAGhBO,GAAS1Q,GAAU,qCAHH,iCAMvBoQ,GAAa,GANU,SAQfO,EAAWvZ,EAAMuU,cARF,SASFmD,EAAM,CAAE1X,MAAOuZ,EAAUV,aATvB,OASfxX,EATe,OAUrB2X,GAAa,GACR3X,GACHuH,GAAU,uDAZS,kDAgBrBoQ,GAAa,GAhBQ,0DAAH,qDAoBtB,OACE,kBAAChN,GAAA,EAAD,CAAMnB,KAAK,YAAYJ,KAAK,QAAQyB,SAAUmN,GAC5C,kBAAC3I,GAAA,EAAD,KACE,kBAAC1E,GAAA,EAAK+I,MAAN,CACEb,OAAK,EACLvH,KAAK,KACL6M,aAAa,OACbnN,YAAY,QACZjP,KAAK,QACLgP,MAAOpM,EACPyZ,OAAQR,EACR3M,SAAU,SAAAC,GAAE,OA/CC5L,EA+CgB4L,EAAGC,OAAOJ,MA9C7CwM,EAASjY,GACTuY,GAAgB,QAChBrT,GAAgBlF,GAHG,IAAAA,GAgDb+Y,OAAQ,kBAAMR,EAAiBlZ,GAAU2Z,KAAUC,QAAQ5Z,OAE7D,kBAACgM,GAAA,EAAK+I,MAAN,CACEb,OAAK,EACLvH,KAAK,OACL6M,aAAa,OACbnN,YAAY,WACZjP,KAAK,WACLqc,OAAQN,EACR7M,SAAU,SAAAC,GAAE,OAnDI5L,EAmDgB4L,EAAGC,OAAOJ,MAlDhD0M,EAAYnY,QACZyY,GAAmB,GAFG,IAAAzY,GAoDhB+Y,OAAQ,kBAAMN,EAAmBS,QAAQhB,OAE3C,kBAACpM,GAAA,EAAD,CAAQrP,KAAK,SAASyT,MAAM,OAAOqD,OAAK,EAACzJ,KAAK,QAAQqG,QAASiI,EAAWnM,SAAO,EAACrG,QAjDtE,WAChB2S,EAAiBlZ,GAAU2Z,KAAUC,QAAQ5Z,IAC7CoZ,EAAmBS,QAAQhB,MA+CvB,YCnCFzL,GAAU,CAAEsK,MHlBG,SAAAja,GAAO,OAAI4a,GAAmBE,GAAkB9a,MGsBtD+K,eACb,MAHyB,SAAArF,GAAQ,OAAI0K,YAAmBT,GAASjK,KAEpDqF,EAjCG,SAAC,GAAD,IAAUsR,EAAV,EAAGpC,MAAH,OAChB,kBAACqC,GAAA,EAAD,CAAMC,UAAU,SAASC,cAAc,SAAS3T,UAAU,QACxD,kBAACyT,GAAA,EAAKG,OAAN,CAAarN,MAAO,CAAEmC,SAAU,MAC9B,kBAAC,GAAD,MACA,kBAAC,IAAD,CAAQtE,GAAG,KAAKmG,MAAM,OAAOmJ,UAAU,UAAvC,yBAGA,kBAAC,GAAD,CAAWtC,MAAOoC,IAClB,kBAACK,GAAA,EAAD,KACE,yBAAKtN,MAAO,CAAEoH,MAAO,MAAOD,MAAO,SAAnC,aAEG,IACD,kBAAC,KAAD,CAASoG,OAAK,EAACC,GAAG,iBAAlB,YAEF,yBAAKxN,MAAO,CAAEoH,MAAO,MAAOD,MAAO,SAAnC,oBAEG,IACD,kBAAC,KAAD,CAASoG,OAAK,EAACC,GAAG,kBAAlB,UAEF,yBAAKxN,MAAO,CAAEyN,MAAO,gBC0EdC,GAhGU,SAAC,GAA0B,IAAdC,EAAa,EAAvBC,SAAuB,EACvB9O,mBAASjG,MADc,mBAC1C1F,EAD0C,KACnC4Y,EADmC,OAEjBjN,mBAAS,IAFQ,mBAE1CkN,EAF0C,KAEhCC,EAFgC,OAGjBnN,mBAAS,IAHQ,mBAG1CnK,EAH0C,KAGhCkZ,EAHgC,OAIjB/O,oBAAS,GAJQ,mBAI1CoN,EAJ0C,KAI/B4B,EAJ+B,OAKXhP,oBAAS,GALE,mBAK1CsN,EAL0C,KAK5B2B,EAL4B,OAMLjP,oBAAS,GANJ,mBAM1CkP,EAN0C,KAMzBC,EANyB,OAOLnP,oBAAS,GAPJ,mBAO1CwN,EAP0C,KAOzB4B,EAPyB,KA+B3CN,EAAQ,uCAAG,gCAAAxc,EAAA,0DACTqb,EAAUL,GAAgB4B,GAAmB1B,KACnCJ,EAFD,uBAGRO,GAAS1Q,GAAU,qCAHX,iCAMf+R,GAAW,GANI,SAQPpB,EAAWvZ,EAAMuU,cARV,SASMiG,EAAO,CAAExa,MAAOuZ,EAAUV,WAAUrX,aAT1C,OASPH,EATO,OAUbsZ,GAAW,GACNtZ,GACHuH,GAAU,yEAZC,kDAeb+R,GAAW,GAfE,0DAAH,qDAmBd,OACE,kBAAC3O,GAAA,EAAD,CAAMnB,KAAK,mBAAmBJ,KAAK,QAAQyB,SAAUuO,GACnD,kBAAC/J,GAAA,EAAD,KACE,kBAAC1E,GAAA,EAAK+I,MAAN,CACEb,OAAK,EACLvH,KAAK,KACL6M,aAAa,OACbnN,YAAY,QACZjP,KAAK,QACLgP,MAAOpM,EACPyZ,OAAQR,EACR3M,SAAU,SAAAC,GAAE,OApDCH,EAoDgBG,EAAGC,OAAOJ,MAnD7CwM,EAASxM,GACTwO,GAAc,QACd/U,GAAgBuG,GAHG,IAAAA,GAqDbsN,OAAQ,kBAAMkB,EAAe5a,GAAU2Z,KAAUC,QAAQ5Z,OAE3D,kBAACgM,GAAA,EAAK+I,MAAN,CACEb,OAAK,EACLvH,KAAK,OACL6M,aAAa,OACbnN,YAAY,WACZjP,KAAK,OACLqc,OAAQoB,EACRvO,SAAU,SAAAC,GAAE,OAxDIH,EAwDgBG,EAAGC,OAAOJ,MAvDhDsO,EAAYtO,QACZ0O,GAAiB,GAFK,IAAA1O,GAyDhBsN,OAAQ,kBAAMoB,EAAiBjB,QAAQrY,OAEzC,kBAACwK,GAAA,EAAK+I,MAAN,CACEb,OAAK,EACLvH,KAAK,OACL6M,aAAa,OACbnN,YAAY,WACZjP,KAAK,WACLkP,SAAU,SAAAC,GAAE,OA5DIH,EA4DgBG,EAAGC,OAAOJ,MA3DhD0M,EAAY1M,QACZ2O,GAAiB,GAFK,IAAA3O,GA6DhBqN,OAAQN,EACRO,OAAQ,kBAAMqB,EAAiBpB,KAAUqB,SAASnC,EAAU,CAAEoC,IAAK,QAErE,kBAACxO,GAAA,EAAD,CAAQrP,KAAK,SAASyT,MAAM,OAAOqD,OAAK,EAACzJ,KAAK,QAAQqG,QAASiI,EAAWnM,SAAO,EAACrG,QA3DtE,WAChBuU,EAAiBjB,QAAQrY,IACzBoZ,EAAe5a,GAAU2Z,KAAUC,QAAQ5Z,IAC3C+a,EAAiBlB,QAAQhB,MAwDrB,eC5DFzL,GAAU,CAAEqN,SLRM,SAAAhd,GAAO,OAAI4a,GAAmBE,GAAyB9a,MKYhE+K,eACb,MAHyB,SAAArF,GAAQ,OAAI0K,YAAmBT,GAASjK,KAEpDqF,EAzBU,SAAC,GAAD,IAAagS,EAAb,EAAGC,SAAH,OACvB,kBAACV,GAAA,EAAD,CAAMC,UAAU,SAASC,cAAc,SAAS3T,UAAU,QACxD,kBAACyT,GAAA,EAAKG,OAAN,CAAarN,MAAO,CAAEmC,SAAU,MAC9B,kBAAC,GAAD,MACA,kBAAC,IAAD,CAAQtE,GAAG,KAAKmG,MAAM,OAAOmJ,UAAU,UAAvC,6BAGA,kBAAC,GAAD,CAAkBS,SAAUD,IAC5B,kBAACL,GAAA,EAAD,uBAEG,IACD,kBAAC,KAAD,CAASC,OAAK,EAACC,GAAG,UAAlB,iBCXuB1Y,GAAWrF,4CAyE3B4e,GAnEM,WAAO,IAAD,EACCvP,mBAASjG,MADV,mBAClB1F,EADkB,KACX4Y,EADW,OAEajN,oBAAS,GAFtB,mBAElBsN,EAFkB,KAEJ2B,EAFI,OAGOjP,oBAAS,GAHhB,mBAGlBoN,EAHkB,KAGP4B,EAHO,OAIOhP,oBAAS,GAJhB,mBAIlBwP,EAJkB,KAIRC,EAJQ,KAgBnBC,EAAa,uCAAG,oCAAApd,EAAA,yDACfgb,IAAgBF,EADD,uBAEbE,GAAcrQ,GAAU,uCAFX,iCAKpB+R,GAAW,GALS,kBAOC3C,GAAchY,GAPf,UAQE,MADdqB,EAPY,QAQTia,OARS,wBASVxZ,EAAWhC,EAAe6B,GAAQ3B,EAAOqB,EAAKia,QACpDC,MAAMzZ,GAVU,UAWqBZ,GAAc,CAAElB,QAAO6B,UA7BlD,2BA6B6DC,WAAUH,YAXjE,iBAWR8R,EAXQ,EAWRA,UAAUhV,EAXF,EAWEA,UACLiV,QAAQ,MAAQ,GAC3B9K,GAhCW,wDAiCXwS,GAAY,IAEZxS,GAAU,WAAD,OAAY6K,EAAZ,YAAwBhV,IAhBnB,wBAmBhBmK,GAvCc,8CAoBE,QAqBlB+R,GAAW,GArBO,kDAuBlB/R,GAAU,WACV+R,GAAW,GAxBO,0DAAH,qDA4BnB,OACE,kBAAC3O,GAAA,EAAD,CAAMnB,KAAK,mBAAmBJ,KAAK,QAAQyB,SAAUmP,GACnD,kBAAC3K,GAAA,EAAD,KACE,kBAAC1E,GAAA,EAAK+I,MAAN,CACEb,OAAK,EACLvH,KAAK,KACL6M,aAAa,OACbnN,YAAY,QACZjP,KAAK,QACLgP,MAAOpM,EACPyZ,OAAQR,EACR3M,SAAU,SAAAC,GAAE,OAjDCH,EAiDgBG,EAAGC,OAAOJ,MAhD7CwM,EAASxM,GACTwO,GAAc,QACd/U,GAAgBuG,GAHG,IAAAA,GAkDbsN,OAAQ,kBAAMkB,EAAe5a,GAAU2Z,KAAUC,QAAQ5Z,OAE3D,kBAACyM,GAAA,EAAD,CAAQrP,KAAK,SAASyT,MAAM,OAAOqD,OAAK,EAACzJ,KAAK,QAAQqG,QAASiI,EAAWnM,SAAO,EAACrG,QA9CtE,WAChBqU,EAAe5a,GAAU2Z,KAAUC,QAAQ5Z,MA6CvC,mBAIDmb,GAAY,kBAAC,IAAD,CAAUd,GAAG,aCvDjBmB,GAjBM,kBACnB,kBAACzB,GAAA,EAAD,CAAMC,UAAU,SAASC,cAAc,SAAS3T,UAAU,QACxD,kBAACyT,GAAA,EAAKG,OAAN,CAAarN,MAAO,CAAEmC,SAAU,MAC9B,kBAAC,GAAD,MACA,kBAAC,IAAD,CAAQtE,GAAG,KAAKmG,MAAM,OAAOmJ,UAAU,UAAvC,uBAGA,kBAAC,GAAD,MACA,kBAACG,GAAA,EAAD,yBAEG,IACD,kBAAC,KAAD,CAASC,OAAK,EAACC,GAAG,UAAlB,e,+BVRFoB,I,OAAgB,SAAC,GAAiD,IAA/Cpa,EAA8C,EAA9CA,KAAMqa,EAAwC,EAAxCA,UAAWvc,EAA6B,EAA7BA,WAAYG,EAAiB,EAAjBA,WAC9Cqc,EAASC,KAJ0Btf,6CAqCzC,OAhCA4a,GAAWyE,EACXE,qBAAU,WACR,GAAKxa,EA0BL,OAvBAsa,EAAOG,GAAG,WAAW,WAAO,IAClBzc,EAAiBgC,EAAjBhC,GAAImC,EAAaH,EAAbG,SACZma,EAAOI,KAAK,aAAc,CAAE1c,KAAImC,gBAElCma,EAAOG,GAAG,QAAQ,SAAA7c,GAChB+c,uBAAoBC,KAAK,wBACzB9c,EAAWF,MAEb0c,EAAOG,GAAG,QAAQ,SAAAta,GAChBwa,uBAAoBC,KAApB,eAAiCza,EAAjC,uBAEFma,EAAOG,GAAG,SAAS,SAAAta,GACjBwa,uBAAoBC,KAApB,eAAiCza,EAAjC,oBAEFma,EAAOG,GAAG,YAAY,SAAA7c,GACpByc,EAAUzc,MAEZ0c,EAAOG,GAAG,YAAY,SAAA7c,GACpBE,EAAWF,MAEb0c,EAAOG,GAAG,aAAa,SAAA7c,GACrBK,EAAWL,MAEN,WACL0c,EAAO9I,YAGJ,kBAAC,yBAAD,QAGT4I,GAAcxE,aAAe,CAC3B5V,UAAMyC,GAUO2X,U,qBWhDXS,GAAa,aAyDFtI,GAxDA,SAAC,GAAsB,IAApBvS,EAAmB,EAAnBA,KAAM8a,EAAa,EAAbA,OAMtB,OACE,yBAAK7V,UAAWsD,KAAOwS,WACrB,kBAACrC,GAAA,EAAD,CAAMsC,UAAQ,EAACC,WAAS,EAACC,QAAQ,KAC/B,kBAACxC,GAAA,EAAKG,OAAN,KACG7Y,GACC,kBAAC,KAAD,CAAS+Y,OAAK,EAACC,GAAG,SAAS9T,QAAS,SAAAqB,GAAK,OAAIsU,GAAWtU,EAAO,YAC7D,kBAAC,IAAD,KACE,kBAACkC,GAAA,EAAD,CAAO/C,IAAI,8DACV,IAFH,QAIG,IACA1F,EAAKG,YAKd,kBAACuY,GAAA,EAAKG,OAAN,KACG7Y,GACC,kBAAC,KAAD,CAAS+Y,OAAK,EAACC,GAAG,IAAI9T,QAAS,SAAAqB,GAAK,OAAIsU,GAAWtU,EAAO,OACxD,kBAAC,IAAD,KACE,kBAACkC,GAAA,EAAD,CAAO4O,UAAQ,EAAC3R,IAAKgE,GAAe1J,EAAK7C,SACxC,IACA6C,EAAKG,YAKd,kBAACuY,GAAA,EAAKG,OAAN,CAAaF,UAAU,SACrB,kBAAC,KAAD,CAASI,OAAK,EAACoC,gBAAgB,SAASnC,GAAG,WAAW/T,UAAWsD,KAAO6S,SACtE,kBAAC7R,GAAA,EAAD,CAAMC,KAAK,cAAcJ,KAAK,UADhC,gBAIA,kBAACgC,GAAA,EAAD,CAAQjC,OAAK,EAACmC,MAAI,EAACvP,KAAK,SAASkJ,UAAS,UAAKsD,KAAO6S,QAAZ,YAAuB7S,KAAO8S,WAAanW,QArC7F,WXgD+B2Q,OW9CVrE,QACnBsJ,MAmCQ,kBAACvR,GAAA,EAAD,CAAMC,KAAK,UAAUJ,KAAK,e,oBCjClCkS,GAAY,IAEVC,GAAU,SAAC,GAAmC,IAAjCvb,EAAgC,EAAhCA,KAAkBwb,EAAc,EAA1BC,WACjBnN,EAAU5E,GAAe1J,EAAK7C,OAC9BoR,ErBhBsB,SAAApR,GAAK,OAAKA,EACpCA,EAAMqR,WACN,GqBcckN,CAAe1b,EAAK7C,OAFa,EAGvBmN,mBAAS,CAAE3B,KAAM2F,EAASE,WAAYD,IAHf,mBAG1CpR,EAH0C,KAGnCsR,EAHmC,OAIjBnE,mBAAS,IAJQ,mBAI1CoE,EAJ0C,KAIhCC,EAJgC,OAKXrE,oBAAS,GALE,mBAK1CsE,EAL0C,KAK7BC,EAL6B,OAMjBvE,mBAAStK,EAAKG,UANG,mBAM1CA,EAN0C,KAMhCwb,EANgC,OAOvBrR,mBAAStK,EAAKrB,OAPS,mBAO1CA,EAP0C,KAOnC4Y,EAPmC,OAQjBjN,mBAAS,IARQ,mBAQ1CkN,EAR0C,KAQhCC,EARgC,OASrBnN,mBAAStK,EAAK+I,QATO,mBAS1CA,EAT0C,KASlC6S,EATkC,OAUjBtR,mBAAS,CAAEuR,SAAU,WAAYC,SAAU,WAV1B,mBAU1CC,EAV0C,KAUhCC,EAVgC,OAWrB1R,mBAAS,CAAE2R,UAAU,EAAOC,SAAS,IAXhB,mBAW1C9N,EAX0C,KAWlCC,EAXkC,OAYjB/D,oBAAS,GAZQ,mBAY1CwP,EAZ0C,KAYhCC,GAZgC,QAajBzP,oBAAS,GAbQ,qBAa1CoN,GAb0C,MAa/B4B,GAb+B,SAcXhP,oBAAS,GAdE,qBAc1CsN,GAd0C,MAc5B2B,GAd4B,SAeLjP,oBAAS,GAfJ,qBAe1CkP,GAf0C,MAezBC,GAfyB,SAgBLnP,oBAAS,GAhBJ,qBAgB1CwN,GAhB0C,MAgBzB4B,GAhByB,MAyB3C3K,GAAgB,uCAAG,mCAAAnS,EAAA,6DAASuO,EAAT,EAASA,OAChC0D,GAAe,GADQ,SAGjBH,GAAUyC,EAA6B,CAAEzC,aAHxB,SAIcyC,EAAyBhG,EAAO6D,MAAM,IAJpD,gBAIbrG,EAJa,EAIbA,KAAM6F,EAJO,EAIPA,WACdC,EAAS,CAAE9F,OAAM6F,eACjBH,EAAU,CAAE6N,SAAS,IACrBvN,EAAYH,GAPS,yBAUrBK,GAAe,GAVM,2EAAH,sDAatB,SAASC,GAAYvO,GACfA,IAAYkE,KACViK,GAAUyC,EAA6B,CAAEzC,aAC7CL,GAAU,GAAO,GACjB0L,IAAY,IA1CiC,SAoDlCoC,KApDkC,8EAoDjD,wCAAAvf,EAAA,0DACQqb,EAAUL,IAAgB4B,IAAmB1B,MACnCJ,GAFlB,uBAGSO,GAAS1Q,GAAU,qCAH5B,6BAME+R,IAAW,GACXgC,GAAY,IAPd,UAU2B,IAAnBlN,EAAO8N,QAVf,oBAWMvN,EAAY,KACR3O,EAAKzC,QAZf,kCAac4T,EAAyBnR,EAAKzC,SAb5C,YAeuBJ,EAfvB,kCAeqCgU,EAAyBhU,GAf9D,sDAeuEsF,EAfvE,QAeYyM,EAfZ,KAgBM3R,EAAU2R,EAASlR,GAhBzB,yBAkByB0Y,GAAkB,CAAEvW,WAAUxB,QAAO6Y,WAAUzO,SAAQxL,YAlBhF,QAkBU0E,EAlBV,OAoBMmW,EAGEnW,EAHFmW,MACAnY,EAEEgC,EAFFhC,KACQmc,EACNna,EADF8G,OAEFuQ,IAAW,IACG,IAAVlB,EACF7Q,GAAU,SAAD,OAAU6U,EAAV,cAAoBnc,KAE7Bub,IACAnN,GAAU,GAAO,GACjB0L,IAAY,IA9BlB,kDAiCIT,IAAW,GAjCf,2DApDiD,sBAwFjD,SAAS+C,GAAUtR,EAAOuR,GACxB,IAAMra,EAAoB,KAAV8I,EAIhB,OAHK9I,GACHsF,GAAU,iBAAD,OAAkB+U,EAAlB,yBAEJra,EAET,SAASsa,GAAkBhc,GACrBA,IAAYkE,IAAI0X,KAetB,ODlEAtB,GCAoB,SAACtU,EAAOiW,GAC1BlB,GAAYkB,GACa,IAApBpO,EAAO6N,WAA0C,IAAnB7N,EAAO8N,UACxC3U,GAnDc,4CAmDS,EAAMuH,IAC7BvI,EAAMkW,mBA+DR,kBAAC/D,GAAA,EAAD,CAAMuC,WAAS,EAACtC,UAAU,SAASnN,MAAO,CAAEkR,WAAY,KACtD,kBAAChE,GAAA,EAAKG,OAAN,KACE,kBAACpQ,GAAA,EAAD,CAAOuS,UAAQ,EAACtV,IAAKvI,EAAMwL,KAAMS,KAAK,SAASiO,UAAQ,IACvD,6BACA,6BACA,kBAACjM,GAAA,EAAD,CAAQoE,MAAM,SAASlE,MAAI,EAACD,cAAc,OAAOhC,GAAG,QAAQoG,QAASb,EAAac,SAAUd,GAC1F,kBAACrF,GAAA,EAAD,CAAMC,KAAK,UADb,gBAGE,2BAAOA,KAAK,QAAQzN,KAAK,OAAOkP,SAAU8D,GAAkBY,QAAM,KAEpE,6BACA,6BACA,6BACA,kBAAC+D,GAAA,EAAD,CACEzO,UAAWsD,KAAOoU,UAClBrR,KAAK,OACL6M,aAAa,OACbnN,YAAY,WACZjP,KAAK,OACLgP,MAAO5K,EACPiY,OAAQoB,GACRvO,SAAU,SAAA1E,GACR8H,EAAU,CAAE4N,UAAU,IACtBN,EAAYpV,EAAM4E,OAAOJ,QAE3BsN,OAAQ,kBAAMoB,GAAiBjB,QAAQrY,OAEzC,6BACA,6BACA,kBAACuT,GAAA,EAAD,CACEzO,UAAWsD,KAAOoU,UAClBrR,KAAK,mBACL6M,aAAa,OACbnN,YAAY,QACZjP,KAAK,QACLgP,MAAOpM,EACPyZ,OAAQR,GACR3M,SAAU,SAAA1E,GACR8H,EAAU,CAAE4N,UAAU,IACtB1E,EAAShR,EAAM4E,OAAOJ,QAExBsN,OAAQ,kBAAMkB,GAAe5a,GAAU2Z,KAAUC,QAAQ5Z,OAE3D,6BACA,6BACA,kBAAC+U,GAAA,EAAD,CACEzO,UAAWsD,KAAOqU,SAClBtR,KAAK,UACL6M,aAAa,OACbnN,YAAY,mBACZjP,KAAMggB,EAASF,SACf9Q,MAAOyM,EACPY,OAAQN,GACR7M,SAAU,SAAA1E,GACR8H,EAAU,CAAE4N,UAAU,IACtBxE,EAAYlR,EAAM4E,OAAOJ,QAE3BsN,OAAQ,kBAAMqB,IAAmBlC,GAAac,KAAUqB,SAASnC,EAAU,CAAEoC,IAAK,QAEpF,kBAACxO,GAAA,EAAD,CAAQnG,UAAWsD,KAAOsU,WAAY3X,QAzJzB,WACS,aAAtB6W,EAASF,SACXG,EAAY,CAAEH,SAAU,OAAQC,SAAU,SAE1CE,EAAY,CAAEH,SAAU,WAAYC,SAAU,aAsJ1C,kBAACvS,GAAA,EAAD,CAAMC,KAAMuS,EAASD,YAEvB,6BACA,6BACA,kBAACpI,GAAA,EAAD,CACEzO,UAAWsD,KAAOoU,UAClBrR,KAAK,iBACL6M,aAAa,OACbnN,YAAY,SACZjP,KAAK,OACLgP,MAAOhC,EACPkC,SAAU,SAAA1E,GACR8H,EAAU,CAAE4N,UAAU,IACtBL,EAAUrV,EAAM4E,OAAOJ,UAG3B,6BACA,6BACA,kBAACK,GAAA,EAAD,CAAQoE,MAAM,QAAQtK,QArF5B,YAEmB,KADCmX,GAAUlc,EAAU,aAAekc,GAAU1d,EAAO,WARxE,SAAsBoM,GACpB,IAAM9I,GAAW8I,EAIjB,OAHK9I,GACHsF,GAAU,+CAA+C,EAAMgV,IAE1Dta,EAG4E6a,CAAatF,KACzE2E,MAmFyB1M,QAASiI,IACnD,kBAACnO,GAAA,EAAD,CAAMC,KAAK,SADb,qBAIA,6BACA,8BAEDsQ,GAAY,kBAAC,IAAD,CAAUd,GAAIsC,OAUjCC,GAAQ3F,aAAe,CACrB5V,KAAM,IAGR,IAAM+L,GAAU,CAAE0P,WT3LQ,yDAAM,WAAO3Z,EAAUC,GAAjB,eAAAnF,EAAA,sEACRsa,KADQ,OACxB6F,EADwB,OAE9BjG,GAAQiG,EAARjG,CAAiBhV,EAAUC,GAFG,2CAAN,0DSmMXoF,gBAJS,SAAAC,GAAS,MAAK,CACpCpH,KAAMoH,EAAUjE,QAAQnD,SAHC,SAAA8B,GAAQ,OAAI0K,YAAmBT,GAASjK,KAMpDqF,CAGboU,I,qBClMayB,GAvCG,SAAC,GAGZ,IAFLjd,EAEI,EAFJA,KACakd,EACT,EADJ9e,YAGEH,EAIE+B,EAJF/B,GACAb,EAGE4C,EAHF5C,MACA1B,EAEEsE,EAFFtE,KACAuM,EACEjI,EADFiI,UAEIE,EAAOC,IAAOH,GAAWI,UAC/B,OACE,kBAACE,GAAA,EAAD,CAAMrD,UAAWsD,KAAO2U,WACrB/f,GAAS,kBAACsL,GAAA,EAAD,CAAO/C,IAAKvI,EAAMwL,KAAMC,SAAO,EAACuU,IAAI,IAC9C,kBAAC7U,GAAA,EAAKO,QAAN,KACE,kBAACP,GAAA,EAAKQ,KAAN,KACE,0BAAM7D,UAAU,QACbiD,IAGL,kBAACI,GAAA,EAAKU,YAAN,KACGlF,GAAarI,KAGlB,kBAAC6M,GAAA,EAAKO,QAAN,CAAcI,OAAK,GACjB,kBAACC,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,GAAG,IAAIpE,UAAWsD,KAAOe,WAAYpE,QAAS,kBAAM+X,EAAQjf,KACpF,kBAACuL,GAAA,EAAD,CAAMC,KAAK,SADb,cC5BFjI,GAAoB,SAAAH,GAAK,MAAK,CAClCrF,K7BLkC,mB6BMlCqF,UAGIgc,GAAqB,SAAAhc,GAAK,MAAK,CACnCrF,K7BTmC,kB6BUnCqF,UAGIic,GAAiB,SAAAjc,GAAK,MAAK,CAC/BrF,KAAMmF,GACNE,U,qBCFIyS,GAAc,CAClB5U,YAAQwD,EACRqC,MAAM,EACNgP,KAAM,EACN1D,MAAO,IAGHkN,GAAQ,SAAC,GAMR,IALLre,EAKI,EALJA,OACeiV,EAIX,EAJJC,cACa8I,EAGT,EAHJ9e,YAGI,IAFJiD,aAEI,MAFI,GAEJ,EADJkT,EACI,EADJA,aAQA,OACE,yBAAKrP,UAAWsD,KAAO2M,eACrB,kBAAC5M,GAAA,EAAD,CAAMrD,UAAWsD,KAAO2U,WAAxB,+BAGA,kBAAC,KAAD,CACE1H,UAAW,EACXtB,SAbe,WACnBL,GAAY5U,OAASA,EACrBiV,EAASL,IAFgB,IAGjBC,EAAgBD,GAAhBC,KAAM1D,EAAUyD,GAAVzD,MACdyD,GAAYC,KAAOA,EAAO1D,GAUtBqF,QAASnB,EACToB,OAAQ,kBAAC5J,GAAA,EAAD,CAAQF,QAAM,EAAC+J,OAAO,WAAW3H,IAAK,KAE7C5M,EAAMkB,KAAI,SAAAvC,GAAI,OACb,kBAAC,GAAD,CACEA,KAAMA,EACN+H,QAAS7I,EACTd,YAAa8e,UAgBzBK,GAAM1H,aAAe,CACnBxU,MAAO,GACPkT,cAAc,EACdrV,YAAQwD,GAGV,IAMMsJ,GAAU,CACdoI,cD3D2B,SAAAzW,GAAM,8CAAI,WAAOoE,EAAUC,GAAjB,qBAAAnF,EAAA,+DACRmF,IAAZX,EADoB,EAC7B+U,MAAS/U,MADoB,SAEXY,EAA6BtE,GAFlB,OAE/BoY,EAF+B,OAG/BC,EAAgBD,EACnBpY,QAAO,SAAAqC,GAAI,QAAMqB,GAASA,EAAM4U,MAAK,SAAAC,GAAU,OAAIlW,EAAK/B,KAAOiY,EAAWjY,UAC7E8D,EAASsb,GAAmBrH,IALS,2CAAJ,yDC4DjC5X,YDpDyB,SAAAP,GAAM,8CAAI,WAAOkE,EAAUC,GAAjB,+BAAAnF,EAAA,sEACdoF,EAAwBpE,GADV,UAC7BqE,EAD6B,OAE3BjE,EAAOiE,EAAO,GAAdjE,GAF2B,EAGN+D,IAAZX,EAHkB,EAG3B+U,MAAS/U,MACXiB,EAAU,GAChBjB,EAAMkB,KAAI,SAAAC,GAER,OADIA,EAAKvE,KAAOA,GAAIqE,EAAQ8B,KAAK5B,GAC1BA,KAETT,EAASP,GAAkBc,IATQ,EAUIN,MAAfwb,EAVW,EAU3Bnc,MAASA,OAVkB,kCAYXY,EAAoBpE,GAZT,QAY3BwY,EAZ2B,OAa3B5C,EAb2B,CAahB4C,GAbgB,mBAaJmH,IAC7Bzb,EAASub,GAAe7J,IAdS,4CAAJ,0DCyDlBrM,gBAbS,SAAAC,GAAS,MAAK,CACpChG,MAAOgG,EAAU+O,MAAM/U,MACvBkT,aAAclN,EAAU+O,MAAM7B,aAC9BrV,OAAQmI,EAAUjE,QAAQnD,KAAKhC,OAQN,SAAA8D,GAAQ,OAAI0K,YAAmBT,GAASjK,KAEpDqF,CAGbmW,IChFIE,GAAa,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,MAA2B3Q,EAAa,EAAjCtK,mBAK3B,OAJAgY,qBAAU,WACR1N,EAAO2Q,EAAMC,OAAOC,aAGf,kBAAC,IAAD,CAAU3E,GAAG,OAQtBwE,GAAW5H,aAAe,CACxB6H,WAAOhb,GAGT,IAAMsJ,GAAU,CAAEvJ,uBAIH2E,eACb,MAHyB,SAAArF,GAAQ,OAAI0K,YAAmBT,GAASjK,KAEpDqF,CAGbqW,ICfaI,GAZE,kBACf,kBAAC,IAAD,CAAQvU,GAAG,KAAKiC,MAAI,EAACqN,UAAU,SAASnN,MAAO,CAAEqS,UAAW,KAC1D,kBAACtU,GAAA,EAAD,CAAMC,KAAK,QAAQ6N,UAAQ,IAC3B,kBAAC,IAAOxO,QAAR,KACE,8CACC,SACD,kBAAC,KAAD,CAASmQ,GAAG,KAAZ,QACC,W,UCND8E,GAAe,SAAC,GAAD,IAAc7W,EAAd,EAAG8W,UAAsBC,EAAzB,EAAyBA,aAAiBC,EAA1C,oDACnB,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAAApY,GAAK,OAAKkY,EACd,kBAAC/W,EAAcnB,GACf,kBAAC,IAAD,CAAUkT,GAAI,CAAEmF,SAAU,SAAUhf,MAAO,CAAE2U,KAAMhO,EAAMzF,kBAUjEyd,GAAalI,aAAe,CAC1BoI,cAAc,EACd3d,cAAUoC,GAGZ,IAIe0E,gBAJS,SAAAC,GAAS,MAAK,CACpC4W,aAAc5W,EAAUjE,QAAQ6a,gBAGnB7W,CAAyB2W,ICxBlCM,GAAc,SAAC,GAAD,IAAcnX,EAAd,EAAG8W,UAAsBC,EAAzB,EAAyBA,aAAiBC,EAA1C,oDAClB,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAAApY,GAAK,OAAKkY,EACd,kBAAC,IAAD,CAAUhF,GAAI,CAAEmF,SAAU,IAAKhf,MAAO,CAAE2U,KAAMhO,EAAMzF,aACpD,kBAAC4G,EAAcnB,QAUvBsY,GAAYxI,aAAe,CACzBoI,cAAc,EACd3d,cAAUoC,GAGZ,IAIe0E,gBAJS,SAAAC,GAAS,MAAK,CACpC4W,aAAc5W,EAAUjE,QAAQ6a,gBAGnB7W,CAAyBiX,ICRlCC,GAAU,SAAC,GASV,IARLre,EAQI,EARJA,KACAge,EAOI,EAPJA,aACc5H,EAMV,EANJkI,aACiBpc,EAKb,EALJqc,gBACiB/J,EAIb,EAJJgK,gBACQC,EAGJ,EAHJ3D,OACiB4D,EAEb,EAFJC,gBACAjH,EACI,EADJA,UAQA,OANA8C,qBAAU,WACHwD,GACHU,OAKFhH,EACI,kBAAC,GAAD,MAEA,yBAAKzS,UAAU,QACZ+Y,GACC,gCACE,kBAAC,GAAD,CAAQhe,KAAMA,EAAM8a,OAAQ2D,KAGhC,0BAAMxZ,UAAU,QACd,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAa8T,OAAK,EAACyD,KAAK,SAASuB,UAAWa,KAC5C,kBAAC,GAAD,CAAa7F,OAAK,EAACyD,KAAK,gBAAgBuB,UAAWc,KACnD,kBAAC,GAAD,CAAa9F,OAAK,EAACyD,KAAK,iBAAiBuB,UAAW5D,KACpD,kBAAC,GAAD,CAAcpB,OAAK,EAACyD,KAAK,IAAIuB,UAAWhK,KACxC,kBAAC,GAAD,CAAcgF,OAAK,EAACyD,KAAK,WAAWuB,UAAWxC,KAC/C,kBAAC,GAAD,CAAcxC,OAAK,EAACyD,KAAK,SAASuB,UAAWT,KAC7C,kBAAC,GAAD,CAAcd,KAAK,mBAAmBuB,UAAWP,KACjD,kBAAC,IAAD,CAAOhB,KAAK,IAAIzD,OAAK,EAACgF,UAAWH,OAGrC,kBAAC,GAAD,CAAevD,UAAWjE,EAAStY,WAAYoE,EAASjE,WAAYuW,EAASxU,KAAMA,MAiB7Fqe,GAAQzI,aAAe,CACrBoI,cAAc,EACdhe,KAAM,GACN0X,WAAW,GAGb,IAAM3L,GAAU,CAAE4S,gBjBpDa,yDAAM,WAAO7c,EAAUC,GAAjB,qBAAAnF,EAAA,yDACF,iBAA7BwD,OAAOC,SAAS8d,SADe,iCAEHjH,GAA2B9W,OAAOC,SAAS0S,QAFxC,gBAEzBrX,EAFyB,EAEzBA,MAAOsE,EAFkB,EAElBA,KACf6W,GAASnb,GACTob,GAAQ9W,EAAR8W,CAAchV,EAAUC,GACxB3B,OAAOC,SAASye,KAAO,IALU,yCAOd5H,KAPc,QAO3BlX,EAP2B,OAQjC8W,GAAQ9W,EAAR8W,CAAchV,EAAUC,GARS,4CAAN,yDiBoDI+Y,OjBzDb,WACpBnf,aAAasd,QACb7Y,OAAOC,SAASye,KAAO,KiBuDkBR,apCdf,SAAA1gB,GAAM,8CAAI,WAAOkE,EAAUC,GAAjB,iBAAAnF,EAAA,2DACGmF,KADH,EAC5BX,MAASA,MADmB,gCAGZY,EAAoBpE,GAHR,OAG5BwY,EAH4B,OAIlCtU,EAASR,GAAc8U,IAJW,2CAAJ,yDoCcuBmI,gBpCP1B,SAAA3gB,GAAM,8CAAI,WAAOkE,EAAUC,GAAjB,2BAAAnF,EAAA,sEACjBoF,EAAoBpE,GADH,OACjCsE,EADiC,OAEjCC,EAAY,iCACbD,IAHkC,EAKIH,IALJ,IAK/BX,MAASA,EALsB,EAKtBA,MAAOgB,EALe,EAKfA,aAClBC,EAAUjB,EAAMkB,KAAI,SAAAC,GAAI,OAAKA,EAAKvE,KAAOJ,EAAS2E,EAAOJ,OAC/DL,EAASX,GAAekB,IACpBD,GAAgBA,EAAapE,KAAOJ,GACtCkE,EAASN,GAAsBW,MATM,2CAAJ,yDoCOqCqc,gBpCK3C,SAAA5gB,GAAM,8CAAI,WAAOkE,EAAUC,GAAjB,mBAAAnF,EAAA,wDACVmF,IAAZX,EADsB,EAC/BA,MAASA,MACXiB,EAAU,GAChBjB,EAAMkB,KAAI,SAAAC,GAER,OADIA,EAAKvE,KAAOJ,GAAQyE,EAAQ8B,KAAK5B,GAC9BA,KAETT,EAASX,GAAekB,IAPe,2CAAJ,0DoCKtB8E,gBARS,SAAC,GAAD,IAAGhE,EAAH,EAAGA,QAAH,MAAkB,CACxC6a,aAAc7a,EAAQ6a,aACtBhe,KAAMmD,EAAQnD,KACd0X,UAAWvU,EAAQuU,cAGM,SAAA5V,GAAQ,OAAI0K,YAAmBT,GAASjK,KAEpDqF,CAGbkX,I,6BC3FIU,GAAc,CAAEzX,UAAU,GCYnB0X,GAAUC,eAIjBC,GAAc,CAClBC,KACAC,aAAiBJ,KAGbK,GAAoBC,YACxBC,IAAe,WAAf,EAAmBL,KAGfM,GAAW,CACfpe,MCpBa,WAAyB,IAAxBjC,EAAuB,uDAAf,GAAIsgB,EAAW,uCACrC,OAAQA,EAAO1jB,MACb,KAAKmF,GACH,OAAO,2BACF/B,GADL,IAEEiC,MAAOqe,EAAOre,MACdkT,aAAckE,QAAQiH,EAAOre,MAAMgD,UAEvC,IxChB2B,8BwCiBzB,OAAO,2BACFjF,GADL,IAEEiC,MAAM,GAAD,mBAAOjC,EAAMiC,OAAS,IAAtB,YAA8Bqe,EAAOre,QAC1CkT,aAAckE,QAAQiH,EAAOre,MAAMgD,UAEvC,KAAKnD,GACH,OAAO,2BACF9B,GADL,IAEEiC,MAAM,CAAEqe,EAAO1f,MAAV,mBAAmBZ,EAAMiC,UAElC,IxCzB6B,gCwC0B3B,OAAO,2BACFjC,GADL,IAEEiD,aAAcqd,EAAO1f,OAEzB,IxC7ByB,wBwC8BvB,OAAO,2BACFZ,GADL,IAEE8O,aAAcwR,EAAO/d,WAEzB,IxCjC+B,uBwCkC7B,OAAO,2BACFvC,GADL,IAEEiV,iBAAkBqL,EAAO7d,WAE7B,IxCrCkC,0BwCsChC,OAAO,2BACFzC,GADL,IAEEkV,oBAAqBoL,EAAO7d,WAEhC,QACE,OAAOzC,IDnBXgE,QE7Ba,WAAyB,IAAD,EAAvBhE,EAAuB,uDAAf,GAAIsgB,EAAW,uCACrC,OAAQA,EAAO1jB,MACb,KAAK6a,GACH,OAAO,2BACFzX,GADL,IAEEa,KAAMyf,EAAOzf,KACbge,aAAcxF,QAAO,UAACiH,EAAOzf,YAAR,aAAC,EAAahC,IACnC0Z,WAAW,IAEf,QACE,OAAOvY,IFoBXkI,OD1Ba,WAAkC,IAAjClI,EAAgC,uDAAxB4f,GAAaU,EAAW,uCAC9C,OAAQA,EAAO1jB,MACb,ItCC2B,qBsCAzB,OAAO,2BACFoD,GADL,IAEEmI,SAAUmY,EAAO1Y,UAErB,QACE,OAAO5H,ICmBXgX,MG5Ba,WAAyB,IAAxBhX,EAAuB,uDAAf,GAAIsgB,EAAW,uCACrC,OAAQA,EAAO1jB,MACb,IxCPgC,mBwCQ9B,OAAO,2BACFoD,GADL,IAEEiC,MAAOqe,EAAOre,MACdkT,aAAckE,QAAQiH,EAAOre,MAAMgD,UAEvC,IxCZiC,kBwCa/B,OAAO,2BACFjF,GADL,IAEEiC,MAAM,GAAD,mBAAOjC,EAAMiC,OAAS,IAAtB,YAA8Bqe,EAAOre,QAC1CkT,aAAckE,QAAQiH,EAAOre,MAAMgD,UAEvC,QACE,OAAOjF,KHgBPugB,GAAcC,YAAgB,aAClCC,OAAQC,YAAcb,KACnBQ,KASUM,GANDC,YACZL,GAxBmB,GA0BnBL,II1BaW,GAXF,kBACX,oCACE,kBAAC,IAAD,CAAUF,MAAOA,IACf,kBAAC,IAAD,CAAiBd,QAASA,IACxB,kBAAC,GAAD,OAEF,kBAAC9X,GAAD,SCLAiE,I,qBAASvF,SAAS6B,eAAe,SACvCyW,iBAAO,kBAAC,GAAD,MAAU/S,K,mBCRjBtQ,EAAOC,QAAU,CAAC,UAAY,0BAA0B,SAAW,yBAAyB,WAAa,8B","file":"static/js/main.64559bb2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrp\":\"styles_headerWrp__1_Dm5\",\"logoutBtn\":\"styles_logoutBtn__1QQL7\",\"menuBtn\":\"styles_menuBtn__1KRFV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageWrapper\":\"styles_imageWrapper__2dMls\",\"image\":\"styles_image__3p04J\",\"editForm\":\"styles_editForm__3jWNU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"threadContent\":\"styles_threadContent__3ZqFB\",\"addPostForm\":\"styles_addPostForm__3rRRi\",\"toolbar\":\"styles_toolbar__2OeiH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageWrapper\":\"styles_imageWrapper__3x6bS\",\"image\":\"styles_image__3OXF5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbarBtn\":\"styles_toolbarBtn__sddlM\",\"arhivCard\":\"styles_arhivCard__2MMZX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"arhivCard\":\"styles_arhivCard__1AVrU\",\"threadContent\":\"styles_threadContent__2ksFz\",\"addPostForm\":\"styles_addPostForm__XR4Sf\",\"toolbar\":\"styles_toolbar__3N-7t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comentsForm\":\"styles_comentsForm__B81Eb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoWrapper\":\"styles_logoWrapper__31qDY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbarBtn\":\"styles_toolbarBtn__3XrwV\",\"postCard\":\"styles_postCard__10UsJ\",\"imageWrapper\":\"styles_imageWrapper__5R3Ff\",\"postImage\":\"styles_postImage__2vqyw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageWrapper\":\"styles_imageWrapper__3imhy\",\"image\":\"styles_image__1kFBu\",\"modalForm\":\"styles_modalForm__6aFZP\",\"modalLabel\":\"styles_modalLabel__2ive0\",\"modalCard\":\"styles_modalCard__2_b6n\",\"modalInput\":\"styles_modalInput__C73TA\",\"modalDrop\":\"styles_modalDrop__3baso\",\"modalClear\":\"styles_modalClear__20c_t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment\":\"styles_comment__19pSl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoForm\":\"styles_infoForm__1KQQC\",\"infoTopCard\":\"styles_infoTopCard__3As9E\",\"infoCard\":\"styles_infoCard__1gzBk\",\"infoLabel\":\"styles_infoLabel__r594H\",\"infoEvent\":\"styles_infoEvent__x1Pex\"};","import * as queryString from 'query-string';\n\nconst { REACT_APP_DATA_SERVER: url } = process.env;\n\nfunction getFetchUrl(args) {\n  return url + args.endpoint + (args.query ? `?${queryString.stringify(args.query)}` : '');\n}\n\nfunction getFetchArgs(args) {\n  const headers = {};\n  if (!args.attachment) {\n    headers['Content-Type'] = 'application/json';\n    headers.Accept = 'application/json';\n  }\n  const token = localStorage.getItem('token');\n  if (token && !args.skipAuthorization) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  let body;\n  if (args.attachment) {\n    if (args.type === 'GET') {\n      throw new Error('GET request does not support attachments.');\n    }\n    const formData = new FormData();\n    formData.append('image', args.attachment);\n    body = formData;\n  } else if (args.request) {\n    if (args.type === 'GET') {\n      throw new Error('GET request does not support request body.');\n    }\n    body = JSON.stringify(args.request);\n  }\n  return {\n    method: args.type,\n    headers,\n    signal: args.ct,\n    ...(args.request === 'GET' ? {} : { body })\n  };\n}\n\nexport async function throwIfResponseFailed(res) {\n  if (!res.ok) {\n    let parsedException = 'Something went wrong with request!';\n    try {\n      parsedException = await res.json();\n    } catch (err) {\n      //\n    }\n    throw parsedException;\n  }\n}\n\nexport default async function callWebApi(args) {\n  const res = await fetch(\n    getFetchUrl(args),\n    getFetchArgs(args)\n  );\n  await throwIfResponseFailed(res);\n  return res;\n}\n","import callWebApi from 'src/helpers/webApiHelper';\n\nexport const uploadImage = async image => {\n  const response = await callWebApi({\n    endpoint: '/api/images/attachment',\n    type: 'POST',\n    attachment: image\n  });\n  return response.json();\n};\n\nexport const createImage = async request => {\n  const response = await callWebApi({\n    endpoint: '/api/images/',\n    type: 'POST',\n    request\n  });\n  return response.json();\n};\n\nexport const deleteImage = async imageId => {\n  const response = await callWebApi({\n    endpoint: `/api/images/${imageId}`,\n    type: 'DELETE'\n  });\n  return response.json();\n};\n\nexport const deleteTmptImage = async request => {\n  const response = await callWebApi({\n    endpoint: '/api/images/deletetmpt',\n    type: 'DELETE',\n    request\n  });\n  return response.json();\n};\n","import callWebApi from 'src/helpers/webApiHelper';\n\nexport const getAllPosts = async filter => {\n  const response = await callWebApi({\n    endpoint: '/api/posts',\n    type: 'GET',\n    query: filter\n  });\n  return response.json();\n};\n\nexport const getReactList = async postId => {\n  const response = await callWebApi({\n    endpoint: '/api/posts/postlist',\n    type: 'GET',\n    query: { postId }\n  });\n  return response.json();\n};\n\nexport const addPost = async request => {\n  const response = await callWebApi({\n    endpoint: '/api/posts',\n    type: 'POST',\n    request\n  });\n  return response.json();\n};\n\nexport const updatePost = async request => {\n  const response = await callWebApi({\n    endpoint: '/api/posts',\n    type: 'PUT',\n    request\n  });\n  return response.json();\n};\n\nexport const getPost = async id => {\n  const response = await callWebApi({\n    endpoint: `/api/posts/${id}`,\n    type: 'GET'\n  });\n  return response.json();\n};\n\nexport const deletePost = async id => {\n  const response = await callWebApi({\n    endpoint: `/api/posts/${id}`,\n    type: 'DELETE'\n  });\n  return response.json();\n};\n\nexport const getAllArhivPosts = async filter => {\n  const response = await callWebApi({\n    endpoint: '/api/posts/arhiv',\n    type: 'GET',\n    query: filter\n  });\n  return response.json();\n};\n\nexport const restorePost = async id => {\n  const response = await callWebApi({\n    endpoint: '/api/posts/restore',\n    type: 'PUT',\n    request: { postId: id }\n  });\n  return response.json();\n};\n\nexport const likePost = async postId => {\n  const response = await callWebApi({\n    endpoint: '/api/posts/react',\n    type: 'PUT',\n    request: {\n      postId,\n      isLike: true\n    }\n  });\n  return response.json();\n};\n\nexport const dislikePost = async postId => {\n  const response = await callWebApi({\n    endpoint: '/api/posts/react',\n    type: 'PUT',\n    request: {\n      postId,\n      isLike: false\n    }\n  });\n  return response.json();\n};\n\n// should be replaced by approppriate function\nexport const getPostByHash = async hash => getPost(hash);\n","export const docHeader = '<!DOCTYPE HTML> <html lang=\"ru\"> <head> <meta charset=\"utf-8\"/>'\n  + ' <title> Message from Chat </title> </head> <body>';\nexport const docBodyA = '<table cellpadding=\"0\" cellspacing=\"0\" left=\"100\" width=\"600\">'\n  + '<tr> <td width=\"100\"> </td> <td> <h3> Message : <br /></h3></td> </tr>';\nexport const docRowA = '<tr> <td width=\"100\"> </td> <td bgcolor=\"d2d1c6\" style=\"font-size: 16px; padding: 5px\">';\nexport const docRowB = '</td> </tr>';\nexport const docImgA = '<img width=\"500\" style=\"display: block;\" alt=\"СМС и Email маркетинг\" src=\"';\nexport const docImgB = '\"></img>';\nexport const docBodyEnd = '</table>';\nexport const docFooter = '</body> </html>';\n\nexport const resetMessage = 'This letter was sent to you because a password change request was received'\n  + ' on the server.<br /> If you did not send such a request, just ignore this letter.<br /><br />'\n  + 'To change your password insert new password in the field below and click button \"Send\"';\n\nexport const resetForm = (address, mail, hash) => (\n  `<form method=\"post\" action=\"${address}/pass/user/reset\" style=\"width: 450px; margin-left: 50px;`\n  + ' padding: 15px; font-size: 18px; background-color: #94dcc0; border: 1px #002aff solid\"> Input your new '\n  + 'password :<br> <input type=\"password\" name =\"pass\" style=\"background-color: #e7e7f6\"> <input type=\"text\"'\n  + ` name =\"mail\" value=\"${mail}\" style=\"display: none\"> <input type=\"text\" name =\"hash\" value=\"${hash}\" `\n  + 'style=\"display: none\"> <input type=\"submit\" value=\"S e n d\" style=\"width: 120px; background-color: '\n  + 'chartreuse; margin-left: 10px\"> </form>'\n);\n\nexport const createMailText = (address, email, pwdhash) => (\n  `${docHeader} <h3> ${resetMessage} </h3> <br /> ${resetForm(address, email, pwdhash)}`\n);\n\nexport const loadState = userId => {\n  try {\n    const localState = localStorage.getItem(`mstate_${userId}`);\n    if (localState === null) {\n      return { curAdress: undefined, curThema: undefined, curList: undefined };\n    }\n    return JSON.parse(localState);\n  } catch (err) {\n    return { curAdress: undefined, curThema: undefined, curList: undefined };\n  }\n};\n\nexport const saveState = (userId, localState) => {\n  try {\n    const state = JSON.stringify(localState);\n    localStorage.setItem(`mstate_${userId}`, state);\n  } catch {\n    // ignore write errors\n  }\n};\n\nexport const dateToLocale = data => {\n  const dataText = new Date(data).toLocaleDateString();\n  const timeText = new Date(data).toLocaleTimeString();\n  return `${dataText} at ${timeText}`;\n};\n","import callWebApi from 'src/helpers/webApiHelper';\nimport * as cons from 'src/helpers/mailData';\n\nexport const sendMail = async mail => {\n  const response = await callWebApi({\n    endpoint: '/api/posts/mail',\n    type: 'POST',\n    request: mail\n  });\n  return response.json();\n};\n\nexport const sendResetMail = async mail => {\n  const response = await callWebApi({\n    endpoint: '/pass/mail/mail',\n    type: 'POST',\n    request: mail\n  });\n  return response.json();\n};\n\nexport const sendPostReaction = (post, user) => {\n  const text = `${cons.docHeader}<h2> User ${user.username} tags your post with \"Like\" ${cons.dateToLocale(Date())}`\n    + `<br /><br /><a href=\"${window.location.origin}/share/${post.id}\">`\n    + `You would see it via link</a></h2>${cons.docFooter}`;\n  const message = { email: post.user.email, mailThema: 'Your post liked', htmlText: text };\n  sendMail(message);\n};\n","import callWebApi from 'src/helpers/webApiHelper';\n\nexport const getComment = async id => {\n  const response = await callWebApi({\n    endpoint: `/api/comments/${id}`,\n    type: 'GET'\n  });\n  return response.json();\n};\n\nexport const getReactList = async commentId => {\n  const response = await callWebApi({\n    endpoint: '/api/comments/commentlist',\n    type: 'GET',\n    query: { commentId }\n  });\n  return response.json();\n};\n\nexport const addComment = async request => {\n  const response = await callWebApi({\n    endpoint: '/api/comments/',\n    type: 'POST',\n    request\n  });\n  return response.json();\n};\n\nexport const updateComment = async request => {\n  const response = await callWebApi({\n    endpoint: '/api/comments/',\n    type: 'PUT',\n    request\n  });\n  return response.json();\n};\n\nexport const deleteComment = async commentId => {\n  const response = await callWebApi({\n    endpoint: `/api/comments/${commentId}`,\n    type: 'DELETE'\n  });\n  return response.json();\n};\n\nexport const likeComment = async commentId => {\n  const response = await callWebApi({\n    endpoint: '/api/comments/react',\n    type: 'PUT',\n    request: {\n      commentId,\n      isLike: true\n    }\n  });\n  return response.json();\n};\n\nexport const dislikeComment = async commentId => {\n  const response = await callWebApi({\n    endpoint: '/api/comments/react',\n    type: 'PUT',\n    request: {\n      commentId,\n      isLike: false\n    }\n  });\n  return response.json();\n};\n","export const ADD_POST = 'POST_ACTION:ADD_POST';\nexport const SET_ALL_POSTS = 'POST_ACTION:SET_ALL_POSTS';\nexport const LOAD_MORE_POSTS = 'POST_ACTION:LOAD_MORE_POSTS';\nexport const TOGGLE_LIKE = 'POST_ACTION:TOGGLE_LIKE';\nexport const SET_EXPANDED_POST = 'POST_ACTION:SET_EXPANDED_POST';\nexport const SET_EDIT_EDIT = 'POST_ACTION_EDIT_EDIT';\nexport const SET_INFO_POST_PANEL = 'SHOW_INFO_POST_PANEL';\nexport const SET_INFO_COMMENT_PANEL = 'SHOW_INFO_COMMENT_PANEL';\nexport const ADD_COMMENT = 'POST_ACTION:ADD_COMMENT';\nexport const SHOW_MODAL_MESS = 'SHOW_MODAL_MESSAGE';\n","import * as postService from 'src/services/postService';\nimport * as mailService from 'src/services/mailService';\nimport * as commentService from 'src/services/commentService';\nimport { LOAD_ALL_ARHIV_POSTS } from '../Arhiv/actionTypes';\nimport {\n  ADD_POST,\n  LOAD_MORE_POSTS,\n  SET_ALL_POSTS,\n  SET_EXPANDED_POST,\n  SET_EDIT_EDIT,\n  SET_INFO_POST_PANEL,\n  SET_INFO_COMMENT_PANEL,\n  SHOW_MODAL_MESS\n} from './actionTypes';\n\nconst setPostsAction = posts => ({\n  type: SET_ALL_POSTS,\n  posts\n});\n\nconst addMorePostsAction = posts => ({\n  type: LOAD_MORE_POSTS,\n  posts\n});\n\nconst addPostAction = post => ({\n  type: ADD_POST,\n  post\n});\n\nconst updateArhivAction = posts => ({\n  type: LOAD_ALL_ARHIV_POSTS,\n  posts\n});\n\nconst setExpandedPostAction = post => ({\n  type: SET_EXPANDED_POST,\n  post\n});\n\nconst setExpandedEditAction = editpost => ({\n  type: SET_EDIT_EDIT,\n  editpost\n});\n\nconst setExpandedPostInfo = infolist => ({\n  type: SET_INFO_POST_PANEL,\n  infolist\n});\n\nconst setExpandedCommentInfo = infolist => ({\n  type: SET_INFO_COMMENT_PANEL,\n  infolist\n});\n\nexport const loadPosts = filter => async dispatch => {\n  const posts = await postService.getAllPosts(filter);\n  dispatch(setPostsAction(posts));\n};\n\nexport const loadMorePosts = filter => async (dispatch, getRootState) => {\n  const { posts: { posts } } = getRootState();\n  const loadedPosts = await postService.getAllPosts(filter);\n  const filteredPosts = loadedPosts\n    .filter(post => !(posts && posts.some(loadedPost => post.id === loadedPost.id)));\n  dispatch(addMorePostsAction(filteredPosts));\n};\n\nexport const applyNewPost = postId => async (dispatch, getRootState) => {\n  const { posts: { posts: postList } } = getRootState();\n  if (postList) {\n    const newPost = await postService.getPost(postId);\n    dispatch(addPostAction(newPost));\n  }\n};\nexport const applyUpdatePost = postId => async (dispatch, getRootState) => {\n  const updPost = await postService.getPost(postId);\n  const mapUpdate = () => ({\n    ...updPost\n  });\n  const { posts: { posts, expandedPost } } = getRootState();\n  const updated = posts.map(item => (item.id !== postId ? item : mapUpdate()));\n  dispatch(setPostsAction(updated));\n  if (expandedPost && expandedPost.id === postId) {\n    dispatch(setExpandedPostAction(mapUpdate()));\n  }\n};\nexport const applyDeletePost = postId => async (dispatch, getRootState) => {\n  const { posts: { posts } } = getRootState();\n  const updated = [];\n  posts.map(item => {\n    if (item.id !== postId) updated.push(item);\n    return item;\n  });\n  dispatch(setPostsAction(updated));\n};\n\nexport const addPost = post => async dispatch => {\n  const { id } = await postService.addPost(post);\n  const newPost = await postService.getPost(id);\n  dispatch(addPostAction(newPost));\n};\n\nexport const updatePost = post => async (dispatch, getRootState) => {\n  const result = await postService.updatePost(post);\n  const { id } = result[1];\n  const updPost = await postService.getPost(id);\n  const mapUpdate = () => ({\n    ...updPost\n  });\n  const { posts: { posts, expandedPost } } = getRootState();\n  const updated = posts.map(item => (item.id !== id ? item : mapUpdate()));\n  dispatch(setPostsAction(updated));\n  if (expandedPost && expandedPost.id === id) {\n    dispatch(setExpandedPostAction(mapUpdate()));\n  }\n};\n\nexport const deletePost = postId => async (dispatch, getRootState) => {\n  const result = await postService.deletePost(postId);\n  const { id } = result[1];\n  const { posts: { posts } } = getRootState();\n  const updated = [];\n  posts.map(item => {\n    if (item.id !== id) updated.push(item);\n    return item;\n  });\n  dispatch(setPostsAction(updated));\n  const { arhiv: { posts: arhivList } } = getRootState();\n  if (arhivList) {\n    const delPost = await postService.getPost(postId); // await postService.getPost(postId);\n    const newList = [delPost, ...arhivList];\n    dispatch(updateArhivAction(newList));\n  }\n};\n\nexport const toggleExpandedPost = postId => async dispatch => {\n  const post = postId ? await postService.getPost(postId) : undefined;\n  dispatch(setExpandedPostAction(post));\n};\n\nexport const toggleEditPost = postId => async dispatch => {\n  const editpost = postId ? await postService.getPost(postId) : undefined;\n  dispatch(setExpandedEditAction(editpost));\n};\n\nexport const toggleInfoPanel = post => async dispatch => {\n  const taglist = post ? await postService.getReactList(post.id) : undefined;\n  const infolist = post ? { obj: post, taglist } : undefined;\n  dispatch(setExpandedPostInfo(infolist));\n};\n\nexport const toggleCommentPanel = comment => async dispatch => {\n  const taglist = comment ? await commentService.getReactList(comment.id) : undefined;\n  const infolist = comment ? { obj: comment, taglist } : undefined;\n  dispatch(setExpandedCommentInfo(infolist));\n};\n\nexport const likePost = postId => async (dispatch, getRootState) => {\n  const { id, dopp } = await postService.likePost(postId);\n  const diff = id ? 1 : -1; // if ID exists then the post was liked, otherwise - like was removed\n  const { posts: { posts, expandedPost }, profile } = getRootState();\n  const mapLikes = post => {\n    mailService.sendPostReaction(post, profile.user);\n    return {\n      ...post,\n      likeCount: Number(post.likeCount) + diff, // diff is taken from the current closure\n      dislikeCount: Number(post.dislikeCount) - dopp // diff is taken from the current closure\n    };\n  };\n  const updated = posts.map(post => (post.id !== postId ? post : mapLikes(post)));\n  dispatch(setPostsAction(updated));\n  if (expandedPost && expandedPost.id === postId) {\n    dispatch(setExpandedPostAction(mapLikes(expandedPost)));\n  }\n};\n\nexport const dislikePost = postId => async (dispatch, getRootState) => {\n  const { id, dopp } = await postService.dislikePost(postId);\n  const diff = id ? 1 : -1; // if ID exists then the post was liked, otherwise - like was removed\n  const mapLikes = post => ({\n    ...post,\n    dislikeCount: Number(post.dislikeCount) + diff, // diff is taken from the current closure\n    likeCount: Number(post.likeCount) - dopp\n  });\n  const { posts: { posts, expandedPost } } = getRootState();\n  const updated = posts.map(post => (post.id !== postId ? post : mapLikes(post)));\n  dispatch(setPostsAction(updated));\n  if (expandedPost && expandedPost.id === postId) {\n    dispatch(setExpandedPostAction(mapLikes(expandedPost)));\n  }\n};\n\nexport const toggleSendMail = async mail => {\n  const result = await mailService.sendMail(mail);\n  return result;\n};\nexport const sendResetMail = async mail => {\n  const result = await mailService.sendResetMail(mail);\n  return result;\n};\n\nexport const addComment = request => async (dispatch, getRootState) => {\n  const { id } = await commentService.addComment({ body: request.body, postId: request.postId });\n  const comment = await commentService.getComment(id);\n  const mapExpandedPost = post => ({\n    ...post,\n    commentCount: Number(post.commentCount) + 1,\n    comments: [...(post.comments), comment]\n  });\n  const mapPosts = post => ({\n    ...post,\n    commentCount: Number(post.commentCount) + 1\n  });\n\n  const { posts: { posts, expandedPost } } = getRootState();\n  const updatedPosts = posts.map(post => (post.id !== comment.postId ? post : mapPosts(post)));\n  dispatch(setPostsAction(updatedPosts));\n  const updated = mapExpandedPost(expandedPost);\n  dispatch(setExpandedPostAction(updated));\n};\n\nexport const updateComment = request => async (dispatch, getRootState) => {\n  const result = await commentService.updateComment(request);\n  const { id: comId, body: newBody } = result[1];\n  const mapComment = item => ({\n    ...item,\n    body: newBody\n  });\n  const mapExpandedPost = post => ({\n    ...post,\n    commentCount: Number(post.commentCount) + 1,\n    comments: post.comments.map(comment => (comment.id !== comId ? comment : mapComment(comment)))\n  });\n  const { posts: { expandedPost } } = getRootState();\n  const updated = mapExpandedPost(expandedPost);\n  dispatch(setExpandedPostAction(updated));\n};\n\nexport const deleteComment = commentId => async (dispatch, getRootState) => {\n  const result = await commentService.deleteComment(commentId);\n  const { id, postId } = result[1];\n  const mapComment = item => ({\n    ...item,\n    deleted: true\n  });\n  const mapExpandedPost = post => ({\n    ...post,\n    commentCount: Number(post.commentCount) - 1,\n    comments: post.comments.map(comment => (comment.id !== id ? comment : mapComment(comment)))\n  });\n  const mapPosts = post => ({\n    ...post,\n    commentCount: Number(post.commentCount) - 1\n  });\n  const { posts: { posts, expandedPost } } = getRootState();\n  const updatedPosts = posts.map(post => (post.id !== postId ? post : mapPosts(post)));\n  dispatch(setPostsAction(updatedPosts));\n  const updated = mapExpandedPost(expandedPost);\n  dispatch(setExpandedPostAction(updated));\n};\n\nexport const likeComment = commentId => async (dispatch, getRootState) => {\n  const { id, dopp } = await commentService.likeComment(commentId);\n  const diff = id ? 1 : -1;\n  const mapComment = item => ({\n    ...item,\n    likeCou: Number(item.likeCou) + diff,\n    dislikeCou: Number(item.dislikeCou) - dopp\n  });\n  const mapExpandedPost = post => ({\n    ...post,\n    comments: post.comments.map(comment => (comment.id !== commentId ? comment : mapComment(comment)))\n  });\n  const { posts: { expandedPost } } = getRootState();\n  const updated = mapExpandedPost(expandedPost);\n  dispatch(setExpandedPostAction(updated));\n};\n\nexport const dislikeComment = commentId => async (dispatch, getRootState) => {\n  const { id, dopp } = await commentService.dislikeComment(commentId);\n  const diff = id ? 1 : -1;\n  const mapComment = item => ({\n    ...item,\n    dislikeCou: Number(item.dislikeCou) + diff,\n    likeCou: Number(item.likeCou) - dopp\n  });\n  const mapExpandedPost = post => ({\n    ...post,\n    comments: post.comments.map(comment => (comment.id !== commentId ? comment : mapComment(comment)))\n  });\n  const { posts: { expandedPost } } = getRootState();\n  const updated = mapExpandedPost(expandedPost);\n  dispatch(setExpandedPostAction(updated));\n};\n\nexport function showModalWnd(value) {\n  return {\n    type: SHOW_MODAL_MESS,\n    showing: value\n  };\n}\n","export const LOAD_ALL_ARHIV_POSTS = 'LOAD_ARHIV_POSTS';\nexport const LOAD_MORE_ARHIV_POSTS = 'LOAD_ARHIV_MORE';\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { showModalWnd } from 'src/containers/Thread/actions';\nimport * as icon from './messIcons';\nimport './messStyles.scss';\n\nexport const oK = 'Ok';\n\nfunction MyModal({ isShowing, hide, caps, mode }) {\n  if (isShowing === true) {\n    let ico;\n    const butts = [];\n    if (mode) {\n      butts.push(\n        <button id=\"keyModal\" type=\"button\" className=\"modal-button\" onClick={hide}>\n          {oK}\n        </button>\n      );\n      butts.push(\n        <button id=\"keyModal\" type=\"button\" className=\"modal-button\" onClick={hide}>\n          Cancel\n        </button>\n      );\n      ico = icon.icoAsk;\n    } else {\n      butts.push(\n        <button id=\"keyModal\" type=\"button\" className=\"modal-button\" onClick={hide} onKeyUp={hide}>\n          {oK}\n        </button>\n      );\n      ico = icon.icoAlert;\n    }\n    return ReactDOM.createPortal(\n      <>\n        <div className=\"modal-overlay\" />\n        <div className=\"modal-wrapper\" aria-modal aria-hidden tabIndex={-1} role=\"dialog\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <img src={ico} type=\"image/x-icon\" alt=\"Icon\" className=\"modal-img\" />\n              <div className=\"modal-label\">\n                {caps}\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              {butts}\n            </div>\n          </div>\n        </div>\n      </>, document.body\n    );\n  }\n  return null;\n}\n\nlet showPoint;\nexport class ModalWindow extends React.Component {\n  constructor(props) {\n    super(props);\n    this.caption = '';\n    this.doHide = this.doHide.bind(this);\n    this.doShow = this.doShow.bind(this);\n    showPoint = this.doShow;\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeyPress, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyPress, true);\n  }\n\n  handleKeyPress(event) {\n    event.stopImmediatePropagation();\n    this.logick = true;\n  }\n\n  doShow(mess, mode = false, callback = undefined) {\n    this.caption = mess;\n    this.mode = mode;\n    this.callback = callback;\n    const { setVisiAction } = this.props;\n    setVisiAction(true);\n  }\n\n  doHide(event) {\n    this.caption = '';\n    const { setVisiAction } = this.props;\n    setVisiAction(false);\n    if (this.callback) this.callback(event.currentTarget.innerText);\n  }\n\n  render() {\n    const { showing } = this.props;\n    return (\n      <MyModal isShowing={showing} hide={this.doHide} caps={this.caption} mode={this.mode} />\n    );\n  }\n}\n\nModalWindow.propTypes = {\n  showing: PropTypes.bool.isRequired,\n  setVisiAction: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps(rootState) {\n  return { showing: rootState.modals.modalWnd };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setVisiAction: modalWnd => dispatch(showModalWnd(modalWnd))\n  };\n}\n\nexport const ModalMessage = connect(mapStateToProps, mapDispatchToProps)(ModalWindow);\n\nexport function showModal(mess, mode, callback) {\n  showPoint(mess, mode, callback);\n  setTimeout(() => document.getElementById('keyModal').focus(), 1060);\n}\n","import React from 'react';\n\nexport const lF = String.fromCharCode(10);\n\nexport const formatString = text => {\n  const result = [];\n  text.split(lF).forEach((item, index, array) => {\n    result.push(item);\n    if (index < array.length - 1) result.push(<br />);\n  });\n  return result;\n};\n\nconst itemName = 'mailAddress';\n\nexport const loadMailAddress = () => {\n  try {\n    return sessionStorage.getItem(itemName);\n  } catch (err) {\n    return '';\n  }\n};\n\nexport const saveMailAddress = address => {\n  try {\n    sessionStorage.setItem(itemName, address);\n  } catch {\n    // ignore write errors\n  }\n};\n","export const icoAlert = 'data:image/x-icon;base64,AAABAAEAICAEAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAAAIAAAAAAAAA'\n+ 'AAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAHd3d3d3d3d'\n+ '3d3d3d3AAAAd3d3d3d3d3d3d3d3d3AAMAAAAAAAAAAAAAAAB3d3A7u7u7u7u7u7u7u7u4B3dzu7u7u7u7u7u7u7u7u4B3c7u7u7u7u7u7u7u7u7'\n+ 'uwd3O7u7u7u7uACLu7u7u7sHcDu7u7u7u7AAC7u7u7u4B3ADu7u7u7uwAAu7u7u7sHcAA7u7u7u7uACLu7u7u4B3AAA7u7u7u7u7u7u7u7sHcAA'\n+ 'AO7u7u7u7C7u7u7u4B3AAAAO7u7u7uAi7u7u7sHcAAAADu7u7u7MDu7u7u4B3AAAAADu7u7uwALu7u7sHcAAAAAA7u7u7gACLu7u4B3AAAAAAA7'\n+ 'u7uzAAO7u7sHcAAAAAAAO7u7sAAAu7u4B3AAAAAAAAO7u7AAALu7sHcAAAAAAAADu7uwAAC7u4B3AAAAAAAAADu7sAAAu7sHcAAAAAAAAAA7u7AA'\n+ 'ALu4B3AAAAAAAAAAA7u4AAi7sHcAAAAAAAAAAAO7u7u7u4B3AAAAAAAAAAAAO7u7u7sHcAAAAAAAAAAAADu7u7u4B3AAAAAAAAAAAAADu7u7sHcA'\n+ 'AAAAAAAAAAAAA7u7u4B3AAAAAAAAAAAAAAA7u7sHcAAAAAAAAAAAAAAAO7u4BwAAAAAAAAAAAAAAAAO7gAAAAAAAAAAAAAAAAAAAMzAAAAAAAAAA'\n+ 'D4AAAD8AAAAcAAAACAAAAAAAAAAAAAAAAAAAABAAAAAYAAAAOAAAADwAAAB8AAAAfgAAAP4AAAD/AAAB/wAAAf+AAAP/gAAD/8AAB//AAAf/4AAP'\n+ '/+AAD//wAB//8AAf//gAP//4AD///AB///wAf//+AP///gH///8H////j//w==';\n\nexport const icoAsk = 'data:image/x-icon;base64,AAABAAEAICAEAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAAAIAAAAAAAAAAAA'\n+ 'AAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAB3AAAAA'\n+ 'AAAAAAAAAAAAAAHdwAAAAAAAAAAAAAAAAAAAHcAAAAAAAAAAAAAAAAAAPB3AAAAAAAAAAAAAAAAAA/wdwAAAAAAAAAAAAAAAHD/8HcAAAAAAAAAAAAAB'\n+ '3dw//B3d3AAAAAAAAAAB3cACP/wd3d3cAAAAAAAAHAAj///+AAHd3cAAAAAAAAI////////gAd3cAAAAAAI//////////+Ad3cAAAAA//////////'\n+ '///wd3cAAAD/////+MyP/////wd3cAB///////zMz//////wd3AHj//////8zM//////+Ad3B///////+MyP//////8Hd3j/////////////////g'\n+ 'Hd/////////zP////////B3f////////8yP///////wd3/////////Mz///////8Hd/////////jMz///////B3f/////+MyPzMz//////wcHj///'\n+ '//zMz4zMz/////gHAH/////8zM/8zM/////wcAB4/////M///MzP////gAAAB/////jI/8zMj////wAAAAB/////jMzMyP////AAAAAAB////////'\n+ '/////8AAAAAAAB4//////////+HAAAAAAAAB3j///////+HcAAAAAAAAAAHd4////h3cAAAAAAAAAAAAAB3d3d3AAAAAAAAD//+f////H////h///'\n+ '/wf///4H///4B///wAD//wAAP/4AAB/8AAAP+AAAB/AAAAPgAAABwAAAAYAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAYAAAAOAA'\n+ 'AAHwAAAD+AAAB/wAAA/+AAAf/wAAP//AAP//+Af/w==';\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Button } from 'semantic-ui-react';\n\nlet commentId;\n\nconst AddComment = ({\n  postId,\n  addComment,\n  updateComment,\n  editComment\n}) => {\n  const [body, setBody] = useState('');\n  const cancelEdit = () => {\n    document.getElementById('submit').content = 'Post comment';\n    document.getElementById('label').innerText = '';\n    commentId = undefined;\n    setBody('');\n  };\n  const handleAddComment = async () => {\n    if (!body) {\n      return;\n    }\n    if (commentId) {\n      await updateComment({ commentId, body });\n    } else {\n      await addComment({ postId, body });\n    }\n    cancelEdit();\n  };\n  const setEditComment = comment => {\n    commentId = comment.id;\n    document.getElementById('textArea').focus();\n    document.getElementById('submit').content = 'Save comment';\n    document.getElementById('label').innerText = `Edit Comment : ${commentId}`;\n    setBody(comment.body);\n  };\n  editComment(setEditComment);\n  return (\n    <Form reply onSubmit={handleAddComment}>\n      <div id=\"label\" />\n      <Form.TextArea\n        id=\"textArea\"\n        value={body}\n        placeholder=\"Type a comment...\"\n        onChange={ev => setBody(ev.target.value)}\n      />\n      <Button id=\"submit\" type=\"submit\" content=\"Post comment\" labelPosition=\"left\" icon=\"edit\" primary />\n      <Button\n        type=\"reset\"\n        content=\"Cancel\"\n        labelPosition=\"left\"\n        icon=\"cancel\"\n        style={{ backgroundColor: 'red' }}\n        onClick={cancelEdit}\n        primary\n      />\n    </Form>\n  );\n};\n\nAddComment.propTypes = {\n  editComment: PropTypes.func.isRequired,\n  addComment: PropTypes.func.isRequired,\n  updateComment: PropTypes.func.isRequired,\n  postId: PropTypes.string.isRequired\n};\n\nexport default AddComment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, Image, Label, Icon } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { formatString } from 'src/services/stringservice';\nimport { showModal, oK } from '../Messages/index';\nimport styles from './styles.module.scss';\n\nconst likeMess = 'Your can`t like or dislike own posts ....';\nconst delMess = 'Do yor want to DELETE this post ?';\n\nconst Post = ({\n  post,\n  likePost,\n  dislikePost,\n  deletePost,\n  toggleExpandedPost,\n  toggleEditPost,\n  toggleInfoPanel,\n  sharePost,\n  current,\n  filter\n}) => {\n  const {\n    id,\n    image,\n    body,\n    user,\n    likeCount,\n    dislikeCount,\n    commentCount,\n    createdAt,\n    mycount\n  } = post;\n  const date = moment(createdAt).fromNow();\n\n  function ascdeletePost(message) {\n    if (message === oK) deletePost(post.id);\n  }\n  function ownLikeLabels() {\n    return [\n      <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => showModal(likeMess)}>\n        <Icon name=\"thumbs up\" />\n        {likeCount}\n      </Label>,\n      <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => showModal(likeMess)}>\n        <Icon name=\"thumbs down\" />\n        {dislikeCount}\n      </Label>\n    ];\n  }\n  function alienLikeLabels() {\n    return [\n      <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => likePost(id)}>\n        <Icon name=\"thumbs up\" />\n        {likeCount}\n      </Label>,\n      <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => dislikePost(id)}>\n        <Icon name=\"thumbs down\" />\n        {dislikeCount}\n      </Label>\n    ];\n  }\n  function editlabels() {\n    const result = [\n      <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => toggleEditPost(id)}>\n        <Icon name=\"edit\" />\n        Edit\n      </Label>\n    ];\n    if (deletePost) {\n      result.push(\n        <Label\n          basic\n          size=\"small\"\n          as=\"a\"\n          className={styles.toolbarBtn}\n          onClick={() => showModal(delMess, true, ascdeletePost)}\n        >\n          <Icon name=\"trash\" />\n          Delete\n        </Label>\n      );\n    }\n    return result;\n  }\n\n  if ((!mycount || mycount === '1') && (filter !== 1 || current === user.id)) {\n    return (\n      <Card className={styles.postCard}>\n        {image && <Image className={styles.postImage} src={image.link} wrapped />}\n        <Card.Content>\n          <Card.Meta>\n            <span className=\"date\">\n              posted by\n              {' '}\n              {user.username}\n              {' - '}\n              {date}\n              {user.status ? [<br />, ` ( ${user.status} )`] : undefined}\n            </span>\n          </Card.Meta>\n          <Card.Description>\n            {formatString(body)}\n          </Card.Description>\n        </Card.Content>\n        <Card.Content extra>\n          {current === user.id ? ownLikeLabels() : alienLikeLabels()}\n          <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => toggleExpandedPost(id)}>\n            <Icon name=\"comment\" />\n            {commentCount}\n          </Label>\n          <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => sharePost(post)}>\n            <Icon name=\"mail outline\" />\n            E-Mail\n          </Label>\n          {current === user.id ? editlabels() : undefined}\n          <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => toggleInfoPanel(post)}>\n            <Icon name=\"help\" />\n            Info\n          </Label>\n        </Card.Content>\n      </Card>\n    );\n  }\n  return null;\n};\n\nPost.propTypes = {\n  post: PropTypes.objectOf(PropTypes.any).isRequired,\n  likePost: PropTypes.func.isRequired,\n  dislikePost: PropTypes.func.isRequired,\n  deletePost: PropTypes.func.isRequired,\n  toggleExpandedPost: PropTypes.func.isRequired,\n  toggleEditPost: PropTypes.func.isRequired,\n  toggleInfoPanel: PropTypes.func.isRequired,\n  sharePost: PropTypes.func.isRequired,\n  current: PropTypes.string.isRequired,\n  filter: PropTypes.number.isRequired\n};\n\nexport default Post;\n","export const getUserImgLink = image => (image\n  ? image.link\n  : 'https://forwardsummit.ca/wp-content/uploads/2019/01/avatar-default.png');\n\nexport const getUserImgHash = image => (image\n  ? image.deleteHash\n  : '');\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Comment as CommentUI, Label, Icon } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { formatString } from 'src/services/stringservice';\nimport { getUserImgLink } from 'src/helpers/imageHelper';\nimport { showModal, oK } from '../Messages/index';\nimport styles from './styles.module.scss';\n\nconst likeMess = 'Your can`t like or dislike own comment ....';\nconst delMess = 'Do yor want to DELETE this comment ?';\n\nconst Comment = (\n  {\n    comment,\n    likeComment,\n    dislikeComment,\n    editComment,\n    deleteComment,\n    toggleInfo,\n    current\n  }\n) => {\n  const { id, body, createdAt, user, likeCou, dislikeCou } = comment;\n  function delComment(idd) {\n    const doDelete = message => { if (message === oK) deleteComment(idd); };\n    showModal(delMess, true, doDelete);\n  }\n  function ownLikeLabels() {\n    return [\n      <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => showModal(likeMess)}>\n        <Icon name=\"thumbs up\" />\n        {likeCou}\n      </Label>,\n      <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => showModal(likeMess)}>\n        <Icon name=\"thumbs down\" />\n        {dislikeCou}\n      </Label>,\n      <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => editComment({ id, body })}>\n        <Icon name=\"edit\" />\n        Edit\n      </Label>,\n      <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => delComment(id)}>\n        <Icon name=\"trash\" />\n        Delete\n      </Label>\n    ];\n  }\n  function alienLikeLabels() {\n    return [\n      <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => likeComment(id)}>\n        <Icon name=\"thumbs up\" />\n        {likeCou}\n      </Label>,\n      <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => dislikeComment(id)}>\n        <Icon name=\"thumbs down\" />\n        {dislikeCou}\n      </Label>\n    ];\n  }\n  return (\n    <CommentUI className={styles.comment}>\n      <CommentUI.Avatar src={getUserImgLink(user.image)} />\n      <CommentUI.Content>\n        <CommentUI.Author as=\"a\">\n          {user.username}\n        </CommentUI.Author>\n        <CommentUI.Metadata>\n          {moment(createdAt).fromNow()}\n        </CommentUI.Metadata>\n        <CommentUI.Text>\n          {user.status ? ` ( ${user.status} )` : undefined}\n        </CommentUI.Text>\n        <CommentUI.Text>\n          {formatString(body)}\n        </CommentUI.Text>\n      </CommentUI.Content>\n      <CommentUI.Content>\n        <CommentUI.Text>\n          {user.id === current ? ownLikeLabels() : alienLikeLabels()}\n          <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => toggleInfo(comment)}>\n            <Icon name=\"help\" />\n            Info\n          </Label>\n        </CommentUI.Text>\n      </CommentUI.Content>\n    </CommentUI>\n  );\n};\n\nComment.propTypes = {\n  comment: PropTypes.objectOf(PropTypes.any).isRequired,\n  current: PropTypes.string.isRequired,\n  likeComment: PropTypes.func.isRequired,\n  dislikeComment: PropTypes.func.isRequired,\n  deleteComment: PropTypes.func.isRequired,\n  editComment: PropTypes.func.isRequired,\n  toggleInfo: PropTypes.func.isRequired\n};\n\nexport default Comment;\n","import React from 'react';\nimport { Dimmer, Loader } from 'semantic-ui-react';\n\nconst Spinner = () => (\n  <Dimmer active inverted>\n    <Loader size=\"massive\" inverted />\n  </Dimmer>\n);\n\nexport default Spinner;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Modal, Comment as CommentUI, Header } from 'semantic-ui-react';\nimport moment from 'moment';\nimport {\n  likePost,\n  dislikePost,\n  toggleExpandedPost,\n  addComment,\n  updateComment,\n  deleteComment,\n  toggleEditPost,\n  toggleInfoPanel,\n  toggleCommentPanel\n} from 'src/containers/Thread/actions';\nimport Post from 'src/components/Post';\nimport Comment from 'src/components/Comment';\nimport AddComment from 'src/components/AddComment';\nimport Spinner from 'src/components/Spinner';\nimport styles from './styles.module.scss';\n\nconst ExpandedPost = ({\n  post,\n  sharePost,\n  likePost: like,\n  dislikePost: dislike,\n  likeComment: likeCom,\n  dislikeComment: dislikeCom,\n  toggleExpandedPost: toggle,\n  toggleEditPost: toggleEdit,\n  toggleInfoPanel: toggleInfo,\n  toggleCommentPanel: toggleComment,\n  addComment: addComm,\n  updateComment: updComm,\n  deleteComment: deleteCom,\n  current,\n  filter\n}) => {\n  let editComFunction;\n  const editCom = param => editComFunction(param);\n  const setEditCom = param => { editComFunction = param; };\n  return (\n    <Modal className={styles.comentsForm} open onClose={() => toggle()}>\n      { post\n        ? (\n          <Modal.Content>\n            <Post\n              post={post}\n              likePost={like}\n              dislikePost={dislike}\n              toggleExpandedPost={toggle}\n              toggleEditPost={toggleEdit}\n              toggleInfoPanel={toggleInfo}\n              sharePost={sharePost}\n              current={current}\n              filter={filter}\n            />\n            <CommentUI.Group style={{ maxWidth: '100%' }}>\n              <Header as=\"h3\" dividing>\n                Comments\n              </Header>\n              {post.comments && post.comments\n                .sort((c1, c2) => moment(c1.createdAt).diff(c2.createdAt))\n                .map(comment => {\n                  if (!comment.deleted) {\n                    return (\n                      <Comment\n                        key={comment.id}\n                        comment={comment}\n                        likeComment={likeCom}\n                        dislikeComment={dislikeCom}\n                        deleteComment={deleteCom}\n                        editComment={editCom}\n                        toggleInfo={toggleComment}\n                        current={current}\n                      />\n                    );\n                  }\n                  return null;\n                })}\n              <AddComment\n                postId={post.id}\n                addComment={addComm}\n                updateComment={updComm}\n                editComment={setEditCom}\n              />\n            </CommentUI.Group>\n          </Modal.Content>\n        )\n        : <Spinner />}\n    </Modal>\n  );\n};\n\nExpandedPost.propTypes = {\n  post: PropTypes.objectOf(PropTypes.any).isRequired,\n  toggleExpandedPost: PropTypes.func.isRequired,\n  toggleEditPost: PropTypes.func.isRequired,\n  toggleInfoPanel: PropTypes.func.isRequired,\n  toggleCommentPanel: PropTypes.func.isRequired,\n  likePost: PropTypes.func.isRequired,\n  dislikePost: PropTypes.func.isRequired,\n  likeComment: PropTypes.func.isRequired,\n  dislikeComment: PropTypes.func.isRequired,\n  addComment: PropTypes.func.isRequired,\n  updateComment: PropTypes.func.isRequired,\n  deleteComment: PropTypes.func.isRequired,\n  sharePost: PropTypes.func.isRequired,\n  current: PropTypes.string.isRequired,\n  filter: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = rootState => ({\n  post: rootState.posts.expandedPost\n});\n\nconst actions = {\n  likePost,\n  dislikePost,\n  toggleExpandedPost,\n  toggleEditPost,\n  toggleInfoPanel,\n  toggleCommentPanel,\n  addComment,\n  updateComment,\n  deleteComment\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators(actions, dispatch);\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExpandedPost);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Modal, Form, Button, Icon, Image, Segment } from 'semantic-ui-react';\nimport { toggleEditPost, updatePost } from 'src/containers/Thread/actions';\nimport { showModal, oK } from 'src/components/Messages/index';\nimport { deleteImage, deleteTmptImage } from 'src/services/imageService';\nimport styles from './styles.module.scss';\n\nconst editNotSave = 'Changes not saved! Exit anyway ?';\n\nconst ExpandedEdit = ({\n  post,\n  uploadImage,\n  createImage,\n  toggleEditPost: toggleEdit,\n  updatePost: updPost\n}) => {\n  const [body, setBody] = useState(post.body);\n  const [edited, setEdited] = useState({ bodyedit: false, linkedit: false });\n  const oldLink = post.image ? post.image.link : undefined;\n  const oldHash = post.image ? post.image.deleteHash : '';\n  const [image, setImage] = useState({ link: oldLink, deleteHash: oldHash });\n  const [tmptHash, setTmptHash] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n  const postId = post.id;\n\n  function ascSavePost(message) {\n    if (message === oK) {\n      if (tmptHash) deleteTmptImage({ tmptHash });\n      toggleEdit();\n    }\n  }\n\n  const handleUploadFile = async ({ target }) => {\n    setIsUploading(true);\n    try {\n      if (tmptHash) deleteTmptImage({ tmptHash });\n      const { link, deleteHash } = await uploadImage(target.files[0]);\n      setImage({ link, deleteHash });\n      setEdited({ linkedit: true });\n      setTmptHash(deleteHash);\n    } finally {\n      // TODO: show error\n      setIsUploading(false);\n    }\n  };\n  const handleRemoveFile = () => {\n    if (tmptHash) deleteTmptImage({ tmptHash });\n    setImage(undefined);\n    setEdited({ linkedit: true });\n    setTmptHash('');\n  };\n  const handleUpdatePost = async () => {\n    if (!body) {\n      return;\n    }\n    let imageId;\n    if (edited.linkedit === true) {\n      if (post.imageId) {\n        await deleteImage(post.imageId);\n      }\n      const newImage = image ? await createImage(image) : {};\n      imageId = newImage.id;\n    } else {\n      imageId = post.image ? post.image.id : undefined;\n    }\n    await updPost({ postId, body, imageId });\n    toggleEdit();\n  };\n  const handleClose = () => {\n    if ((edited.bodyedit === true) || (edited.linkedit === true)) {\n      showModal(editNotSave, true, ascSavePost);\n    } else {\n      toggleEdit();\n    }\n  };\n  const elem = document.getElementById('postbody');\n  if (elem) setTimeout(() => elem.focus(), 10);\n  return (\n    <Modal className={styles.editForm} open onClose={handleClose}>\n      <Modal.Content>\n        <Segment>\n          <Form onSubmit={handleUpdatePost}>\n            <Form.TextArea\n              id=\"postbody\"\n              rows=\"6\"\n              name=\"body\"\n              value={body}\n              placeholder=\"What is the news?\"\n              onChange={ev => {\n                setEdited({ bodyedit: true });\n                setBody(ev.target.value);\n              }}\n            />\n            {image?.link && (\n              <div className={styles.imageWrapper}>\n                <Image className={styles.image} src={image ? image.link : ''} alt=\"post\" />\n              </div>\n            )}\n            <Button color=\"teal\" icon labelPosition=\"left\" as=\"label\" loading={isUploading} disabled={isUploading}>\n              <Icon name=\"image\" />\n              Attach image\n              <input name=\"image\" type=\"file\" onChange={handleUploadFile} hidden />\n            </Button>\n            <Button\n              color=\"yellow\"\n              icon\n              labelPosition=\"left\"\n              as=\"label\"\n              loading={isUploading}\n              disabled={isUploading}\n              onClick={handleRemoveFile}\n            >\n              <Icon name=\"cancel\" />\n              Remove image\n            </Button>\n            <Button floated=\"right\" color=\"blue\" type=\"submit\">\n              <Icon name=\"edit\" />\n              Save Post\n            </Button>\n          </Form>\n        </Segment>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nExpandedEdit.propTypes = {\n  post: PropTypes.objectOf(PropTypes.any).isRequired,\n  toggleEditPost: PropTypes.func.isRequired,\n  updatePost: PropTypes.func.isRequired,\n  uploadImage: PropTypes.func.isRequired,\n  createImage: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = rootState => ({\n  post: rootState.posts.expandedEdit\n});\n\nconst actions = { updatePost, toggleEditPost };\n\nconst mapDispatchToProps = dispatch => bindActionCreators(actions, dispatch);\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExpandedEdit);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { formatString } from 'src/services/stringservice';\nimport { Modal, Card, Header, Feed } from 'semantic-ui-react';\nimport { toggleInfoPanel, toggleCommentPanel } from 'src/containers/Thread/actions';\nimport { getUserImgLink } from 'src/helpers/imageHelper';\nimport styles from './styles.module.scss';\n\nconst ExpandedInfo = ({\n  listInfo,\n  infomode = true,\n  toggleInfoPanel: togglePost,\n  toggleCommentPanel: toggleComment\n}) => {\n  function toggleExit() {\n    if (infomode === true) {\n      togglePost();\n    } else {\n      toggleComment();\n    }\n  }\n  const {\n    obj,\n    taglist\n  } = listInfo;\n  const {\n    body,\n    user,\n    createdAt\n  } = obj;\n  function appends(array, count) {\n    for (let i = 1; i <= count; i += 1) {\n      array.push(\n        <Feed.Event style={{ height: '48px' }}>\n          <Feed.Label style={{ marginLeft: '10px' }} image=\"\" />\n          <Feed.Content>\n            {'  '}\n          </Feed.Content>\n        </Feed.Event>\n      );\n    }\n  }\n  const date = moment(createdAt).fromNow();\n  const likes = [];\n  const dislikes = [];\n  taglist.forEach(item => {\n    if (item.isLike) {\n      likes.push(\n        <Feed.Event className={styles.infoEvent}>\n          <Feed.Label className={styles.infoLabel} image={getUserImgLink(item.user.image)} />\n          <Feed.Content>\n            {item.user.username}\n            {' - '}\n            {moment(item.createdAt).fromNow()}\n          </Feed.Content>\n        </Feed.Event>\n      );\n    } else {\n      dislikes.push(\n        <Feed.Event className={styles.infoEvent}>\n          <Feed.Label className={styles.infoLabel} image={getUserImgLink(item.user.image)} />\n          <Feed.Content>\n            {item.user.username}\n            {' - '}\n            {moment(item.createdAt).fromNow()}\n          </Feed.Content>\n        </Feed.Event>\n      );\n    }\n  });\n  if (likes.length > dislikes.length) {\n    appends(dislikes, likes.length - dislikes.length);\n  } else {\n    appends(likes, dislikes.length - likes.length);\n  }\n  return (\n    <Modal className={styles.infoForm} open onClose={toggleExit}>\n      <Modal.Content>\n        <Card className={styles.infoTopCard}>\n          <Card.Content>\n            <Card.Meta>\n              <span className=\"date\">\n                {infomode ? 'Posted by ' : 'Comment by '}\n                {' '}\n                {user.username}\n                {' - '}\n                {date}\n              </span>\n            </Card.Meta>\n            <Card.Description>\n              {formatString(body)}\n            </Card.Description>\n          </Card.Content>\n        </Card>\n        <Card.Group>\n          <Card id={styles.infoCard}>\n            <Card.Content>\n              <Header dividing>Likes :</Header>\n            </Card.Content>\n            <Feed>\n              {likes}\n            </Feed>\n          </Card>\n          <Card id={styles.infoCard}>\n            <Card.Content>\n              <Header dividing>DisLikes :</Header>\n            </Card.Content>\n            <Feed>\n              {dislikes}\n            </Feed>\n          </Card>\n        </Card.Group>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nExpandedInfo.propTypes = {\n  listInfo: PropTypes.objectOf(PropTypes.any).isRequired,\n  infomode: PropTypes.bool.isRequired,\n  toggleInfoPanel: PropTypes.func.isRequired,\n  toggleCommentPanel: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = () => ({\n  toggleInfoPanel: PropTypes.func.isRequired,\n  toggleCommentPanel: PropTypes.func.isRequired\n});\n\nconst actions = { toggleInfoPanel, toggleCommentPanel };\n\nconst mapDispatchToProps = dispatch => bindActionCreators(actions, dispatch);\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExpandedInfo);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Button, Icon, Image, Segment } from 'semantic-ui-react';\nimport * as imageService from 'src/services/imageService';\nimport styles from './styles.module.scss';\n\nconst AddPost = ({\n  addPost,\n  uploadImage,\n  createImage\n}) => {\n  const [body, setBody] = useState('');\n  const [image, setImage] = useState(undefined);\n  const [tmptHash, setTmptHash] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n\n  const handleAddPost = async () => {\n    if (!body) {\n      return;\n    }\n    setTmptHash('');\n    const { id: imageId } = image ? await createImage(image) : {};\n    await addPost({ imageId, body });\n    setBody('');\n    setImage(undefined);\n  };\n\n  const handleUploadFile = async ({ target }) => {\n    setIsUploading(true);\n    try {\n      if (tmptHash) imageService.deleteTmptImage({ tmptHash });\n      const { link, deleteHash } = await uploadImage(target.files[0]);\n      setImage({ link, deleteHash });\n      setTmptHash(deleteHash);\n    } finally {\n      // TODO: show error\n      setIsUploading(false);\n    }\n  };\n\n  return (\n    <Segment>\n      <Form onSubmit={handleAddPost}>\n        <Form.TextArea\n          name=\"body\"\n          value={body}\n          placeholder=\"What is the news?\"\n          onChange={ev => setBody(ev.target.value)}\n        />\n        {image && (\n          <div className={styles.imageWrapper}>\n            <Image className={styles.image} src={image.link} alt=\"post\" />\n          </div>\n        )}\n        <Button color=\"teal\" icon labelPosition=\"left\" as=\"label\" loading={isUploading} disabled={isUploading}>\n          <Icon name=\"image\" />\n          Attach image\n          <input name=\"image\" type=\"file\" onChange={handleUploadFile} hidden />\n        </Button>\n        <Button floated=\"right\" color=\"blue\" type=\"submit\">\n          <Icon name=\"edit\" />\n          Add Post\n        </Button>\n      </Form>\n    </Segment>\n  );\n};\n\nAddPost.propTypes = {\n  addPost: PropTypes.func.isRequired,\n  uploadImage: PropTypes.func.isRequired,\n  createImage: PropTypes.func.isRequired\n};\n\nexport default AddPost;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Form, Dropdown, Label, Input, Icon, Button, Card, Image, Divider } from 'semantic-ui-react';\nimport { formatString, lF } from 'src/services/stringservice';\nimport { toggleSendMail } from 'src/containers/Thread/actions';\nimport { showModal, oK } from 'src/components/Messages/index';\nimport * as cons from 'src/helpers/mailData';\nimport styles from './styles.module.scss';\n\nconst { REACT_APP_DATA_SERVER: url } = process.env;\n\nfunction formatMailString(value) {\n  let result = '';\n  value.split(lF).forEach(item => {\n    result += `${item} <br />`;\n  });\n  return result;\n}\nfunction formatPostImage(image) {\n  const result = image\n    ? `${cons.docRowA} ${cons.docImgA} ${image.link} ${cons.docImgB} ${cons.docRowB} <br />`\n    : '';\n  return result;\n}\nfunction formatPost(post) {\n  const result = `${cons.docBodyA} ${formatPostImage(post.image)}`\n  + `${cons.docRowA} ${formatMailString(post.body)} ${cons.docRowB} ${cons.docBodyEnd}`;\n  return result;\n}\nfunction createMailText(text, post) {\n  const result = `${cons.docHeader} <h3> ${formatMailString(text)} </h3> ${formatPost(post)}`\n  + `<h3><a href=\"${url}/share:${post.id}\">`\n  + `This message available via link</a></h3> ${cons.docFooter}`;\n  return result;\n}\n\nconst defaultThema = 'Would you look through new post ?';\nconst sendMessage = 'Send Mail ?';\n\nconst SharedPostLink = ({\n  post,\n  current,\n  signature,\n  close\n}) => {\n  const { body, image, user, createdAt } = post;\n  const { curAdress, curThema = defaultThema, curList = [] } = cons.loadState(current);\n  const [email, setAdress] = useState(curAdress);\n  const [mailThema, setMailThema] = useState(curThema);\n  const [mailList, setMailList] = useState(curList);\n  const [mailText, setMailText] = useState(\n    ` Hello !${lF} User ${user.username} posted interesting message ${cons.dateToLocale(createdAt)}.`\n    + `${lF} Have a nice day ! ${lF} ${signature}`\n  );\n  const addAdress = (event, { value }) => {\n    setAdress(value);\n  };\n  const addNewAdress = (e, data) => {\n    const newList = [\n      ...mailList,\n      { key: data.value, value: data.value, text: data.value }\n    ];\n    setMailList(newList);\n  };\n  const caseSensitiveSearch = (options, query) => (\n    options.filter(opt => (opt.text.toLowerCase().startsWith(query.toLowerCase())))\n  );\n  const handleSendMail = async message => {\n    if (message === oK) {\n      cons.saveState(current, { curAdress: email, curThema: mailThema, curList: mailList });\n      const htmlText = createMailText(mailText, post);\n      const { rejected, response } = await toggleSendMail({ email, mailThema, htmlText });\n      if (response.indexOf('OK') > 0) {\n        close();\n      } else {\n        showModal(`Error : ${rejected} ${response}`);\n      }\n    }\n  };\n\n  return (\n    <Modal className={styles.modalForm} open onClose={close}>\n      <Modal.Header className={styles.header}>\n        <span>Share Post</span>\n      </Modal.Header>\n      <Modal.Content>\n        <Form onSubmit={() => showModal(sendMessage, true, handleSendMail)}>\n          <Label className={styles.modalLabel}>\n            <Icon name=\"user\" />\n            Adress :\n          </Label>\n          <Dropdown\n            style={{ float: 'left', width: '77%' }}\n            fluid\n            multiple\n            search={caseSensitiveSearch}\n            selection\n            placeholder=\"Select Friend\"\n            value={email}\n            allowAdditions\n            onChange={addAdress}\n            onAddItem={addNewAdress}\n            options={mailList}\n          />\n          <div className={styles.modalClear} />\n          <br />\n          <Label className={styles.modalLabel}>\n            <Icon name=\"write\" />\n            Subject :\n          </Label>\n          <Input\n            fluid\n            className=\"modalInput\"\n            value={mailThema}\n            onChange={ev => setMailThema(ev.target.value)}\n          />\n          <div className={styles.modalClear} />\n          <br />\n          <Form.TextArea\n            rows=\"5\"\n            id=\"postbody\"\n            name=\"body\"\n            value={mailText}\n            placeholder=\"What is the news?\"\n            onChange={ev => setMailText(ev.target.value)}\n          />\n          <Card className={styles.modalCard}>\n            {image?.link && (\n              <div className={styles.imageWrapper}>\n                <Image className={styles.image} src={image ? image.link : ''} alt=\"post\" />\n              </div>\n            )}\n            <Divider />\n            <Card.Description>\n              {formatString(body)}\n            </Card.Description>\n          </Card>\n          <Button floated=\"right\" color=\"blue\" type=\"submit\">\n            <Icon name=\"external\" />\n            Send Mail\n          </Button>\n          <br />\n          <br />\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nSharedPostLink.propTypes = {\n  post: PropTypes.objectOf(PropTypes.any).isRequired,\n  current: PropTypes.string.isRequired,\n  signature: PropTypes.string.isRequired,\n  close: PropTypes.func.isRequired\n};\n\nexport default SharedPostLink;\n","/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as imageService from 'src/services/imageService';\nimport ExpandedPost from 'src/containers/ExpandedPost';\nimport ExpandedEdit from 'src/containers/ExpandedEdit';\nimport ExpandedInfo from 'src/containers/ExpandedInfo';\nimport Post from 'src/components/Post';\nimport AddPost from 'src/components/AddPost';\nimport SharedPostLink from 'src/components/SharedPostLink';\nimport { Checkbox, Loader } from 'semantic-ui-react';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport {\n  loadPosts,\n  loadMorePosts,\n  likePost,\n  dislikePost,\n  deletePost,\n  likeComment,\n  dislikeComment,\n  toggleExpandedPost,\n  toggleEditPost, toggleInfoPanel, addPost, updatePost } from './actions';\nimport styles from './styles.module.scss';\n\nconst postsFilter = {\n  userId: undefined,\n  mode: false,\n  from: 0,\n  count: 10\n};\n\nconst Thread = ({\n  userId,\n  username,\n  loadPosts: load,\n  loadMorePosts: loadMore,\n  posts = [],\n  expandedPost,\n  expandedEdit,\n  expandedPostInfo,\n  expandedCommentInfo,\n  hasMorePosts,\n  addPost: createPost,\n  updatePost: updPost,\n  likePost: like,\n  dislikePost: dislike,\n  deletePost: delPost,\n  likeComment: likeCom,\n  dislikeComment: dislikeCom,\n  toggleExpandedPost: toggle,\n  toggleEditPost: toggleEdit,\n  toggleInfoPanel: toggleInfo\n}) => {\n  const [sharedPost, setSharedPostId] = useState(undefined);\n  const [showOwnPosts, setShowOwnPosts] = useState(false);\n  const [hideOwnPosts, setHideOwnPosts] = useState(false);\n  const [showLikedPosts, setLikedPosts] = useState(false);\n\n  function toggleLikedPosts() {\n    setShowOwnPosts(false);\n    setHideOwnPosts(false);\n    setLikedPosts(!showLikedPosts);\n    postsFilter.userId = showLikedPosts ? undefined : userId;\n    postsFilter.mode = 3;\n    postsFilter.from = 0;\n    load(postsFilter);\n    postsFilter.from = postsFilter.count; // for the next scroll\n  }\n\n  function toggleShowOwnPosts() {\n    setHideOwnPosts(false);\n    setLikedPosts(false);\n    setShowOwnPosts(!showOwnPosts);\n    postsFilter.userId = showOwnPosts ? undefined : userId;\n    postsFilter.mode = showOwnPosts ? 0 : 1;\n    postsFilter.from = 0;\n    load(postsFilter);\n    postsFilter.from = postsFilter.count; // for the next scroll\n  }\n\n  function toggleHideOwnPosts() {\n    setShowOwnPosts(false);\n    setLikedPosts(false);\n    setHideOwnPosts(!hideOwnPosts);\n    postsFilter.userId = hideOwnPosts ? undefined : userId;\n    postsFilter.mode = 2;\n    postsFilter.from = 0;\n    load(postsFilter);\n    postsFilter.from = postsFilter.count; // for the next scroll\n  }\n\n  const getMorePosts = () => {\n    loadMore(postsFilter);\n    const { from, count } = postsFilter;\n    postsFilter.from = from + count;\n  };\n\n  const sharePost = id => {\n    setSharedPostId(id);\n  };\n\n  const uploadImage = file => imageService.uploadImage(file);\n  const createImage = image => imageService.createImage(image);\n\n  return (\n    <div className={styles.threadContent}>\n      <div className={styles.addPostForm}>\n        <AddPost addPost={createPost} uploadImage={uploadImage} createImage={createImage} />\n      </div>\n      <div className={styles.toolbar}>\n        <Checkbox\n          toggle\n          label=\"Only my posts\"\n          checked={showOwnPosts}\n          onChange={toggleShowOwnPosts}\n          style={{ marginLeft: '3px' }}\n        />\n        <Checkbox\n          toggle\n          label=\"Hide my posts\"\n          checked={hideOwnPosts}\n          onChange={toggleHideOwnPosts}\n          style={{ marginLeft: '10px' }}\n        />\n        <Checkbox\n          toggle\n          label=\"Liked posts\"\n          checked={showLikedPosts}\n          onChange={toggleLikedPosts}\n          style={{ marginLeft: '10px' }}\n        />\n      </div>\n      <InfiniteScroll\n        pageStart={0}\n        loadMore={getMorePosts}\n        hasMore={hasMorePosts}\n        loader={<Loader active inline=\"centered\" key={0} />}\n      >\n        {posts.map(post => (\n          <Post\n            post={post}\n            likePost={like}\n            dislikePost={dislike}\n            deletePost={delPost}\n            toggleExpandedPost={toggle}\n            toggleEditPost={toggleEdit}\n            toggleInfoPanel={toggleInfo}\n            sharePost={sharePost}\n            current={userId}\n            filter={postsFilter.mode}\n          />\n        ))}\n      </InfiniteScroll>\n      {expandedPost && (\n        <ExpandedPost\n          sharePost={sharePost}\n          likeComment={likeCom}\n          dislikeComment={dislikeCom}\n          current={userId}\n          filter={postsFilter}\n        />\n      )}\n      {expandedEdit && (\n        <ExpandedEdit\n          post={expandedPost}\n          uploadImage={uploadImage}\n          createImage={createImage}\n          toggleEditPost={toggleEdit}\n          updatePost={updPost}\n        />\n      )}\n      {expandedPostInfo && (\n        <ExpandedInfo\n          listInfo={expandedPostInfo}\n        />\n      )}\n      {expandedCommentInfo && (\n        <ExpandedInfo\n          listInfo={expandedCommentInfo}\n          infomode={false}\n        />\n      )}\n      {sharedPost && (\n        <SharedPostLink\n          post={sharedPost}\n          current={userId}\n          signature={username}\n          close={() => setSharedPostId(undefined)}\n        />\n      )}\n    </div>\n  );\n};\n\nThread.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.object),\n  hasMorePosts: PropTypes.bool,\n  expandedPost: PropTypes.objectOf(PropTypes.any),\n  expandedEdit: PropTypes.objectOf(PropTypes.any),\n  expandedPostInfo: PropTypes.objectOf(PropTypes.any),\n  expandedCommentInfo: PropTypes.objectOf(PropTypes.any),\n  userId: PropTypes.string,\n  username: PropTypes.string,\n  loadPosts: PropTypes.func.isRequired,\n  loadMorePosts: PropTypes.func.isRequired,\n  likePost: PropTypes.func.isRequired,\n  dislikePost: PropTypes.func.isRequired,\n  deletePost: PropTypes.func.isRequired,\n  likeComment: PropTypes.func.isRequired,\n  dislikeComment: PropTypes.func.isRequired,\n  toggleExpandedPost: PropTypes.func.isRequired,\n  toggleEditPost: PropTypes.func.isRequired,\n  toggleInfoPanel: PropTypes.func.isRequired,\n  addPost: PropTypes.func.isRequired,\n  updatePost: PropTypes.func.isRequired\n};\n\nThread.defaultProps = {\n  posts: [],\n  hasMorePosts: true,\n  expandedPost: undefined,\n  expandedEdit: undefined,\n  expandedPostInfo: undefined,\n  expandedCommentInfo: undefined,\n  userId: undefined,\n  username: undefined\n};\n\nconst mapStateToProps = rootState => ({\n  posts: rootState.posts.posts,\n  hasMorePosts: rootState.posts.hasMorePosts,\n  expandedPost: rootState.posts.expandedPost,\n  expandedEdit: rootState.posts.expandedEdit,\n  expandedPostInfo: rootState.posts.expandedPostInfo,\n  expandedCommentInfo: rootState.posts.expandedCommentInfo,\n  userId: rootState.profile.user.id,\n  username: rootState.profile.user.username\n});\n\nconst actions = {\n  loadPosts,\n  loadMorePosts,\n  likePost,\n  dislikePost,\n  deletePost,\n  likeComment,\n  dislikeComment,\n  toggleExpandedPost,\n  toggleEditPost,\n  toggleInfoPanel,\n  addPost,\n  updatePost\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators(actions, dispatch);\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Thread);\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport io from 'socket.io-client';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\n\nconst { REACT_APP_DATA_SERVER: address } = process.env;\n\nlet usSocket;\nconst Notifications = ({ user, applyPost, updatePost, deletePost }) => {\n  const socket = io(address);\n  usSocket = socket;\n  useEffect(() => {\n    if (!user) {\n      return undefined;\n    }\n    socket.on('newRoom', () => {\n      const { id, username } = user;\n      socket.emit('createRoom', { id, username });\n    });\n    socket.on('like', postId => {\n      NotificationManager.info('Your post was liked!');\n      updatePost(postId);\n    });\n    socket.on('join', username => {\n      NotificationManager.info(`User ${username} joined to us !`);\n    });\n    socket.on('leave', username => {\n      NotificationManager.info(`User ${username} leaved us !`);\n    });\n    socket.on('add_post', postId => {\n      applyPost(postId);\n    });\n    socket.on('upd_post', postId => {\n      updatePost(postId);\n    });\n    socket.on('dell_post', postId => {\n      deletePost(postId);\n    });\n    return () => {\n      socket.close();\n    };\n  });\n  return <NotificationContainer />;\n};\n\nNotifications.defaultProps = {\n  user: undefined\n};\n\nNotifications.propTypes = {\n  user: PropTypes.objectOf(PropTypes.any),\n  applyPost: PropTypes.func.isRequired,\n  updatePost: PropTypes.func.isRequired,\n  deletePost: PropTypes.func.isRequired\n};\n\nexport default Notifications;\n\nexport const userSocket = () => (usSocket);\n","import callWebApi from 'src/helpers/webApiHelper';\n\nexport const login = async request => {\n  try {\n    const response = await callWebApi({\n      endpoint: '/api/auth/login',\n      type: 'POST',\n      request\n    });\n    return response.json();\n  } catch (e) {\n    return { user: null, token: null };\n  }\n};\n\nexport const registration = async request => {\n  try {\n    const response = await callWebApi({\n      endpoint: '/api/auth/register',\n      type: 'POST',\n      request\n    });\n    return response.json();\n  } catch (e) {\n    return { user: null, token: null };\n  }\n};\n\nexport const getCurrentUser = async () => {\n  try {\n    const response = await callWebApi({\n      endpoint: '/api/auth/user',\n      type: 'GET'\n    });\n    return response.json();\n  } catch (e) {\n    return null;\n  }\n};\n\nexport const getUserWithNew = async userHash => {\n  try {\n    const response = await callWebApi({\n      endpoint: '/pass/user/newpwd',\n      type: 'GET',\n      query: { userHash }\n    });\n    return response.json();\n  } catch (e) {\n    return null;\n  }\n};\n\nexport const updateCurrentUser = async request => {\n  try {\n    const response = await callWebApi({\n      endpoint: '/api/auth/',\n      type: 'PUT',\n      request\n    });\n    return response.json();\n  } catch (e) {\n    return null;\n  }\n};\n\nexport const getUserByMail = async mail => {\n  const response = await callWebApi({\n    endpoint: '/pass/user/email/',\n    type: 'GET',\n    query: { mail }\n  });\n  return response.json();\n};\n","export const SET_USER = 'PROFILE_ACTION:SET_USER';\n","import * as authService from 'src/services/authService';\nimport { SET_USER } from './actionTypes';\n\nconst setToken = token => localStorage.setItem('token', token);\n\nconst setUser = user => async dispatch => dispatch({\n  type: SET_USER,\n  user\n});\n\nconst setAuthData = (user = null, token = '') => (dispatch, getRootState) => {\n  setToken(token); // token should be set first before user\n  setUser(user)(dispatch, getRootState);\n};\n\nconst handleAuthResponse = authResponsePromise => async (dispatch, getRootState) => {\n  const { user, token } = await authResponsePromise;\n  setAuthData(user, token)(dispatch, getRootState);\n  return user;\n};\n\nexport const login = request => handleAuthResponse(authService.login(request));\n\nexport const register = request => handleAuthResponse(authService.registration(request));\n\nexport const logout = () => {\n  localStorage.clear();\n  window.location.href = '/';\n};\n\nexport const loadCurrentUser = () => async (dispatch, getRootState) => {\n  if (window.location.pathname === '/newpassword') {\n    const { token, user } = await authService.getUserWithNew(window.location.search);\n    setToken(token);\n    setUser(user)(dispatch, getRootState);\n    window.location.href = '/';\n  } else {\n    const user = await authService.getCurrentUser();\n    setUser(user)(dispatch, getRootState);\n  }\n};\n\nexport const updateUser = () => async (dispatch, getRootState) => {\n  const upduser = await authService.getCurrentUser();\n  setUser(upduser)(dispatch, getRootState);\n};\n\nexport const getUserByMail = email => authService.getUserByMail(email);\n","import React from 'react';\nimport { Image, Header } from 'semantic-ui-react';\n\nimport styles from './styles.module.scss';\n\nexport const Logo = () => (\n  <Header as=\"h2\" color=\"grey\" className={styles.logoWrapper}>\n    <Image circular src=\"https://raw.githubusercontent.com/GarryFirst-cripto/resurses/master/pictures/mini_chat_logo.png\" />\n    {' '}\n    Mini Chat\n  </Header>\n);\n\nexport default Logo;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport validator from 'validator';\nimport { Form, Button, Segment } from 'semantic-ui-react';\nimport { loadMailAddress, saveMailAddress } from 'src/services/stringservice';\nimport { showModal } from '../Messages/index';\n\nconst LoginForm = ({ login }) => {\n  const [email, setEmail] = useState(loadMailAddress());\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isEmailValid, setIsEmailValid] = useState(true);\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\n\n  const emailChanged = data => {\n    setEmail(data);\n    setIsEmailValid(true);\n    saveMailAddress(data);\n  };\n\n  const passwordChanged = data => {\n    setPassword(data);\n    setIsPasswordValid(true);\n  };\n\n  const dataValid = () => {\n    setIsEmailValid((email) && validator.isEmail(email));\n    setIsPasswordValid(Boolean(password));\n  };\n\n  const handleLoginClick = async () => {\n    const isValid = isEmailValid && isPasswordValid;\n    if (!isValid || isLoading) {\n      if (!isValid) showModal('You must enter the correct data !');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const usermail = email.toLowerCase();\n      const user = await login({ email: usermail, password });\n      setIsLoading(false);\n      if (!user) {\n        showModal('Access denied ! Invalid e-mail address or password.');\n      }\n    } catch {\n      // TODO: show error\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Form name=\"loginForm\" size=\"large\" onSubmit={handleLoginClick}>\n      <Segment>\n        <Form.Input\n          fluid\n          icon=\"at\"\n          iconPosition=\"left\"\n          placeholder=\"Email\"\n          type=\"email\"\n          value={email}\n          error={!isEmailValid}\n          onChange={ev => emailChanged(ev.target.value)}\n          onBlur={() => setIsEmailValid((email) && validator.isEmail(email))}\n        />\n        <Form.Input\n          fluid\n          icon=\"lock\"\n          iconPosition=\"left\"\n          placeholder=\"Password\"\n          type=\"password\"\n          error={!isPasswordValid}\n          onChange={ev => passwordChanged(ev.target.value)}\n          onBlur={() => setIsPasswordValid(Boolean(password))}\n        />\n        <Button type=\"submit\" color=\"teal\" fluid size=\"large\" loading={isLoading} primary onClick={dataValid}>\n          Login\n        </Button>\n      </Segment>\n    </Form>\n  );\n};\n\nLoginForm.propTypes = {\n  login: PropTypes.func.isRequired\n};\n\nexport default LoginForm;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { login } from 'src/containers/Profile/actions';\nimport Logo from 'src/components/Logo';\nimport { Grid, Header, Message } from 'semantic-ui-react';\nimport { NavLink } from 'react-router-dom';\nimport LoginForm from 'src/components/LoginForm';\n\nconst LoginPage = ({ login: signIn }) => (\n  <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"fill\">\n    <Grid.Column style={{ maxWidth: 450 }}>\n      <Logo />\n      <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n        Login to your account\n      </Header>\n      <LoginForm login={signIn} />\n      <Message>\n        <div style={{ width: '45%', float: 'left' }}>\n          New to us?\n          {' '}\n          <NavLink exact to=\"/registration\">Sign Up</NavLink>\n        </div>\n        <div style={{ width: '45%', float: 'left' }}>\n          Forgot Password ?\n          {' '}\n          <NavLink exact to=\"/resetpassword\">Reset</NavLink>\n        </div>\n        <div style={{ clear: 'both' }} />\n      </Message>\n    </Grid.Column>\n  </Grid>\n);\n\nLoginPage.propTypes = {\n  login: PropTypes.func.isRequired\n};\n\nconst actions = { login };\n\nconst mapDispatchToProps = dispatch => bindActionCreators(actions, dispatch);\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(LoginPage);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport validator from 'validator';\nimport { Form, Button, Segment } from 'semantic-ui-react';\nimport { loadMailAddress, saveMailAddress } from 'src/services/stringservice';\nimport { showModal } from '../Messages/index';\n\nconst RegistrationForm = ({ register: signOn }) => {\n  const [email, setEmail] = useState(loadMailAddress());\n  const [password, setPassword] = useState('');\n  const [username, setUsername] = useState('');\n  const [isLoading, setLoading] = useState(false);\n  const [isEmailValid, setEmailValid] = useState(true);\n  const [isUsernameValid, setUsernameValid] = useState(true);\n  const [isPasswordValid, setPasswordValid] = useState(true);\n\n  const emailChanged = value => {\n    setEmail(value);\n    setEmailValid(true);\n    saveMailAddress(value);\n  };\n\n  const usernameChanged = value => {\n    setUsername(value);\n    setUsernameValid(true);\n  };\n\n  const passwordChanged = value => {\n    setPassword(value);\n    setPasswordValid(true);\n  };\n\n  const dataValid = () => {\n    setUsernameValid(Boolean(username));\n    setEmailValid((email) && validator.isEmail(email));\n    setPasswordValid(Boolean(password));\n  };\n\n  const register = async () => {\n    const isValid = isEmailValid && isUsernameValid && isPasswordValid;\n    if (!isValid || isLoading) {\n      if (!isValid) showModal('You must enter the correct data !');\n      return;\n    }\n    setLoading(true);\n    try {\n      const usermail = email.toLowerCase();\n      const user = await signOn({ email: usermail, password, username });\n      setLoading(false);\n      if (!user) {\n        showModal('Registration denied ! Try to use another user name or e-mail address.');\n      }\n    } catch {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Form name=\"registrationForm\" size=\"large\" onSubmit={register}>\n      <Segment>\n        <Form.Input\n          fluid\n          icon=\"at\"\n          iconPosition=\"left\"\n          placeholder=\"Email\"\n          type=\"email\"\n          value={email}\n          error={!isEmailValid}\n          onChange={ev => emailChanged(ev.target.value)}\n          onBlur={() => setEmailValid((email) && validator.isEmail(email))}\n        />\n        <Form.Input\n          fluid\n          icon=\"user\"\n          iconPosition=\"left\"\n          placeholder=\"Username\"\n          type=\"text\"\n          error={!isUsernameValid}\n          onChange={ev => usernameChanged(ev.target.value)}\n          onBlur={() => setUsernameValid(Boolean(username))}\n        />\n        <Form.Input\n          fluid\n          icon=\"lock\"\n          iconPosition=\"left\"\n          placeholder=\"Password\"\n          type=\"password\"\n          onChange={ev => passwordChanged(ev.target.value)}\n          error={!isPasswordValid}\n          onBlur={() => setPasswordValid(validator.isLength(password, { min: 5 }))}\n        />\n        <Button type=\"submit\" color=\"teal\" fluid size=\"large\" loading={isLoading} primary onClick={dataValid}>\n          Register\n        </Button>\n      </Segment>\n    </Form>\n  );\n};\n\nRegistrationForm.propTypes = {\n  register: PropTypes.func.isRequired\n};\n\nexport default RegistrationForm;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { register } from 'src/containers/Profile/actions';\nimport Logo from 'src/components/Logo';\nimport { Grid, Header, Message } from 'semantic-ui-react';\nimport { NavLink } from 'react-router-dom';\nimport RegistrationForm from 'src/components/RegistrationForm';\n\nconst RegistrationPage = ({ register: signOn }) => (\n  <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"fill\">\n    <Grid.Column style={{ maxWidth: 450 }}>\n      <Logo />\n      <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n        Register for free account\n      </Header>\n      <RegistrationForm register={signOn} />\n      <Message>\n        Alredy with us?\n        {' '}\n        <NavLink exact to=\"/login\">Sign In</NavLink>\n      </Message>\n    </Grid.Column>\n  </Grid>\n);\n\nRegistrationPage.propTypes = {\n  register: PropTypes.func.isRequired\n};\n\nconst actions = { register };\n\nconst mapDispatchToProps = dispatch => bindActionCreators(actions, dispatch);\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(RegistrationPage);\n","import React, { useState } from 'react';\nimport validator from 'validator';\nimport { Redirect } from 'react-router-dom';\nimport { Form, Button, Segment } from 'semantic-ui-react';\nimport { loadMailAddress, saveMailAddress } from 'src/services/stringservice';\nimport { getUserByMail } from 'src/containers/Profile/actions';\nimport { showModal } from 'src/components/Messages/index';\nimport { sendResetMail } from 'src/containers/Thread/actions';\nimport { createMailText } from 'src/helpers/mailData';\n\nconst { REACT_APP_DATA_SERVER: origin } = process.env;\n\nconst noUserMessage = 'We do not have a user with this E-mail ...';\nconst resetMessage = 'We sent an email to your address to reset password !';\nconst mailThema = 'Password reset request !';\n\nconst PasswordForm = () => {\n  const [email, setEmail] = useState(loadMailAddress());\n  const [isEmailValid, setEmailValid] = useState(true);\n  const [isLoading, setLoading] = useState(false);\n  const [redirect, setRedirect] = useState(false);\n\n  const emailChanged = value => {\n    setEmail(value);\n    setEmailValid(true);\n    saveMailAddress(value);\n  };\n\n  const dataValid = () => {\n    setEmailValid((email) && validator.isEmail(email));\n  };\n\n  const resetPassword = async () => {\n    if (!isEmailValid || isLoading) {\n      if (!isEmailValid) showModal('You must enter the correct e-mail !');\n      return;\n    }\n    setLoading(true);\n    try {\n      const user = await getUserByMail(email);\n      if (user.isUser !== '') {\n        const htmlText = createMailText(origin, email, user.isUser);\n        alert(htmlText);\n        const { rejected, response } = await sendResetMail({ email, mailThema, htmlText, origin });\n        if (response.indexOf('OK') > 0) {\n          showModal(resetMessage);\n          setRedirect(true);\n        } else {\n          showModal(`Error : ${rejected} ${response}`);\n        }\n      } else {\n        showModal(noUserMessage);\n      }\n      setLoading(false);\n    } catch {\n      showModal('Error !');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Form name=\"registrationForm\" size=\"large\" onSubmit={resetPassword}>\n      <Segment>\n        <Form.Input\n          fluid\n          icon=\"at\"\n          iconPosition=\"left\"\n          placeholder=\"Email\"\n          type=\"email\"\n          value={email}\n          error={!isEmailValid}\n          onChange={ev => emailChanged(ev.target.value)}\n          onBlur={() => setEmailValid((email) && validator.isEmail(email))}\n        />\n        <Button type=\"submit\" color=\"teal\" fluid size=\"large\" loading={isLoading} primary onClick={dataValid}>\n          Reset Password\n        </Button>\n      </Segment>\n      {redirect && <Redirect to=\"/login\" />}\n    </Form>\n  );\n};\n\nexport default PasswordForm;\n","import React from 'react';\nimport Logo from 'src/components/Logo';\nimport { Grid, Header, Message } from 'semantic-ui-react';\nimport { NavLink } from 'react-router-dom';\nimport PasswordForm from 'src/components/PasswordForm';\n\nconst PasswordPage = () => (\n  <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"fill\">\n    <Grid.Column style={{ maxWidth: 450 }}>\n      <Logo />\n      <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n        Reset Your Password\n      </Header>\n      <PasswordForm />\n      <Message>\n        Recall password ?\n        {' '}\n        <NavLink exact to=\"/login\">Sign In</NavLink>\n      </Message>\n    </Grid.Column>\n  </Grid>\n);\n\nexport default PasswordPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { getUserImgLink } from 'src/helpers/imageHelper';\nimport { Header as HeaderUI, Image, Grid, Icon, Button } from 'semantic-ui-react';\nimport { userSocket } from '../Notifications/index';\n\nimport styles from './styles.module.scss';\n\nlet setEditing = () => {};\nconst Header = ({ user, logout }) => {\n  function doLogout() {\n    const socket = userSocket();\n    if (socket) socket.close();\n    logout();\n  }\n  return (\n    <div className={styles.headerWrp}>\n      <Grid centered container columns=\"3\">\n        <Grid.Column>\n          {user && (\n            <NavLink exact to=\"/arhiv\" onClick={event => setEditing(event, '/arhiv')}>\n              <HeaderUI>\n                <Image src=\"https://novogrodovka-rada.gov.ua/images/news/2017/8/1.jpg\" />\n                {' '}\n                Arhiv\n                {' '}\n                {user.username}\n              </HeaderUI>\n            </NavLink>\n          )}\n        </Grid.Column>\n        <Grid.Column>\n          {user && (\n            <NavLink exact to=\"/\" onClick={event => setEditing(event, '/')}>\n              <HeaderUI>\n                <Image circular src={getUserImgLink(user.image)} />\n                {' '}\n                {user.username}\n              </HeaderUI>\n            </NavLink>\n          )}\n        </Grid.Column>\n        <Grid.Column textAlign=\"right\">\n          <NavLink exact activeClassName=\"active\" to=\"/profile\" className={styles.menuBtn}>\n            <Icon name=\"user circle\" size=\"large\" />\n            User profile\n          </NavLink>\n          <Button basic icon type=\"button\" className={`${styles.menuBtn} ${styles.logoutBtn}`} onClick={doLogout}>\n            <Icon name=\"log out\" size=\"large\" />\n          </Button>\n        </Grid.Column>\n      </Grid>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  logout: PropTypes.func.isRequired,\n  user: PropTypes.objectOf(PropTypes.any).isRequired\n};\n\nexport const setEditingProfile = param => {\n  setEditing = param;\n};\n\nexport default Header;\n","import React, { useState } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport validator from 'validator';\nimport { getUserImgLink, getUserImgHash } from 'src/helpers/imageHelper';\nimport { Grid, Image, Input, Button, Icon } from 'semantic-ui-react';\nimport * as imageService from 'src/services/imageService';\nimport { updateCurrentUser } from 'src/services/authService';\nimport { setEditingProfile } from 'src/components/Header';\nimport { showModal, oK } from 'src/components/Messages/index';\nimport { updateUser } from './actions';\nimport styles from './styles.module.scss';\n\nconst editNotSave = 'Profile changes not saved! Exit anyway ?';\nlet direction = '/';\n\nconst Profile = ({ user, updateUser: updUser }) => {\n  const oldLink = getUserImgLink(user.image);\n  const oldHash = getUserImgHash(user.image);\n  const [image, setImage] = useState({ link: oldLink, deleteHash: oldHash });\n  const [tmptHash, setTmptHash] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n  const [username, setUserName] = useState(user.username);\n  const [email, setEmail] = useState(user.email);\n  const [password, setPassword] = useState('');\n  const [status, setStatus] = useState(user.status);\n  const [viewType, setViewType] = useState({ viewMode: 'password', iconName: 'unhide' });\n  const [edited, setEdited] = useState({ dataedit: false, imgedit: false });\n  const [redirect, setRedirect] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const [isEmailValid, setEmailValid] = useState(true);\n  const [isUsernameValid, setUsernameValid] = useState(true);\n  const [isPasswordValid, setPasswordValid] = useState(true);\n\n  const changeView = () => {\n    if (viewType.viewMode === 'password') {\n      setViewType({ viewMode: 'text', iconName: 'hide' });\n    } else {\n      setViewType({ viewMode: 'password', iconName: 'unhide' });\n    }\n  };\n  const handleUploadFile = async ({ target }) => {\n    setIsUploading(true);\n    try {\n      if (tmptHash) imageService.deleteTmptImage({ tmptHash });\n      const { link, deleteHash } = await imageService.uploadImage(target.files[0]);\n      setImage({ link, deleteHash });\n      setEdited({ imgedit: true });\n      setTmptHash(deleteHash);\n    } finally {\n      // TODO: show error\n      setIsUploading(false);\n    }\n  };\n  function ascSavePost(message) {\n    if (message === oK) {\n      if (tmptHash) imageService.deleteTmptImage({ tmptHash });\n      setEdited(false, false);\n      setRedirect(true);\n    }\n  }\n  const handleClose = (event, path) => {\n    direction = path;\n    if ((edited.dataedit === true) || (edited.imgedit === true)) {\n      showModal(editNotSave, true, ascSavePost);\n      event.preventDefault();\n    }\n  };\n  async function handleUpdateProfile() {\n    const isValid = isEmailValid && isUsernameValid && isPasswordValid;\n    if (!isValid || isLoading) {\n      if (!isValid) showModal('You must enter the correct data !');\n      return;\n    }\n    setLoading(true);\n    direction = '/';\n    let imageId;\n    try {\n      if (edited.imgedit === true) {\n        setTmptHash('');\n        if (user.imageId) {\n          await imageService.deleteImage(user.imageId);\n        }\n        const newImage = image ? await imageService.createImage(image) : undefined;\n        imageId = newImage.id;\n      }\n      const result = await updateCurrentUser({ username, email, password, status, imageId });\n      const {\n        error,\n        text,\n        status: stat\n      } = result;\n      setLoading(false);\n      if (error === true) {\n        showModal(`Error ${stat} : ${text}`);\n      } else {\n        updUser();\n        setEdited(false, false);\n        setRedirect(true);\n      }\n    } catch {\n      setLoading(false);\n    }\n  }\n  function testValue(value, valueName) {\n    const result = (value !== '');\n    if (!result) {\n      showModal(`ERROR ! Field ${valueName} will not by empty !`);\n    }\n    return result;\n  }\n  function writeWithPassword(message) {\n    if (message === oK) handleUpdateProfile();\n  }\n  function testPassword(value) {\n    const result = (!value);\n    if (!result) {\n      showModal('ATTENTION ! Your password will be changed !', true, writeWithPassword);\n    }\n    return result;\n  }\n  function saveProfile() {\n    const validate = (testValue(username, 'username') && testValue(email, 'E-mail') && testPassword(password));\n    if (validate === true) handleUpdateProfile();\n  }\n  setEditingProfile(handleClose);\n\n  return (\n    <Grid container textAlign=\"center\" style={{ paddingTop: 30 }}>\n      <Grid.Column>\n        <Image centered src={image.link} size=\"medium\" circular />\n        <br />\n        <br />\n        <Button color=\"violet\" icon labelPosition=\"left\" as=\"label\" loading={isUploading} disabled={isUploading}>\n          <Icon name=\"image\" />\n          Select Avatar\n          <input name=\"image\" type=\"file\" onChange={handleUploadFile} hidden />\n        </Button>\n        <br />\n        <br />\n        <br />\n        <Input\n          className={styles.profInput}\n          icon=\"user\"\n          iconPosition=\"left\"\n          placeholder=\"Username\"\n          type=\"text\"\n          value={username}\n          error={!isUsernameValid}\n          onChange={event => {\n            setEdited({ dataedit: true });\n            setUserName(event.target.value);\n          }}\n          onBlur={() => setUsernameValid(Boolean(username))}\n        />\n        <br />\n        <br />\n        <Input\n          className={styles.profInput}\n          icon=\"envelope outline\"\n          iconPosition=\"left\"\n          placeholder=\"Email\"\n          type=\"email\"\n          value={email}\n          error={!isEmailValid}\n          onChange={event => {\n            setEdited({ dataedit: true });\n            setEmail(event.target.value);\n          }}\n          onBlur={() => setEmailValid((email) && validator.isEmail(email))}\n        />\n        <br />\n        <br />\n        <Input\n          className={styles.profPass}\n          icon=\"privacy\"\n          iconPosition=\"left\"\n          placeholder=\"Set new password\"\n          type={viewType.viewMode}\n          value={password}\n          error={!isPasswordValid}\n          onChange={event => {\n            setEdited({ dataedit: true });\n            setPassword(event.target.value);\n          }}\n          onBlur={() => setPasswordValid((!password) || validator.isLength(password, { min: 5 }))}\n        />\n        <Button className={styles.profButton} onClick={changeView}>\n          <Icon name={viewType.iconName} />\n        </Button>\n        <br />\n        <br />\n        <Input\n          className={styles.profInput}\n          icon=\"flag checkered\"\n          iconPosition=\"left\"\n          placeholder=\"Status\"\n          type=\"text\"\n          value={status}\n          onChange={event => {\n            setEdited({ dataedit: true });\n            setStatus(event.target.value);\n          }}\n        />\n        <br />\n        <br />\n        <Button color=\"green\" onClick={saveProfile} loading={isLoading}>\n          <Icon name=\"edit\" />\n          Save user profile\n        </Button>\n        <br />\n        <br />\n      </Grid.Column>\n      {redirect && <Redirect to={direction} />}\n    </Grid>\n  );\n};\n\nProfile.propTypes = {\n  user: PropTypes.objectOf(PropTypes.any),\n  updateUser: PropTypes.func.isRequired\n};\n\nProfile.defaultProps = {\n  user: {}\n};\n\nconst actions = { updateUser };\n\nconst mapDispatchToProps = dispatch => bindActionCreators(actions, dispatch);\n\nconst mapStateToProps = rootState => ({\n  user: rootState.profile.user\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Profile);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, Image, Label, Icon } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { formatString } from 'src/services/stringservice';\nimport styles from './styles.module.scss';\n\nconst ArhivPost = ({\n  post,\n  restorePost: restore\n}) => {\n  const {\n    id,\n    image,\n    body,\n    createdAt\n  } = post;\n  const date = moment(createdAt).fromNow();\n  return (\n    <Card className={styles.arhivCard}>\n      {image && <Image src={image.link} wrapped ui={false} />}\n      <Card.Content>\n        <Card.Meta>\n          <span className=\"date\">\n            {date}\n          </span>\n        </Card.Meta>\n        <Card.Description>\n          {formatString(body)}\n        </Card.Description>\n      </Card.Content>\n      <Card.Content extra>\n        <Label basic size=\"small\" as=\"a\" className={styles.toolbarBtn} onClick={() => restore(id)}>\n          <Icon name=\"undo\" />\n          Restore\n        </Label>\n      </Card.Content>\n    </Card>\n  );\n};\n\nArhivPost.propTypes = {\n  post: PropTypes.objectOf(PropTypes.any).isRequired,\n  restorePost: PropTypes.func.isRequired\n};\n\nexport default ArhivPost;\n","import * as postService from 'src/services/postService';\nimport { LOAD_ALL_ARHIV_POSTS, LOAD_MORE_ARHIV_POSTS } from './actionTypes';\nimport { SET_ALL_POSTS } from '../Thread/actionTypes';\n\nconst updateArhivAction = posts => ({\n  type: LOAD_ALL_ARHIV_POSTS,\n  posts\n});\n\nconst addMoreArhivAction = posts => ({\n  type: LOAD_MORE_ARHIV_POSTS,\n  posts\n});\n\nconst updatePostList = posts => ({\n  type: SET_ALL_POSTS,\n  posts\n});\n\nexport const loadMorePosts = filter => async (dispatch, getRootState) => {\n  const { arhiv: { posts } } = getRootState();\n  const loadedPosts = await postService.getAllArhivPosts(filter);\n  const filteredPosts = loadedPosts\n    .filter(post => !(posts && posts.some(loadedPost => post.id === loadedPost.id)));\n  dispatch(addMoreArhivAction(filteredPosts));\n};\n\nexport const restorePost = postId => async (dispatch, getRootState) => {\n  const result = await postService.restorePost(postId);\n  const { id } = result[1];\n  const { arhiv: { posts } } = getRootState();\n  const updated = [];\n  posts.map(item => {\n    if (item.id !== id) updated.push(item);\n    return item;\n  });\n  dispatch(updateArhivAction(updated));\n  const { posts: { posts: postList } } = getRootState();\n  if (postList) {\n    const newPost = await postService.getPost(postId);\n    const newList = [newPost, ...postList];\n    dispatch(updatePostList(newList));\n  }\n};\n","/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Loader, Card } from 'semantic-ui-react';\nimport ArhivPost from 'src/components/ArhivPost';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport {\n  loadMorePosts,\n  restorePost\n} from './actions';\nimport styles from './styles.module.scss';\n\nconst postsFilter = {\n  userId: undefined,\n  mode: false,\n  from: 0,\n  count: 10\n};\n\nconst Arhiv = ({\n  userId,\n  loadMorePosts: loadMore,\n  restorePost: restore,\n  posts = [],\n  hasMorePosts\n}) => {\n  const getMorePosts = () => {\n    postsFilter.userId = userId;\n    loadMore(postsFilter);\n    const { from, count } = postsFilter;\n    postsFilter.from = from + count;\n  };\n  return (\n    <div className={styles.threadContent}>\n      <Card className={styles.arhivCard}>\n        Post Arhivs (deleted posts)\n      </Card>\n      <InfiniteScroll\n        pageStart={0}\n        loadMore={getMorePosts}\n        hasMore={hasMorePosts}\n        loader={<Loader active inline=\"centered\" key={0} />}\n      >\n        {posts.map(post => (\n          <ArhivPost\n            post={post}\n            current={userId}\n            restorePost={restore}\n          />\n        ))}\n      </InfiniteScroll>\n    </div>\n  );\n};\n\nArhiv.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.object),\n  hasMorePosts: PropTypes.bool,\n  userId: PropTypes.string,\n  loadMorePosts: PropTypes.func.isRequired,\n  restorePost: PropTypes.func.isRequired\n};\n\nArhiv.defaultProps = {\n  posts: [],\n  hasMorePosts: true,\n  userId: undefined\n};\n\nconst mapStateToProps = rootState => ({\n  posts: rootState.arhiv.posts,\n  hasMorePosts: rootState.arhiv.hasMorePosts,\n  userId: rootState.profile.user.id\n});\n\nconst actions = {\n  loadMorePosts,\n  restorePost\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators(actions, dispatch);\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Arhiv);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\nimport { toggleExpandedPost } from 'src/containers/Thread/actions';\n\nconst SharedPost = ({ match, toggleExpandedPost: toggle }) => {\n  useEffect(() => {\n    toggle(match.params.postHash);\n  });\n\n  return <Redirect to=\"/\" />;\n};\n\nSharedPost.propTypes = {\n  match: PropTypes.objectOf(PropTypes.any),\n  toggleExpandedPost: PropTypes.func.isRequired\n};\n\nSharedPost.defaultProps = {\n  match: undefined\n};\n\nconst actions = { toggleExpandedPost };\n\nconst mapDispatchToProps = dispatch => bindActionCreators(actions, dispatch);\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(SharedPost);\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Header, Icon } from 'semantic-ui-react';\n\nconst NotFound = () => (\n  <Header as=\"h2\" icon textAlign=\"center\" style={{ marginTop: 50 }}>\n    <Icon name=\"frown\" circular />\n    <Header.Content>\n      <div>404 Not Found</div>\n      {'Go to '}\n      <NavLink to=\"/\">Home</NavLink>\n      {' page'}\n    </Header.Content>\n  </Header>\n);\n\nexport default NotFound;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nconst PrivateRoute = ({ component: Component, isAuthorized, ...rest }) => (\n  <Route\n    {...rest}\n    render={props => (isAuthorized\n      ? <Component {...props} />\n      : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />)}\n  />\n);\n\nPrivateRoute.propTypes = {\n  isAuthorized: PropTypes.bool,\n  component: PropTypes.any.isRequired, // eslint-disable-line\n  location: PropTypes.any // eslint-disable-line\n};\n\nPrivateRoute.defaultProps = {\n  isAuthorized: false,\n  location: undefined\n};\n\nconst mapStateToProps = rootState => ({\n  isAuthorized: rootState.profile.isAuthorized\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nconst PublicRoute = ({ component: Component, isAuthorized, ...rest }) => (\n  <Route\n    {...rest}\n    render={props => (isAuthorized\n      ? <Redirect to={{ pathname: '/', state: { from: props.location } }} />\n      : <Component {...props} />)}\n  />\n);\n\nPublicRoute.propTypes = {\n  isAuthorized: PropTypes.bool,\n  component: PropTypes.any.isRequired, // eslint-disable-line\n  location: PropTypes.any // eslint-disable-line\n};\n\nPublicRoute.defaultProps = {\n  isAuthorized: false,\n  location: undefined\n};\n\nconst mapStateToProps = rootState => ({\n  isAuthorized: rootState.profile.isAuthorized\n});\n\nexport default connect(mapStateToProps)(PublicRoute);\n","import React, { useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport Thread from 'src/containers/Thread';\nimport LoginPage from 'src/containers/LoginPage';\nimport RegistrationPage from 'src/containers/RegistrationPage';\nimport PasswordPage from 'src/containers/PasswordPage';\nimport Profile from 'src/containers/Profile';\nimport Arhiv from 'src/containers/Arhiv';\nimport Header from 'src/components/Header';\nimport SharedPost from 'src/containers/SharedPost';\nimport Spinner from 'src/components/Spinner';\nimport NotFound from 'src/scenes/NotFound';\nimport PrivateRoute from 'src/containers/PrivateRoute';\nimport PublicRoute from 'src/containers/PublicRoute';\nimport Notifications from 'src/components/Notifications';\nimport { loadCurrentUser, logout } from 'src/containers/Profile/actions';\nimport { applyNewPost, applyUpdatePost, applyDeletePost } from 'src/containers/Thread/actions';\nimport PropTypes from 'prop-types';\n\nconst Routing = ({\n  user,\n  isAuthorized,\n  applyNewPost: newPost,\n  applyUpdatePost: updPost,\n  applyDeletePost: delPost,\n  logout: signOut,\n  loadCurrentUser: loadUser,\n  isLoading\n}) => {\n  useEffect(() => {\n    if (!isAuthorized) {\n      loadUser();\n    }\n  });\n\n  return (\n    isLoading\n      ? <Spinner />\n      : (\n        <div className=\"fill\">\n          {isAuthorized && (\n            <header>\n              <Header user={user} logout={signOut} />\n            </header>\n          )}\n          <main className=\"fill\">\n            <Switch>\n              <PublicRoute exact path=\"/login\" component={LoginPage} />\n              <PublicRoute exact path=\"/registration\" component={RegistrationPage} />\n              <PublicRoute exact path=\"/resetpassword\" component={PasswordPage} />\n              <PrivateRoute exact path=\"/\" component={Thread} />\n              <PrivateRoute exact path=\"/profile\" component={Profile} />\n              <PrivateRoute exact path=\"/arhiv\" component={Arhiv} />\n              <PrivateRoute path=\"/share/:postHash\" component={SharedPost} />\n              <Route path=\"*\" exact component={NotFound} />\n            </Switch>\n          </main>\n          <Notifications applyPost={newPost} updatePost={updPost} deletePost={delPost} user={user} />\n        </div>\n      )\n  );\n};\n\nRouting.propTypes = {\n  isAuthorized: PropTypes.bool,\n  logout: PropTypes.func.isRequired,\n  applyNewPost: PropTypes.func.isRequired,\n  applyUpdatePost: PropTypes.func.isRequired,\n  applyDeletePost: PropTypes.func.isRequired,\n  user: PropTypes.objectOf(PropTypes.any),\n  isLoading: PropTypes.bool,\n  loadCurrentUser: PropTypes.func.isRequired\n};\n\nRouting.defaultProps = {\n  isAuthorized: false,\n  user: {},\n  isLoading: true\n};\n\nconst actions = { loadCurrentUser, logout, applyNewPost, applyUpdatePost, applyDeletePost };\n\nconst mapStateToProps = ({ profile }) => ({\n  isAuthorized: profile.isAuthorized,\n  user: profile.user,\n  isLoading: profile.isLoading\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators(actions, dispatch);\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Routing);\n","import {\n  SHOW_MODAL_MESS\n} from './actionTypes';\n\nconst initialShow = { modalWnd: false };\n\nexport default (state = initialShow, action) => {\n  switch (action.type) {\n    case SHOW_MODAL_MESS:\n      return {\n        ...state,\n        modalWnd: action.showing\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  createStore,\n  applyMiddleware,\n  compose,\n  combineReducers\n} from 'redux';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport thunk from 'redux-thunk';\nimport { createBrowserHistory } from 'history';\n// import { composeWithDevTools } from 'redux-devtools-extension';\n\nimport threadReducer from './containers/Thread/reducer';\nimport arhivReducer from './containers/Arhiv/reducer';\nimport modalReducer from './containers/Thread/reducerModal';\nimport profileReducer from './containers/Profile/reducer';\n\nexport const history = createBrowserHistory();\n\nconst initialState = {};\n\nconst middlewares = [\n  thunk,\n  routerMiddleware(history)\n];\n\nconst composedEnhancers = compose(\n  applyMiddleware(...middlewares)\n);\n\nconst reducers = {\n  posts: threadReducer,\n  profile: profileReducer,\n  modals: modalReducer,\n  arhiv: arhivReducer\n};\n\nconst rootReducer = combineReducers({\n  router: connectRouter(history),\n  ...reducers\n});\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composedEnhancers\n);\n\nexport default store;\n","import {\n  SET_ALL_POSTS,\n  LOAD_MORE_POSTS,\n  ADD_POST,\n  SET_EXPANDED_POST,\n  SET_EDIT_EDIT,\n  SET_INFO_POST_PANEL,\n  SET_INFO_COMMENT_PANEL\n} from './actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case SET_ALL_POSTS:\n      return {\n        ...state,\n        posts: action.posts,\n        hasMorePosts: Boolean(action.posts.length)\n      };\n    case LOAD_MORE_POSTS:\n      return {\n        ...state,\n        posts: [...(state.posts || []), ...action.posts],\n        hasMorePosts: Boolean(action.posts.length)\n      };\n    case ADD_POST:\n      return {\n        ...state,\n        posts: [action.post, ...state.posts]\n      };\n    case SET_EXPANDED_POST:\n      return {\n        ...state,\n        expandedPost: action.post\n      };\n    case SET_EDIT_EDIT:\n      return {\n        ...state,\n        expandedEdit: action.editpost\n      };\n    case SET_INFO_POST_PANEL:\n      return {\n        ...state,\n        expandedPostInfo: action.infolist\n      };\n    case SET_INFO_COMMENT_PANEL:\n      return {\n        ...state,\n        expandedCommentInfo: action.infolist\n      };\n    default:\n      return state;\n  }\n};\n","import { SET_USER } from './actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case SET_USER:\n      return {\n        ...state,\n        user: action.user,\n        isAuthorized: Boolean(action.user?.id),\n        isLoading: false\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  LOAD_ALL_ARHIV_POSTS,\n  LOAD_MORE_ARHIV_POSTS\n} from './actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case LOAD_ALL_ARHIV_POSTS:\n      return {\n        ...state,\n        posts: action.posts,\n        hasMorePosts: Boolean(action.posts.length)\n      };\n    case LOAD_MORE_ARHIV_POSTS:\n      return {\n        ...state,\n        posts: [...(state.posts || []), ...action.posts],\n        hasMorePosts: Boolean(action.posts.length)\n      };\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport Routing from 'src/containers/Routing';\nimport store, { history } from 'src/store';\nimport { ModalMessage } from '../../components/Messages/index';\n\nconst Home = () => (\n  <>\n    <Provider store={store}>\n      <ConnectedRouter history={history}>\n        <Routing />\n      </ConnectedRouter>\n      <ModalMessage />\n    </Provider>\n  </>\n);\n\nexport default Home;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport Home from './scenes/Home';\n\nimport './styles/reset.scss';\nimport 'semantic-ui-css/semantic.min.css';\nimport './styles/common.scss';\n\nconst target = document.getElementById('root');\nrender(<Home />, target);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profInput\":\"styles_profInput__1I0G_\",\"profPass\":\"styles_profPass__2sN-1\",\"profButton\":\"styles_profButton__33PKM\"};"],"sourceRoot":""}